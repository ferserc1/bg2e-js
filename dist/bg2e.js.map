{"version":3,"file":"bg2e.js","mappings":"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","sources":["webpack://bg2e/webpack/universalModuleDefinition","webpack://bg2e/webpack/runtime/load script","webpack://bg2e/./src/js/utils/WebGLUtils.js","webpack://bg2e/./src/js/utils/UserAgent.js","webpack://bg2e/./src/js/utils/Path.js","webpack://bg2e/./src/js/utils/ResourceProvider.js","webpack://bg2e/./src/js/utils/HTTPResourceProvider.js","webpack://bg2e/./src/js/utils/Resource.js","webpack://bg2e/./src/js/utils/Engine.js","webpack://bg2e/./src/js/utils/LifeCycle.js","webpack://bg2e/./src/js/utils/md5.js","webpack://bg2e/./src/js/utils/index.js","webpack://bg2e/./src/js/utils/endianness.js","webpack://bg2e/./src/js/app/Canvas.js","webpack://bg2e/./src/js/app/ContextObject.js","webpack://bg2e/./src/js/app/EventBase.js","webpack://bg2e/./src/js/app/KeyboardEvent.js","webpack://bg2e/./src/js/app/MouseEvent.js","webpack://bg2e/./src/js/app/TouchEvent.js","webpack://bg2e/./src/js/app/Mouse.js","webpack://bg2e/./src/js/app/MainLoop.js","webpack://bg2e/./src/js/app/WindowController.js","webpack://bg2e/./src/js/app/index.js","webpack://bg2e/./src/js/base/Shader.js","webpack://bg2e/./src/js/base/Effect.js","webpack://bg2e/./src/js/base/Loader.js","webpack://bg2e/./src/js/math/constants.js","webpack://bg2e/./src/js/math/Vector.js","webpack://bg2e/./src/js/math/Matrix3.js","webpack://bg2e/./src/js/math/functions.js","webpack://bg2e/./src/js/math/Matrix4.js","webpack://bg2e/./src/js/base/PolyList.js","webpack://bg2e/./src/js/base/ShaderLibrary.js","webpack://bg2e/./src/js/base/ShaderSource.js","webpack://bg2e/./src/js/base/TextureCache.js","webpack://bg2e/./src/js/base/TextureLoaderPlugin.js","webpack://bg2e/./src/js/base/Texture.js","webpack://bg2e/./src/js/base/TextureEffect.js","webpack://bg2e/./src/js/base/MaterialFlag.js","webpack://bg2e/./src/js/base/MaterialModifier.js","webpack://bg2e/./src/js/base/Material.js","webpack://bg2e/./src/js/base/Bg2matLoaderPlugin.js","webpack://bg2e/./src/js/base/VideoTextureLoaderPlugin.js","webpack://bg2e/./src/js/base/imageTools.js","webpack://bg2e/./src/js/base/index.js","webpack://bg2e/./src/js/math/Bounds.js","webpack://bg2e/./src/js/math/Quaternion.js","webpack://bg2e/./src/index.js","webpack://bg2e/./src/js/math/index.js","webpack://bg2e/./src/js/utils/Electron.js","webpack://bg2e/webpack/bootstrap","webpack://bg2e/webpack/runtime/define property getters","webpack://bg2e/webpack/runtime/ensure chunk","webpack://bg2e/webpack/runtime/get javascript chunk filename","webpack://bg2e/webpack/runtime/global","webpack://bg2e/webpack/runtime/harmony module decorator","webpack://bg2e/webpack/runtime/hasOwnProperty shorthand","webpack://bg2e/webpack/runtime/make namespace object","webpack://bg2e/webpack/runtime/publicPath","webpack://bg2e/webpack/runtime/jsonp chunk loading","webpack://bg2e/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bg2e\"] = factory();\n\telse\n\t\troot[\"bg2e\"] = factory();\n})(self, function() {\nreturn ","var inProgress = {};\nvar dataWebpackPrefix = \"bg2e:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","\nexport const setupRequestAnimFrame = () => {\n    window.requestAnimFrame = (function() {\n        return window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame ||\n            function(callback) { window.setTimeout(callback,1000/60); };\n    })();    \n}\n\nexport const initWebGLContext = (canvas) => {\n    let context = {\n        gl:null,\n        supported:false,\n        experimental:false\n    }\n    try {\n        context.gl = canvas.getContext(\"webgl\",{ preserveDrawingBuffer:true });\n        context.supported = context.gl!=null;\n    }\n    catch (e) {\n        context.supported = false;\n    }\n    \n    if (!context.supported) {\n        try {\n            context.gl = canvas.getContext(\"experimental-webgl\", { preserveDrawingBuffer:true });\n            context.supported = context.gl!=null;\n            context.experimental = true;\n        }\n        catch(e) {\n        }\n    }\n    \n    if (context) {\n        context.gl.uuid = Symbol(context.gl);\n    }\n    return context;\n}\n\n\n","\n\nexport default class UserAgent {\n    constructor(userAgentString) {\n        this.system = {};\n        this.browser = {};\n        \n        if (!userAgentString) {\n            userAgentString = navigator.userAgent;\n        }\n        this.parseOperatingSystem(userAgentString);\n        this.parseBrowser(userAgentString);\n    }\n\n    parseOperatingSystem(userAgentString) {\n        this.system.OSX = /Macintosh/.test(userAgentString);\n        this.system.Windows = /Windows/.test(userAgentString);\n        this.system.iPhone = /iPhone/.test(userAgentString);\n        this.system.iPodTouch = /iPod/.test(userAgentString);\n        this.system.iPad = /iPad/.test(userAgentString);\n        this.system.iOS = this.system.iPhone || this.system.iPad || this.system.iPodTouch;\n        this.system.Android = /Android/.test(userAgentString);\n        this.system.Linux = (this.system.Android) ? false:/Linux/.test(userAgentString);\n\n        if (this.system.OSX) {\n            this.system.OSName = \"OS X\";\n            this.parseOSXVersion(userAgentString);\n        }\n        else if (this.system.Windows) {\n            this.system.OSName = \"Windows\";\n            this.parseWindowsVersion(userAgentString);\n        }\n        else if (this.system.Linux) {\n            this.system.OSName = \"Linux\";\n            this.parseLinuxVersion(userAgentString);\n        }\n        else if (this.system.iOS) {\n            this.system.OSName = \"iOS\";\n            this.parseIOSVersion(userAgentString);\n        }\n        else if (this.system.Android) {\n            this.system.OSName = \"Android\";\n            this.parseAndroidVersion(userAgentString);\n        }\n    }\n\n    parseBrowser(userAgentString) {\n        // Safari: Version/X.X.X Safari/XXX\n        // Chrome: Chrome/XX.X.XX.XX Safari/XXX\n        // Opera: Opera/X.XX\n        // Firefox: Gecko/XXXXXX Firefox/XX.XX.XX\n        // Explorer: MSIE X.X\n        this.browser.Version = {};\n        this.browser.Safari = /Version\\/([\\d\\.]+) Safari\\//.test(userAgentString);\n        if (this.browser.Safari) {\n            this.browser.Name = \"Safari\";\n            this.browser.Vendor = \"Apple\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Chrome = /Chrome\\/([\\d\\.]+) Safari\\//.test(userAgentString);\n        if (this.browser.Chrome) {\n            this.browser.Name = \"Chrome\";\n            this.browser.Vendor = \"Google\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Opera = /Opera\\/[\\d\\.]+/.test(userAgentString);\n        if (this.browser.Opera) {\n            this.browser.Name = \"Opera\";\n            this.browser.Vendor = \"Opera Software\";\n            var versionString = /Version\\/([\\d\\.]+)/.test(userAgentString);\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Firefox = /Gecko\\/[\\d\\.]+ Firefox\\/([\\d\\.]+)/.test(userAgentString);\n        if (this.browser.Firefox) {\n            this.browser.Name = \"Firefox\";\n            this.browser.Vendor = \"Mozilla Foundation\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Edge = /Edge\\/(.*)/.test(userAgentString);\n        if (this.browser.Edge) {\n            var result = /Edge\\/(.*)/.exec(userAgentString);\n            this.browser.Name = \"Edge\";\n            this.browser.Chrome = false;\n            this.browser.Vendor = \"Microsoft\";\n            this.browser.Version.versionString = result[1];\n        } \n\n        this.browser.Explorer = /MSIE ([\\d\\.]+)/.test(userAgentString);\n        if (!this.browser.Explorer) {\n            var re = /\\Mozilla\\/5.0 \\(([^)]+)\\) like Gecko/\n            var matches = re.exec(userAgentString);\n            if (matches) {\n                re = /rv:(.*)/\n                var version = re.exec(matches[1]);\n                this.browser.Explorer = true;\n                this.browser.Name = \"Internet Explorer\";\n                this.browser.Vendor = \"Microsoft\";\n                if (version) {\n                    this.browser.Version.versionString = version[1];\n                }\n                else {\n                    this.browser.Version.versionString = \"unknown\";\n                }\n            }\n        }\n        else {\n            this.browser.Name = \"Internet Explorer\";\n            this.browser.Vendor = \"Microsoft\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        if (this.system.iOS) {\n            this.browser.IsMobileVersion = true;\n            this.browser.MobileSafari = /Version\\/([\\d\\.]+) Mobile/.test(userAgentString);\n            if (this.browser.MobileSafari) {\n                this.browser.Name = \"Mobile Safari\";\n                this.browser.Vendor = \"Apple\";\n                this.browser.Version.versionString = RegExp.$1;\n            }\n            this.browser.Android = false;\n        }\n        else if (this.system.Android) {\n            this.browser.IsMobileVersion = true;\n            this.browser.Android = /Version\\/([\\d\\.]+) Mobile/.test(userAgentString);\n            if (this.browser.MobileSafari) {\n                this.browser.Name = \"Android Browser\";\n                this.browser.Vendor = \"Google\";\n                this.browser.Version.versionString = RegExp.$1;\n            }\n            else {\n                this.browser.Chrome = /Chrome\\/([\\d\\.]+)/.test(userAgentString);\n                this.browser.Name = \"Chrome\";\n                this.browser.Vendor = \"Google\";\n                this.browser.Version.versionString = RegExp.$1;\n            }\n\n            this.browser.Safari = false;\n        }\n        else {\n            this.browser.IsMobileVersion = false;\n        }\n\n        this.parseBrowserVersion(userAgentString);\n    }\n\n    parseBrowserVersion(userAgentString) {\n        if (/([\\d]+)\\.([\\d]+)\\.*([\\d]*)/.test(this.browser.Version.versionString)) {\n            this.browser.Version.major = Number(RegExp.$1);\n            this.browser.Version.minor = Number(RegExp.$2);\n            this.browser.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n        }\n    }\n\n    parseOSXVersion(userAgentString) {\n        var versionString = (/Mac OS X (\\d+_\\d+_*\\d*)/.test(userAgentString)) ? RegExp.$1:'';\n        this.system.Version = {};\n        // Safari/Chrome\n        if (versionString!='') {\n            if (/(\\d+)_(\\d+)_*(\\d*)/.test(versionString)) {\n                this.system.Version.major = Number(RegExp.$1);\n                this.system.Version.minor = Number(RegExp.$2);\n                this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            }\n        }\n        // Firefox/Opera\n        else {\n            versionString = (/Mac OS X (\\d+\\.\\d+\\.*\\d*)/.test(userAgentString)) ? RegExp.$1:'Unknown';\n            if (/(\\d+)\\.(\\d+)\\.*(\\d*)/.test(versionString)) {\n                this.system.Version.major = Number(RegExp.$1);\n                this.system.Version.minor = Number(RegExp.$2);\n                this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            }\n        }\n        if (!this.system.Version.major) {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.revision = 0;\n        }\n        this.system.Version.stringValue = this.system.Version.major + '.' + this.system.Version.minor + '.' + this.system.Version.revision;\n        switch (this.system.Version.minor) {\n            case 0:\n                this.system.Version.name = \"Cheetah\";\n                break;\n            case 1:\n                this.system.Version.name = \"Puma\";\n                break;\n            case 2:\n                this.system.Version.name = \"Jaguar\";\n                break;\n            case 3:\n                this.system.Version.name = \"Panther\";\n                break;\n            case 4:\n                this.system.Version.name = \"Tiger\";\n                break;\n            case 5:\n                this.system.Version.name = \"Leopard\";\n                break;\n            case 6:\n                this.system.Version.name = \"Snow Leopard\";\n                break;\n            case 7:\n                this.system.Version.name = \"Lion\";\n                break;\n            case 8:\n                this.system.Version.name = \"Mountain Lion\";\n                break;\n        }\n    }\n\n    parseWindowsVersion(userAgentString) {\n        this.system.Version = {};\n        if (/NT (\\d+)\\.(\\d*)/.test(userAgentString)) {\n            this.system.Version.major = Number(RegExp.$1);\n            this.system.Version.minor = Number(RegExp.$2);\n            this.system.Version.revision = 0;\t// Solo por compatibilidad\n            this.system.Version.stringValue = \"NT \" + this.system.Version.major + \".\" + this.system.Version.minor;\n            var major = this.system.Version.major;\n            var minor = this.system.Version.minor;\n            var name = 'undefined';\n            if (major==5) {\n                if (minor==0) this.system.Version.name = '2000';\n                else this.system.Version.name = 'XP';\n            }\n            else if (major==6) {\n                if (minor==0) this.system.Version.name = 'Vista';\n                else if (minor==1) this.system.Version.name = '7';\n                else if (minor==2) this.system.Version.name = '8';\n            }\n        }\n        else {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.name = \"Unknown\";\n            this.system.Version.stringValue = \"Unknown\";\n        }\n    }\n\n    parseLinuxVersion(userAgentString) {\n        this.system.Version = {};\n        this.system.Version.major = 0;\n        this.system.Version.minor = 0;\n        this.system.Version.revision = 0;\n        this.system.Version.name = \"\";\n        this.system.Version.stringValue = \"Unknown distribution\";\n    }\n\n    parseIOSVersion(userAgentString) {\n        this.system.Version = {};\n        if (/iPhone OS (\\d+)_(\\d+)_*(\\d*)/i.test(userAgentString)) {\n            this.system.Version.major = Number(RegExp.$1);\n            this.system.Version.minor = Number(RegExp.$2);\n            this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            this.system.Version.stringValue = this.system.Version.major + \".\" + this.system.Version.minor + '.' + this.system.Version.revision;\n            this.system.Version.name = \"iOS\";\n        }\n        else {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.name = \"Unknown\";\n            this.system.Version.stringValue = \"Unknown\";\n        }\n    }\n\n    parseAndroidVersion(userAgentString) {\n        this.system.Version = {};\n        if (/Android (\\d+)\\.(\\d+)\\.*(\\d*)/.test(userAgentString)) {\n            this.system.Version.major = Number(RegExp.$1);\n            this.system.Version.minor = Number(RegExp.$2);\n            this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            this.system.Version.stringValue = this.system.Version.major + \".\" + this.system.Version.minor + '.' + this.system.Version.revision;\n        }\n        else {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.revision = 0;\n        }\n        if (/Build\\/([a-zA-Z]+)/.test(userAgentString)) {\n            this.system.Version.name = RegExp.$1;\n        }\n        else {\n            this.system.Version.name = \"Unknown version\";\n        }\n        this.system.Version.stringValue = this.system.Version.major + \".\" + this.system.Version.minor + '.' + this.system.Version.revision;\n    }\n\n    getInfoString() {\n        return navigator.userAgent;\n    }\n}\n","\nexport default class Path {\n    get sep() { return \"/\"; }\n\n    join(a,b) {\n        if (a.lastIndexOf(this.sep)!=a.length-1) {\n            return a + this.sep + b;\n        }\n        else {\n            return a + b;\n        }\n    }\n\n    extension(path) {\n        return path.split(\".\").pop();\n    }\n\n    fileName(path) {\n        return path.split(this.sep).pop();\n    }\n\n    removeFileName(path) {\n        let result = path.split(this.sep);\n        result.pop();\n        return result.join(this.sep);\n    }\n}\n","window.s_bg_utils_preventImageDump = window.s_bg_utils_preventImageDump || [];\nwindow.s_bg_utils_preventVideoDump = window.s_bg_utils_preventVideoDump || [];\n\nexport const beginImageLoad = (img) => {\n    window.s_bg_utils_preventImageDump.push(img);\n}\n\nexport const endImageLoad = (img) => {\n    const index = window.s_bg_utils_preventImageDump.indexOf(img);\n    if (index !== -1) {\n        window.s_bg_utils_preventImageDump.splice(index, 1);\n    }\n}\n\nexport const beginVideoLoad = (video) => {\n    window.s_bg_utils_preventVideoDump.push(video);\n}\n\nexport const endVideoLoad = (video) => {\n    const index = window.s_bg_utils_preventVideoDump.indexOf(video);\n    if (index !== -1) {\n        window.s_bg_utils_preventVideoDump.splice(index, 1);\n    }\n}\n\nexport default class ResourceProvider {\n    getRequest(url,onSuccess,onFail,onProgress) {}\n    loadImage(url,onSucces,onFail) {}\n    loadVideo(url,onSuccess,onFail) {}\n}\n\n","\nimport ResourceProvider, {\n    beginVideoLoad,\n    endVideoLoad,\n    beginImageLoad,\n    endImageLoad\n} from \"./ResourceProvider\";\n\nwindow.s_bg_utils_videoLoaders = window.s_bg_utils_videoLoaders || {};\nwindow.s_bg_utils_videoLoaders[\"mp4\"] = function(url,onSuccess,onFail) {\n    const video = document.createElement('video');\n    beginVideoLoad(video);\n    video.crossOrigin = \"\";\n    video.autoplay = true;\n    video.setAttribute(\"playsinline\",null);\n    video.addEventListener('canplay',(evt) => {\n        endVideoLoad(evt.target);\n        onSuccess(evt.target);\n    });\n    video.addEventListener(\"error\",(evt) => {\n        onFail(new Error(`Error loading video: ${url}`));\n    });\n    video.addEventListener(\"abort\",(evt) => {\n        onFail(new Error(`Error loading video: ${url}`));\n    });\n    video.src = url;\n}\nwindow.s_bg_utils_videoLoaders[\"m4v\"] = window.s_bg_utils_videoLoaders[\"mp4\"];\n\nexport default class HTTPResourceProvider extends ResourceProvider {\n    static AddVideoLoader(type,callback) {\n        window.s_bg_utils_videoLoaders[type] = callback;\n    }\n\n    static GetVideoLoaderForType(type) {\n        return window.s_bg_utils_videoLoaders[type];\n    }\n\n    static GetCompatibleVideoFormats() {\n        return Object.keys(window.s_bg_utils_videoLoaders);\n    }\n\n    static IsVideoCompatible(videoUrl) {\n        let ext = Resource.GetExtension(videoUrl);\n        return bg.utils.HTTPResourceProvider.GetCompatibleVideoFormats().indexOf(ext)!=-1;\n    }\n\n    getRequest(url,onSuccess,onFail,onProgress) {\n        var req = new XMLHttpRequest();\n        if (!onProgress) {\n            onProgress = function(progress) {\n                console.log(`Loading ${ progress.file }: ${ progress.loaded / progress.total * 100 } %`);\n            }\n        }\n        req.open(\"GET\",url,true);\n        req.addEventListener(\"load\", function() {\n            if (req.status===200) {\n                onSuccess(req);\n            }\n            else {\n                onFail(new Error(`Error receiving data: ${req.status}, url: ${url}`));\n            }\n        }, false);\n        req.addEventListener(\"error\", function() {\n            onFail(new Error(`Cannot make AJAX request. Url: ${url}`));\n        }, false);\n        req.addEventListener(\"progress\", function(evt) {\n            onProgress({ file:url, loaded:evt.loaded, total:evt.total });\n        }, false);\n        return req;\n    }\n\n    loadImage(url,onSuccess,onFail) {\n        var img = new Image();\n        beginImageLoad(img);\n        img.crossOrigin = \"\";\n        img.addEventListener(\"load\",function(event) {\n            endImageLoad(event.target);\n            onSuccess(event.target);\n        });\n        img.addEventListener(\"error\",function(event) {\n            onFail(new Error(`Error loading image: ${url}`));\n        });\n        img.addEventListener(\"abort\",function(event) {\n            onFail(new Error(`Image load aborted: ${url}`));\n        });\n        img.src = url + '?' + bg.utils.generateUUID();\n    }\n\n    loadVideo(url,onSuccess,onFail) {\n        let ext = Resource.GetExtension(url);\n        let loader = bg.utils.HTTPResourceProvider.GetVideoLoaderForType(ext);\n        if (loader) {\n            loader.apply(this,[url,onSuccess,onFail]);\n        }\n        else {\n            onFail(new Error(`Could not find video loader for resource: ${ url }`));\n        }\n    }\n}","\nimport HTTPResourceProvider from \"./HTTPResourceProvider\";\n\nlet g_resourceProvider = new HTTPResourceProvider();\n\nexport const IMG_LOAD_EVENT_NAME = \"bg2e:image-load\";\n\nexport const emitImageLoadEvent = (img) => {\n    const event = new CustomEvent(IMG_LOAD_EVENT_NAME, { image: img });\n    document.dispatchEvent(event);\n}\n\nexport const bindImageLoadEvent = (callback) => {\n    return document.addEventListener(IMG_LOAD_EVENT_NAME, callback);\n}\n\nexport const requireGlobal = (src) => {\n    const s = document.createElement('script');\n    s.src = src;\n    s.type = \"text/javascript\";\n    s.async = false;\n    document.getElementsByTagName('head')[0].appendChild(s);\n}\n\nexport default class Resource {\n    static SetResourceProvider(provider) {\n        g_resourceProvider = provider;\n    }\n\n    static GetResourceProvider() {\n        return g_resourceProvider;\n    }\n\n    static GetExtension(url) {\n        let match = /\\.([a-z0-9-_]*)(\\?.*)?(\\#.*)?$/i.exec(url);\n        return (match && match[1].toLowerCase()) || \"\";\n    }\n    \n    static JoinUrl(url,path) {\n        if (url.length==0) return path;\n        if (path.length==0) return url;\n        return /\\/$/.test(url) ? url + path : url + \"/\" + path;\n    }\n    \n    static IsFormat(url,formats) {\n        return formats.find(function(fmt) {\n                return fmt==this;\n            },Resource.GetExtension(url))!=null;\n    }\n    \n    static IsImage(url) {\n        return Resource.IsFormat(url,[\"jpg\",\"jpeg\",\"gif\",\"png\"]);\n    }\n    \n    static IsBinary(url,binaryFormats = [\"vwglb\",\"bg2\"]) {\n        return Resource.IsFormat(url,binaryFormats);\n    }\n\n    static IsVideo(url,videoFormats = [\"mp4\",\"m4v\",\"ogg\",\"ogv\",\"m3u8\",\"webm\"]) {\n        return Resource.IsFormat(url,videoFormats);\n    }\n    \n    static LoadMultiple(urlArray,onProgress) {\n        let progressFiles = {}\n\n        let progressFunc = function(progress) {\n            progressFiles[progress.file] = progress;\n            let total = 0;\n            let loaded = 0;\n            for (let key in progressFiles) {\n                let file = progressFiles[key];\n                total += file.total;\n                loaded += file.loaded;\n            }\n            if (onProgress) {\n                onProgress({ fileList:urlArray, total:total, loaded:loaded });\n            }\n            else {\n                console.log(`Loading ${ Object.keys(progressFiles).length } files: ${ loaded / total * 100}% completed`);\n            }\n        }\n\n        let resources = [];\n        urlArray.forEach(function(url) {\n            resources.push(Resource.Load(url,progressFunc));\n        });\n\n        let resolvingPromises = resources.map(function(promise) {\n            return new Promise(function(resolve) {\n                let payload = new Array(2);\n                promise.then(function(result) {\n                    payload[0] = result;\n                })\n                .catch(function(error) {\n                    payload[1] = error;\n                })\n                .then(function() {\n                    resolve(payload);\n                });\n            });\n        });\n\n        let errors = [];\n        let results = [];\n\n        return Promise.all(resolvingPromises)\n            .then(function(loadedData) {\n                let result = {};\n                urlArray.forEach(function(url,index) {\n                    let pl = loadedData[index];\n                    result[url] = pl[1] ? null : pl[0];\n                });\n                return result;\n            });\n    }\n    \n    static Load(url,onProgress) {\n        let loader = null;\n        switch (true) {\n            case url.constructor===Array:\n                loader = Resource.LoadMultiple;\n                break;\n            case Resource.IsImage(url):\n                loader = Resource.LoadImage;\n                break;\n            case Resource.IsBinary(url):\n                loader = Resource.LoadBinary;\n                break;\n            case Resource.IsVideo(url):\n                loader = Resource.LoadVideo;\n                break;\n            case Resource.GetExtension(url)=='json':\n                loader = Resource.LoadJson;\n                break;\n            default:\n                loader = Resource.LoadText;\n        }\n        return loader(url,onProgress);\n    }\n    \n    static LoadText(url,onProgress) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.getRequest(url,\n                function(req) {\n                    resolve(req.responseText);\n                },\n                function(error) {\n                    reject(error);\n                },onProgress).send();\n        });\n    }\n\n    static LoadVideo(url,onProgress) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.loadVideo(\n                url,\n                (target) => {\n                    resolve(target);\n                    emitImageLoadEvent(target);\n                },\n                (err) => {\n                    reject(err);\n                }\n            );\n        });\n    }\n    \n    static LoadBinary(url,onProgress) {\n        return new Promise(function(resolve,reject) {\n            var req = g_resourceProvider.getRequest(url,\n                    function(req) {\n                        resolve(req.response);\n                    },\n                    function(error) {\n                        reject(error);\n                    },onProgress);\n            req.responseType = \"arraybuffer\";\n            req.send();\n        });\n    }\n    \n    static LoadImage(url) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.loadImage(\n                url,\n                (target) => {\n                    resolve(target);\n                    emitImageLoadEvent(target);\n                },\n                (err) => {\n                    reject(err);\n                }\n            );\n        });\n    }\n    \n    static LoadJson(url) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.getRequest(url,\n                function(req) {\n                    try {\n                        resolve(JSON.parse(req.responseText));\n                    }\n                    catch(e) {\n                        reject(new Error(\"Error parsing JSON data\"));\n                    }\n                },\n                function(error) {\n                    reject(error);\n                }).send();\n        });\n    }\n}","\nwindow.s_bg_utils_Engine = null;\n\nexport default class Engine {\n    static Set(engine) {\n        window.s_bg_utils_Engine = engine;\n    }\n    \n    static Get() {\n        return window.s_bg_utils_Engine;\n    }\n\n    constructor() {\n        this._shaderLibrary = {\n            inputs: {},\n            functions: {}\n        }\n    }\n    \n    get id() { return this._engineId; }\n    \n    get texture() { return this._texture; }\n    get pipeline() { return this._pipeline; }\n    get polyList() { return this._polyList; }\n    get shader() { return this._shader; }\n    get colorBuffer() { return this._colorBuffer; }\n    get textureBuffer() { return this._textureBuffer; }\n    get shaderSource() { return this._shaderSource; }\n    get cubemapCapture() { return this._cubemapCapture; }\n    get textureMerger() { return this._textureMerger; }\n}\n","\nexport default class LifeCycle {\n    init() {}\n    frame(delta) {}\n\n    displayGizmo(pipeline,matrixState) {}\n    \n    ////// Direct rendering methods: will be deprecated soon\n    willDisplay(pipeline,matrixState) {}\n    display(pipeline,matrixState,forceDraw=false) {}\n    didDisplay(pipeline,matrixState) {}\n    ////// End direct rendering methods\n\n    ////// Render queue methods\n    willUpdate(modelMatrixStack,viewMatrixStack,projectionMatrixStack) {}\n    draw(renderQueue,modelMatrixStack,viewMatrixStack,projectionMatrixStack) {}\n    didUpdate(modelMatrixStack,viewMatrixStack,projectionMatrixStack) {}\n    ////// End render queue methods\n\n    reshape(pipeline,matrixState,width,height) {}\n    keyDown(evt) {}\n    keyUp(evt) {}\n    mouseUp(evt) {}\n    mouseDown(evt) {}\n    mouseMove(evt) {}\n    mouseOut(evt) {}\n    mouseDrag(evt) {}\n    mouseWheel(evt) {}\n    touchStart(evt) {}\n    touchMove(evt) {}\n    touchEnd(evt) {}\n\n    // Utility functions: do not override\n    // 4 frames to ensure that the reflections are fully updated\n    postRedisplay(frames=4) {\n        bg.app.MainLoop.singleton.postRedisplay(frames);\n    }\n\n    postReshape() {\n        bg.app.MainLoop.singleton.postReshape();\n    }\n}\n","!function(r){function n(r){for(var n=\"\",t=\"\",o=0,e=0,a=0,i=r.length;i>a;a++){var f=r.charCodeAt(a);128>f?e++:(t=2048>f?String.fromCharCode(f>>6|192,63&f|128):String.fromCharCode(f>>12|224,f>>6&63|128,63&f|128),e>o&&(n+=r.slice(o,e)),n+=t,o=e=a+1)}return e>o&&(n+=r.slice(o,i)),n}function t(r){var n,t;if(r+=\"\",s=!1,v=w=r.length,w>63){for(o(r.substring(0,64)),i(A),s=!0,n=128;w>=n;n+=64)o(r.substring(n-64,n)),f(A);r=r.substring(n-64),w=r.length}for(d[0]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,n=0;w>n;n++)t=3&n,0===t?d[n>>2]=r.charCodeAt(n):d[n>>2]|=r.charCodeAt(n)<<C[t];return d[n>>2]|=h[3&n],n>55?(s?f(d):(i(d),s=!0),f([0,0,0,0,0,0,0,0,0,0,0,0,0,0,v<<3,0])):(d[14]=v<<3,void(s?f(d):i(d)))}function o(r){for(var n=16;n--;){var t=n<<2;A[n]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24)}}function e(r,o,e){t(o?r:n(r));var a=g[0];return u[1]=l[15&a],u[0]=l[15&(a>>=4)],u[3]=l[15&(a>>=4)],u[2]=l[15&(a>>=4)],u[5]=l[15&(a>>=4)],u[4]=l[15&(a>>=4)],u[7]=l[15&(a>>=4)],u[6]=l[15&(a>>=4)],a=g[1],u[9]=l[15&a],u[8]=l[15&(a>>=4)],u[11]=l[15&(a>>=4)],u[10]=l[15&(a>>=4)],u[13]=l[15&(a>>=4)],u[12]=l[15&(a>>=4)],u[15]=l[15&(a>>=4)],u[14]=l[15&(a>>=4)],a=g[2],u[17]=l[15&a],u[16]=l[15&(a>>=4)],u[19]=l[15&(a>>=4)],u[18]=l[15&(a>>=4)],u[21]=l[15&(a>>=4)],u[20]=l[15&(a>>=4)],u[23]=l[15&(a>>=4)],u[22]=l[15&(a>>=4)],a=g[3],u[25]=l[15&a],u[24]=l[15&(a>>=4)],u[27]=l[15&(a>>=4)],u[26]=l[15&(a>>=4)],u[29]=l[15&(a>>=4)],u[28]=l[15&(a>>=4)],u[31]=l[15&(a>>=4)],u[30]=l[15&(a>>=4)],e?u:u.join(\"\")}function a(r,n,t,o,e,a,i){return n+=r+o+i,(n<<e|n>>>a)+t<<0}function i(r){c(0,0,0,0,r),g[0]=y[0]+1732584193<<0,g[1]=y[1]-271733879<<0,g[2]=y[2]-1732584194<<0,g[3]=y[3]+271733878<<0}function f(r){c(g[0],g[1],g[2],g[3],r),g[0]=y[0]+g[0]<<0,g[1]=y[1]+g[1]<<0,g[2]=y[2]+g[2]<<0,g[3]=y[3]+g[3]<<0}function c(r,n,t,o,e){var i,f;s?(r=a((t^o)&n^o,r,n,e[0],7,25,-680876936),o=a((n^t)&r^t,o,r,e[1],12,20,-389564586),t=a((r^n)&o^n,t,o,e[2],17,15,606105819),n=a((o^r)&t^r,n,t,e[3],22,10,-1044525330)):(r=e[0]-680876937,r=(r<<7|r>>>25)-271733879<<0,o=e[1]-117830708+(2004318071&r^-1732584194),o=(o<<12|o>>>20)+r<<0,t=e[2]-1126478375+((-271733879^r)&o^-271733879),t=(t<<17|t>>>15)+o<<0,n=e[3]-1316259209+((o^r)&t^r),n=(n<<22|n>>>10)+t<<0),r=a((t^o)&n^o,r,n,e[4],7,25,-176418897),o=a((n^t)&r^t,o,r,e[5],12,20,1200080426),t=a((r^n)&o^n,t,o,e[6],17,15,-1473231341),n=a((o^r)&t^r,n,t,e[7],22,10,-45705983),r=a((t^o)&n^o,r,n,e[8],7,25,1770035416),o=a((n^t)&r^t,o,r,e[9],12,20,-1958414417),t=a((r^n)&o^n,t,o,e[10],17,15,-42063),n=a((o^r)&t^r,n,t,e[11],22,10,-1990404162),r=a((t^o)&n^o,r,n,e[12],7,25,1804603682),o=a((n^t)&r^t,o,r,e[13],12,20,-40341101),t=a((r^n)&o^n,t,o,e[14],17,15,-1502002290),n=a((o^r)&t^r,n,t,e[15],22,10,1236535329),r=a((n^t)&o^t,r,n,e[1],5,27,-165796510),o=a((r^n)&t^n,o,r,e[6],9,23,-1069501632),t=a((o^r)&n^r,t,o,e[11],14,18,643717713),n=a((t^o)&r^o,n,t,e[0],20,12,-373897302),r=a((n^t)&o^t,r,n,e[5],5,27,-701558691),o=a((r^n)&t^n,o,r,e[10],9,23,38016083),t=a((o^r)&n^r,t,o,e[15],14,18,-660478335),n=a((t^o)&r^o,n,t,e[4],20,12,-405537848),r=a((n^t)&o^t,r,n,e[9],5,27,568446438),o=a((r^n)&t^n,o,r,e[14],9,23,-1019803690),t=a((o^r)&n^r,t,o,e[3],14,18,-187363961),n=a((t^o)&r^o,n,t,e[8],20,12,1163531501),r=a((n^t)&o^t,r,n,e[13],5,27,-1444681467),o=a((r^n)&t^n,o,r,e[2],9,23,-51403784),t=a((o^r)&n^r,t,o,e[7],14,18,1735328473),n=a((t^o)&r^o,n,t,e[12],20,12,-1926607734),i=n^t,r=a(i^o,r,n,e[5],4,28,-378558),o=a(i^r,o,r,e[8],11,21,-2022574463),f=o^r,t=a(f^n,t,o,e[11],16,16,1839030562),n=a(f^t,n,t,e[14],23,9,-35309556),i=n^t,r=a(i^o,r,n,e[1],4,28,-1530992060),o=a(i^r,o,r,e[4],11,21,1272893353),f=o^r,t=a(f^n,t,o,e[7],16,16,-155497632),n=a(f^t,n,t,e[10],23,9,-1094730640),i=n^t,r=a(i^o,r,n,e[13],4,28,681279174),o=a(i^r,o,r,e[0],11,21,-358537222),f=o^r,t=a(f^n,t,o,e[3],16,16,-722521979),n=a(f^t,n,t,e[6],23,9,76029189),i=n^t,r=a(i^o,r,n,e[9],4,28,-640364487),o=a(i^r,o,r,e[12],11,21,-421815835),f=o^r,t=a(f^n,t,o,e[15],16,16,530742520),n=a(f^t,n,t,e[2],23,9,-995338651),r=a(t^(n|~o),r,n,e[0],6,26,-198630844),o=a(n^(r|~t),o,r,e[7],10,22,1126891415),t=a(r^(o|~n),t,o,e[14],15,17,-1416354905),n=a(o^(t|~r),n,t,e[5],21,11,-57434055),r=a(t^(n|~o),r,n,e[12],6,26,1700485571),o=a(n^(r|~t),o,r,e[3],10,22,-1894986606),t=a(r^(o|~n),t,o,e[10],15,17,-1051523),n=a(o^(t|~r),n,t,e[1],21,11,-2054922799),r=a(t^(n|~o),r,n,e[8],6,26,1873313359),o=a(n^(r|~t),o,r,e[15],10,22,-30611744),t=a(r^(o|~n),t,o,e[6],15,17,-1560198380),n=a(o^(t|~r),n,t,e[13],21,11,1309151649),r=a(t^(n|~o),r,n,e[4],6,26,-145523070),o=a(n^(r|~t),o,r,e[11],10,22,-1120210379),t=a(r^(o|~n),t,o,e[2],15,17,718787259),n=a(o^(t|~r),n,t,e[9],21,11,-343485551),y[0]=r,y[1]=n,y[2]=t,y[3]=o}var u=[],d=[],A=[],h=[],l=\"0123456789abcdef\".split(\"\"),C=[],g=[],s=!1,v=0,w=0,y=[];if(r.Int32Array)d=new Int32Array(16),A=new Int32Array(16),h=new Int32Array(4),C=new Int32Array(4),g=new Int32Array(4),y=new Int32Array(4);else{var I;for(I=0;16>I;I++)d[I]=A[I]=0;for(I=0;4>I;I++)h[I]=C[I]=g[I]=y[I]=0}h[0]=128,h[1]=32768,h[2]=8388608,h[3]=-2147483648,C[0]=0,C[1]=8,C[2]=16,C[3]=24,r.md5=r.md5||e}(\"undefined\"==typeof global?window:global);\n\nexport default md5;\n\nexport const generateUUID = () => {\n    let d = new Date().getTime();\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function'){\n        d += performance.now(); //use high-precision timer if available\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\n","import version from \"./version\";\nimport { setupRequestAnimFrame, initWebGLContext } from \"./WebGLUtils\";\nimport { isBigEndian, isLittleEndian } from \"./endianness\";\nimport UserAgent from \"./UserAgent\";\nimport Path from \"./Path\";\nimport ResourceProvider, {\n    beginImageLoad,\n    endImageLoad,\n    beginVideoLoad,\n    endVideoLoad\n} from \"./ResourceProvider\";\nimport HTTPResourceProvider from \"./HTTPResourceProvider\";\nimport Resource, {\n    IMG_LOAD_EVENT_NAME,\n    emitImageLoadEvent,\n    bindImageLoadEvent,\n    requireGlobal\n } from \"./Resource\";\nimport Engine from \"./Engine\";\nimport LifeCycle from \"./LifeCycle\";\nimport md5, {\n    generateUUID \n} from \"./md5\";\nimport Electron from \"./Electron\";\n\nconst utils = {\n    version,\n    setupRequestAnimFrame,\n    initWebGLContext,\n    isBigEndian,\n    isLittleEndian,\n    UserAgent,\n    userAgent: new UserAgent(),\n    Path,\n    path: new Path(),\n    ResourceProvider,\n    beginImageLoad,\n    endImageLoad,\n    beginVideoLoad,\n    endVideoLoad,\n    HTTPResourceProvider,\n    Resource,\n    IMG_LOAD_EVENT_NAME,\n    emitImageLoadEvent,\n    bindImageLoadEvent,\n    requireGlobal,\n    Engine,\n    LifeCycle,\n    md5,\n    generateUUID,\n    electron: new Electron()\n}\n\nexport default utils;\n","\nexport const isBigEndian = () => {\n    let arr32 = new Uint32Array(1);\n    let arr8 = new Uint8Array(arr32.buffer);\n    arr32[0] = 255;\n    return arr32[3]==255;\n};\n\nexport const isLittleEndian = () => {\n    let arr32 = new Uint32Array(1);\n    let arr8 = new Uint8Array(arr32.buffer);\n    arr32[0] = 255;\n    return arr32[0]==255;\n};\n\n","\nimport { initWebGLContext } from '../utils/WebGLUtils';\n\nexport default class Canvas {\n    constructor(domElem) {\t\t\n        let initContext = () => {\n            this._context = initWebGLContext(domElem);\n            return this._context.supported;\n        }\n        \n                    \n        // Attributes\n        this._domElem = domElem;\n        this._domElem.style.MozUserSelect = 'none';\n        this._domElem.style.WebkitUserSelect = 'none';\n        this._domElem.setAttribute(\"onselectstart\",\"return false\");\n\n        this._multisample = 1.0;\n        \n        // Initialization\n        if (!initContext()) {\n            throw new Error(\"Sorry, your browser does not support WebGL.\");\n        }\n    }\n\n    get multisample() {\n        return this._multisample;\n    }\n\n    set multisample(ms) {\n        this._multisample = ms;\n    }\n    \n    get context() {\n        return this._context;\n    }\n    \n    get domElement() {\n        return this._domElem;\n    }\n    \n    get width() {\n        return this._domElem.clientWidth;\n    }\n    \n    get height() {\n        return this._domElem.clientHeight;\n    }\n\n    screenshot(format, width, height) {\n        let canvasStyle = \"\";\n        let prevSize = {}\n        if (width) {\n            height = height ? height:width;\n            canvasStyle = this.domElement.style.cssText;\n            prevSize.width = this.domElement.width;\n            prevSize.height = this.domElement.height;\n\n            this.domElement.style.cssText = \"top:auto;left:auto;bottom:auto;right:auto;width:\" + width + \"px;height:\" + height + \"px;\";\n            this.domElement.width = width;\n            this.domElement.height = height;\n//           bg.app.MainLoop.singleton.windowController.reshape(width,height);\n//           bg.app.MainLoop.singleton.windowController.postRedisplay();\n//           bg.app.MainLoop.singleton.windowController.display();\n        }\n        var data = this.domElement.toDataURL(format);\n        if (width) {\n            this.domElement.style.cssText = canvasStyle;\n            this.domElement.width = prevSize.width;\n            this.domElement.height = prevSize.height;\n//            bg.app.MainLoop.singleton.windowController.reshape(prevSize.width,prevSize.height);\n//            bg.app.MainLoop.singleton.windowController.postRedisplay();\n//            bg.app.MainLoop.singleton.windowController.display();\n        }\n        return data;\n    }\n}\n","export default class ContextObject {\n    constructor(context) {\n        this._context = context;\n    }\n    \n    get context() { return this._context; }\n    set context(c) { this._context = c; }\n}\n","\nexport default class EventBase {\n    constructor() {\n        this._executeDefault = false;\n    }\n\n    get executeDefault() { return this._executeDefault; }\n    set executeDefault(d) { this._executeDefault = d; }\n}\n","import EventBase from \"./EventBase\";\n\nexport const SpecialKey = {\n    BACKSPACE: \"Backspace\",\n    TAB: \"Tab\",\n    ENTER: \"Enter\",\n    SHIFT: \"Shift\",\n    SHIFT_LEFT: \"ShiftLeft\",\n    SHIFT_RIGHT: \"ShiftRight\",\n    CTRL: \"Control\",\n    CTRL_LEFT: \"ControlLeft\",\n    CTRL_LEFT: \"ControlRight\",\n    ALT: \"Alt\",\n    ALT_LEFT: \"AltLeft\",\n    ALT_RIGHT: \"AltRight\",\n    PAUSE: \"Pause\",\n    CAPS_LOCK: \"CapsLock\",\n    ESCAPE: \"Escape\",\n    PAGE_UP: \"PageUp\",\n    PAGEDOWN: \"PageDown\",\n    END: \"End\",\n    HOME: \"Home\",\n    LEFT_ARROW: \"ArrowLeft\",\n    UP_ARROW: \"ArrowUp\",\n    RIGHT_ARROW: \"ArrowRight\",\n    DOWN_ARROW: \"ArrowDown\",\n    INSERT: \"Insert\",\n    DELETE: \"Delete\"\n};\n\nexport default class KeyboardEvent extends EventBase {\n    static IsSpecialKey(event) {\n        return SpecialKey[event.code]!=null;\n    }\n    \n    constructor(key,event) {\n        super();\n        this.key = key;\n        this.event = event;\n    }\n    \n    isSpecialKey() {\n        return KeyboardEvent.IsSpecialKey(this.event);\n    }\n}\n","import EventBase from \"./EventBase\";\n\nexport const MouseButton = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2,\n    NONE: -1\n};\n\nexport default class MouseEvent extends EventBase {\n\t\t\n    constructor(button = MouseButton.NONE, x=-1, y=-1, delta=0,event=null) {\n        super();\n\n        this.button = button;\n        this.x = x;\n        this.y = y;\n        this.delta = delta;\n        this.event = event;\n    }\n}\n","import EventBase from \"./EventBase\";\n\nexport default class TouchEvent extends EventBase  {\n    constructor(touches,event) {\n        super();\n        this.touches = touches;\n        this.event = event;\n    }\n}\n","\nwindow.s_bg_app_mouseStatus = {\n    leftButton:false,\n    middleButton:false,\n    rightButton:false,\n    pos: {\n        x:-1,\n        y:-1\n    }\t\n}\nObject.defineProperty(s_bg_app_mouseStatus, \"anyButton\", {\n    get: function() {\n        return this.leftButton || this.middleButton || this.rightButton;\n    }\n});\n\nexport default class Mouse {\n    static LeftButton() { return s_bg_app_mouseStatus.leftButton; }\n    static MiddleButton() { return s_bg_app_mouseStatus.middleButton; }\n    static RightButton() { return s_bg_app_mouseStatus.rightButton; }\n    static Position() { return s_bg_app_mouseStatus.pos; }\n    static AnyButton() { return s_bg_app_mouseStatus.anyButton; }\n\n    static SetLeftButton(s) { s_bg_app_mouseStatus.leftButton = s; return s_bg_app_mouseStatus.leftButton; }\n    static SetMiddleButton(s) { s_bg_app_mouseStatus.middleButton = s; return s_bg_app_mouseStatus.middleButton; }\n    static SetRightButton(s) { s_bg_app_mouseStatus.rightButton = s; return s_bg_app_mouseStatus.rightButton; }\n    static SetPosition(x,y) { s_bg_app_mouseStatus.pos = { x, y }; return s_bg_app_mouseStatus.pos; }\n}\n","import Canvas from \"./Canvas\";\nimport { setupRequestAnimFrame } from \"../utils/WebGLUtils\";\nimport Mouse from \"./Mouse\";\nimport MouseEvent, { MouseButton } from \"./MouseEvent\";\nimport KeyboardEvent from \"./KeyboardEvent\";\nimport TouchEvent from \"./TouchEvent\";\nimport { bindImageLoadEvent } from \"../utils/Resource\";\n\nwindow.s_bg_app_mainLoop = null;\n\nexport const FrameUpdate = {\n    AUTO: 0,\n    MANUAL: 1\n};\n\nlet lastTime = 0;\nfunction animationLoop(totalTime) {\n    totalTime = totalTime || 0;\n    if (!window.requestAnimFrame) {\n        setupRequestAnimFrame();\n    }\n    requestAnimFrame(animationLoop);\n    let elapsed = totalTime - lastTime;\n    lastTime = totalTime;\n    onUpdate(elapsed);\n}\n\nfunction initEvents() {\n    onResize();\n    \n    window.addEventListener(\"resize\", function() { onResize(); });\n    \n    if (s_bg_app_mainLoop.canvas) {\n        let c = s_bg_app_mainLoop.canvas.domElement;\n        c.addEventListener(\"mousedown\", function(evt) {\n            if (!onMouseDown(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mousemove\", function(evt) {\n            if (!onMouseMove(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mouseout\", function(evt) {\n            if (!onMouseOut(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mouseover\", function(evt) {\n            if (!onMouseOver(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mouseup\", function(evt) {\n            if (!onMouseUp(evt).executeDefault) { \n                evt.preventDefault();\n                return false;\n            }\n        });\n        \n        c.addEventListener(\"touchstart\", function(evt) {\n            if (!onTouchStart(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"touchmove\", function(evt) {\n            if (!onTouchMove(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"touchend\", function(evt) {\n            if (!onTouchEnd(evt).executeDefault) { \n                evt.preventDefault();\n                return false;\n            }\n        });\n        \n        let mouseWheelEvt = (/Firefox/i.test(navigator.userAgent))? \"DOMMouseScroll\" : \"mousewheel\";\n        c.addEventListener(mouseWheelEvt, function(evt) {\n            if (!onMouseWheel(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        \n        window.addEventListener(\"keydown\", function(evt) { onKeyDown(evt); });\n        window.addEventListener(\"keyup\", function(evt) { onKeyUp(evt); });\n        \n        c.oncontextmenu = function(e) { return false; };\n    }\n    else {\n        throw new Error(\"Configuration error in MainLoop: no canvas defined\");\n    }\n}\n\nfunction onResize() {\n    if (s_bg_app_mainLoop.canvas && s_bg_app_mainLoop.windowController) {\n        const multisample = s_bg_app_mainLoop.canvas.multisample;\n        s_bg_app_mainLoop.canvas.domElement.width = s_bg_app_mainLoop.canvas.width * multisample;\n        s_bg_app_mainLoop.canvas.domElement.height = s_bg_app_mainLoop.canvas.height * multisample; \n        s_bg_app_mainLoop.windowController.reshape(s_bg_app_mainLoop.canvas.width * multisample, s_bg_app_mainLoop.canvas.height * multisample);\n    }\n}\n\nfunction onUpdate(elapsedTime) {\n    if (s_bg_app_mainLoop.redisplay) {\n        s_bg_app_mainLoop.windowController.frame(elapsedTime);\n        if (s_bg_app_mainLoop.updateMode==FrameUpdate.AUTO) {\n            s_bg_app_mainLoop._redisplayFrames = 1;\n        }\n        else {\n            s_bg_app_mainLoop._redisplayFrames--;\n        }\n        s_bg_app_mainLoop.windowController.display();\n    }\n}\n\nfunction onMouseDown(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.Position();\n    pos.x = (event.clientX - offset.left) * multisample;\n    pos.y = (event.clientY - offset.top) * multisample;\n    switch (event.button) {\n        case MouseButton.LEFT:\n            Mouse.SetLeftButton(true);\n            break;\n        case MouseButton.MIDDLE:\n            Mouse.SetMiddleButton(true);\n            break;\n        case MouseButton.RIGHT:\n            Mouse.SetRightButton(true);\n            break;\n    }\n\n    const bgEvent = new MouseEvent(event.button,pos.x,pos.y,0,event);\n    s_bg_app_mainLoop.windowController.mouseDown(bgEvent);\n    return bgEvent;\n}\n\nfunction onMouseMove(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.SetPosition(\n        (event.clientX - offset.left) * multisample,\n        (event.clientY - offset.top) * multisampl\n    );\n    \n    const evt = new MouseEvent(MouseButton.NONE,\n                                    pos.x,\n                                    pos.y,\n                                    0,\n                                    event);\n    s_bg_app_mainLoop.windowController.mouseMove(evt);\n    if (Mouse.AnyButton()) {\n        s_bg_app_mainLoop.windowController.mouseDrag(evt);\n    }\n    return evt;\n}\n\nfunction onMouseOut() {\n    const pos = Mouse.Position();\n    let bgEvt = new MouseEvent(MouseButton.NONE,pos.x,pos.y,0,{});\n    s_bg_app_mainLoop.windowController.mouseOut(bgEvt);\n    if (Mouse.LeftButton()) {\n        Mouse.SetLeftButton(false);\n        bgEvt = new MouseEvent(MouseButton.LEFT,pos.x,pos.y,0,{});\n        s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    }\n    if (Mouse.MiddleButton()) {\n        Mouse.SetMiddleButton(false);\n        bgEvt = new MouseEvent(MouseButton.MIDDLE,pos.x,pos.y,0,{});\n        s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    }\n    if (Mouse.RightButton()) {\n        Mouse.SetRightButton(false);\n        bgEvt = new MouseEvent(MouseButton.RIGHT,pos.x,pos.y,0,{});\n        s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    }\n    return bgEvt;\n}\n\nfunction onMouseOver(event) {\n    return onMouseMove(event);\n}\n\nfunction onMouseUp(event) {\n    switch (event.button) {\n        case MouseButton.LEFT:\n            Mouse.SetLeftButton(false);\n            break;\n        case MouseButton.MIDDLE:\n            Mouse.SetMiddleButton(false);\n            break;\n        case MouseButton.RIGHT:\n            Mouse.SetRightButton(false);\n            break;\n    }\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.SetPosition(\n        (event.clientX - offset.left) * multisample,\n        (event.clientY - offset.top) * multisample);\n    const bgEvt = new MouseEvent(event.button,pos.x,pos.y,0,event)\n    s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    return bgEvt;\n}\n\nfunction onMouseWheel(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.SetPosition(\n        (event.clientX - offset.left) * multisample,\n        (event.clientY - offset.top) * multisample);\n    const delta = event.wheelDelta ? event.wheelDelta * -1:event.detail * 10;\n    const bgEvt = new MouseEvent(MouseButton.NONE,pos.x,pos.y,delta,event)\n    s_bg_app_mainLoop.windowController.mouseWheel(bgEvt);\n    return bgEvt;\n}\n\nfunction getTouchEvent(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const touches = [];\n    for (let i=0; i<event.touches.length; ++i) {\n        let touch = event.touches[i];\n        touches.push({\n            identifier: touch.identifier,\n            x: touch.clientX - offset.left,\n            y: touch.clientY - offset.top,\n            force: touch.force,\n            rotationAngle: touch.rotationAngle,\n            radiusX: touch.radiusX,\n            radiusY: touch.radiusY\n        });\n    }\n    return new TouchEvent(touches,event);\n}\n\nfunction onTouchStart(event) {\n    const bgEvt = getTouchEvent(event)\n    s_bg_app_mainLoop.windowController.touchStart(bgEvt);\n    return bgEvt;\n}\n\nfunction onTouchMove(event) {\n    const bgEvt = getTouchEvent(event)\n    s_bg_app_mainLoop.windowController.touchMove(bgEvt);\n    return bgEvt;\n}\n\nfunction onTouchEnd(event) {\n    const bgEvt = getTouchEvent(event)\n    s_bg_app_mainLoop.windowController.touchEnd(bgEvt);\n    return bgEvt;\n}\n\nfunction onKeyDown(event) {\n    const code = KeyboardEvent.IsSpecialKey(event) ? \tevent.keyCode:\n                                                        event.code;\n    s_bg_app_mainLoop.windowController.keyDown(new KeyboardEvent(code,event));\n}\n\nfunction onKeyUp(event) {\n    let code = KeyboardEvent.IsSpecialKey(event) ? \tevent.keyCode:\n                                                    event.code;\n    s_bg_app_mainLoop.windowController.keyUp(new KeyboardEvent(code,event));\n}\n\nexport default class MainLoop {\n    constructor() {\n        this._canvas = null;\n        this._windowController = null;\n        this._updateMode = FrameUpdate.AUTO;\n        this._redisplayFrames = 1;\n        \n        bindImageLoadEvent(() => {\n            this.postRedisplay();\n        });\n    }\n    \n    get canvas() { return this._canvas; }\n    set canvas(c) {\n        this._canvas = new Canvas(c);\n    }\n    get windowController() { return this._windowController; }\n    get updateMode() { return this._updateMode; }\n    set updateMode(m) {\n        this._updateMode = m;\n        if (this._updateMode==FrameUpdate.AUTO) {\n            this._redisplayFrames = 1;\n        }\n    }\n    get redisplay() { return this._redisplayFrames>0; }\n    get mouseButtonStatus() { return s_mouseStatus; }\n    \n    run(windowController) {\n        this._windowController = windowController;\n        this.postRedisplay();\n        this.windowController.init();\n        initEvents();\n        animationLoop();\n    }\n    \n    // 4 frames to ensure that the reflections are fully updated\n    postRedisplay(frames=4) {\n        this._redisplayFrames = frames;\n    }\n    \n    postReshape() {\n        onResize();\n    }\n}\n\nObject.defineProperty(MainLoop, \"singleton\", {\n    get: function() {\n        if (!s_bg_app_mainLoop) {\n            s_bg_app_mainLoop = new MainLoop();\n        }\n        return s_bg_app_mainLoop;\n    }\n});\n","\nimport LifeCycle from \"../utils/LifeCycle\";\nimport MainLoop from \"./MainLoop\";\n\nexport default class WindowController extends LifeCycle {\n    // Functions from LifeCycle:\n    // init()\n    // frame(delta)\n    // display()\n    // reshape(width,height)\n    // keyDown(evt)\n    // keyUp(evt)\n    // mouseUp(evt)\n    // mouseDown(evt)\n    // mouseMove(evt)\n    // mouseOut(evt)\n    // mouseDrag(evt)\n    // mouseWheel(evt)\n    // touchStart(evt)\n    // touchMove(evt)\n    // touchEnd(evt)\n    \n    // 4 frames to ensure that the reflections are fully updated\n    postRedisplay(frames=4) {\n        MainLoop.singleton.postRedisplay(frames);\n    }\n    \n    postReshape() {\n        MainLoop.singleton.postReshape();\n    }\n    \n    get canvas() {\n        return MainLoop.singleton.canvas;\n    }\n    \n    get context() {\n        return MainLoop.singleton.canvas.context;\n    }\n    \n    get gl() {\n        return MainLoop.singleton.canvas.context.gl;\n    }\n}\n","import Canvas from './Canvas';\nimport ContextObject from './ContextObject';\nimport EventBase from './EventBase';\nimport KeyboardEvent, { SpecialKey } from './KeyboardEvent';\nimport MouseEvent, { MouseButton } from './MouseEvent';\nimport TouchEvent from './TouchEvent';\nimport Mouse from './Mouse';\nimport MainLoop from './MainLoop';\nimport WindowController from './WindowController';\n\nconst app = {\n    Canvas,\n    ContextObject,\n    EventBase,\n    SpecialKey,\n    KeyboardEvent,\n    MouseEvent,\n    MouseButton,\n    TouchEvent,\n    Mouse,\n    MainLoop,\n    WindowController\n}\n\nexport default app;\n","import Engine from \"../utils/Engine\";\nimport ContextObject from \"../app/ContextObject\";\n\nexport class ShaderImpl {\n    constructor(context) {\n        this.initFlags(context);\n    }\n    \n    initFlags(context) {}\n    setActive(context,shaderProgram) {}\n    create(context) {}\n    addShaderSource(context,shaderProgram,shaderType,source) {}\n    link(context,shaderProgram) {}\n    initVars(context,shader,inputBufferVars,valueVars) {}\n    setInputBuffer(context,shader,varName,vertexBuffer,itemSize) {}\n    setValueInt(context,shader,name,v) {}\n    setValueIntPtr(context,shader,name,v) {}\n    setValueFloat(context,shader,name,v) {}\n    setValueFloatPtr(context,shader,name,v) {}\n    setValueVector2(context,shader,name,v) {}\n    setValueVector3(context,shader,name,v) {}\n    setValueVector4(context,shader,name,v) {}\n    setValueVector2v(context,shader,name,v) {}\n    setValueVector3v(context,shader,name,v) {}\n    setValueVector4v(context,shader,name,v) {}\n    setValueMatrix3(context,shader,name,traspose,v) {}\n    setValueMatrix4(context,shader,name,traspose,v) {}\n    setTexture(context,shader,name,texture,textureUnit) {}\n}\n\n\nexport const ShaderType = {\n    VERTEX: null,\n    FRAGMENT: null\n};\n\nfunction addLineNumbers(source) {\n    let result = \"\";\n    source.split(\"\\n\").forEach((line,index) => {\n        ++index;\n        let prefix = index<10 ? \"00\":index<100 ? \"0\":\"\";\n        result += prefix + index + \" | \" + line + \"\\n\";\n    });\n    return result;\n}\n\nwindow.s_bg_base_activeShader = null;\n\nexport default class Shader extends ContextObject {\n    static ClearActive(context) { Engine.Get().shader.setActive(context,null); }\n    static GetActiveShader() {\n        return window.s_bg_base_activeShader;\n    }\n\n    constructor(context) {\n        super(context);\n        \n        this._shader = Engine.Get().shader.create(context);\n        this._linked = false;\n        \n        this._compileError = null;\n        this._linkError = null;\n    }\n    \n    get shader() { return this._shader; }\n    get compileError() { return this._compileError; }\n    get compileErrorSource() { return this._compileErrorSource; }\n    get linkError() { return this._linkError; }\n    get status() { return this._compileError==null && this._linkError==null; }\n    \n    addShaderSource(shaderType, shaderSource) {\n        if (this._linked) {\n            this._compileError = \"Tying to attach a shader to a linked program\";\n        }\n        else if (!this._compileError) {\n            this._compileError = Engine.Get().shader.addShaderSource(\n                                                            this.context,\n                                                            this._shader,\n                                                            shaderType,shaderSource);\n            if (this._compileError) {\n                this._compileErrorSource = addLineNumbers(shaderSource);\n            }\n        }\n        return this._compileError==null;\n    }\n    \n    link() {\n        this._linkError = null;\n        if (this._linked) {\n            this._linkError = \"Shader already linked\";\n        }\n        else  {\n            this._linkError = Engine.Get().shader.link(this.context,this._shader);\n            this._linked = this._linkError==null;\n        }\n        return this._linked;\n    }\n    \n    setActive() {\n        Engine.Get().shader.setActive(this.context,this._shader);\n        g_window.s_bg_base_activeShader = this;\n    }\n    \n    clearActive() {\n        Shader.ClearActive(this.context);\n        g_window.s_bg_base_activeShader = null;\n    }\n    \n    initVars(inputBufferVars,valueVars) {\n        Engine.Get().shader.initVars(this.context,this._shader,inputBufferVars,valueVars);\n    }\n    \n    setInputBuffer(name,vbo,itemSize) {\n        Engine.Get().shader\n            .setInputBuffer(this.context,this._shader,name,vbo,itemSize);\n    }\n    \n    disableInputBuffer(name) {\n        Engine.Get().shader\n            .disableInputBuffer(this.context,this._shader,name);\n    }\n    \n    setValueInt(name,v) {\n        Engine.Get().shader\n            .setValueInt(this.context,this._shader,name,v);\n    }\n\n    setValueIntPtr(name,v) {\n        Engine.Get().shader\n            .setValueIntPtr(this.context,this._shader,name,v);\n    }\n    \n    setValueFloat(name,v) {\n        Engine.Get().shader\n            .setValueFloat(this.context,this._shader,name,v);\n    }\n\n    setValueFloatPtr(name,v) {\n        Engine.Get().shader\n            .setValueFloatPtr(this.context,this._shader,name,v);\n    }\n    \n    setVector2(name,v) {\n        Engine.Get().shader\n            .setValueVector2(this.context,this._shader,name,v);\n    }\n    \n    setVector3(name,v) {\n        Engine.Get().shader\n            .setValueVector3(this.context,this._shader,name,v);\t\t\t\n    }\n    \n    setVector4(name,v) {\n        Engine.Get().shader\n            .setValueVector4(this.context,this._shader,name,v);\n    }\n\n    setVector2Ptr(name,v) {\n        Engine.Get().shader\n            .setValueVector2v(this.context,this._shader,name,v);\n    }\n    \n    setVector3Ptr(name,v) {\n        Engine.Get().shader\n            .setValueVector3v(this.context,this._shader,name,v);\t\t\t\n    }\n    \n    setVector4Ptr(name,v) {\n        Engine.Get().shader\n            .setValueVector4v(this.context,this._shader,name,v);\n    }\n    \n    setMatrix3(name,v,traspose=false) {\n        Engine.Get().shader\n            .setValueMatrix3(this.context,this._shader,name,traspose,v);\n    }\n    \n    setMatrix4(name,v,traspose=false) {\n        Engine.Get().shader\n            .setValueMatrix4(this.context,this._shader,name,traspose,v);\n    }\n    \n    setTexture(name,texture,textureUnit) {\n        Engine.Get().shader\n            .setTexture(this.context,this._shader,name,texture,textureUnit);\n    }\n\n    \n    destroy() {\n        console.warn(\"TODO: Shader.destroy(): not implemented.\");\n    }\n}\n","\nimport ContextObject from \"../app/ContextObject\";\nimport Shader from \"./Shader\";\n\nexport default class Effect extends ContextObject {\n    constructor(context) {\n        super(context);\n        this._shader = null;\n        this._inputVars = [];\n        this._shaders = [];\n    }\n    \n    /*\n     * Override the following functions to create a custom effect:\n     * \tget inputVars(): returns an object with the input attribute for each\n     * \t\t\t\t\t vertex buffer in the shader\n     *  get shader(): \t create and initialize the shader if not exists\n     *  setupVars():\t bind the input vars in the shader\n     */\n    get inputVars() {\n        // Return the corresponding names for input vars\n        //this._inputVars = {\n        //\tvertex:null,\n        //\tnormal:null,\n        //\ttex0:null,\n        //\ttex1:null,\n        //\ttex2:null,\n        //\tcolor:null,\n        //\ttangent:null\n        //};\n        \n        return this._inputVars;\n    }\n\n    get numberOfShaders() {\n        return this._shaders.length;\n    }\n\n    setCurrentShader(i) {\n        this._shader = this._shaders[i];\n    }\n    \n    get shader() {\n        // Create and initialize the shader if not exists.\n        return this._shader;\n    }\n    \n    // Automatic method: with ShaderSource objects it isn't necesary to\n    // overrdide the previous functions\n    setupShaderSource(sourceArray,append=true) {\n        let shaderIndex = append ? this._shaders.length : 0;\n        let shader = new Shader(this.context);\n        this._inputVars = [];\n        let inputAttribs = [];\n        let inputVars = [];\n        \n        sourceArray.forEach((source) => {\n            source.params.forEach((param) => {\n                if (param) {\n                    if (param.role==\"buffer\") {\n                        this._inputVars[param.target] = param.name;\n                        inputAttribs.push(param.name);\n                    }\n                    else if (param.role==\"value\") {\n                        inputVars.push(param.name);\n                    }\n                }\n            });\n            \n            shader.addShaderSource(source.type,source.toString());\n        });\n        shader.link();\n        if (!shader.status) {\n            console.error(shader.compileError);\n            if (shader.compileErrorSource) {\n                console.error(\"Shader source:\");\n                console.error(shader.compileErrorSource);\n            }\n            console.error(shader.linkError);\n        }\n        else {\n            shader.initVars(inputAttribs,inputVars);\n        }\n\n        if (append) {\n            this._shaders.push(shader);\n            if (!this._shader) {\n                this._shader = shader;\n            }\n        }\n        else {\n            this._shaders = [shader];\n            this._shader = shader;\n        }\n        return shaderIndex;\n    }\n    \n    // This function is used to setup shader variables that are the same for all\n    // scene object, such as lights or color correction\n    beginDraw() {\n        \n    }\n    \n    // This function is called before draw each polyList. The material properties will be\n    // set in this.material\n    setupVars() {\n        // pass the input vars values to this.shader\n    }\n    \n    setActive() {\n        this.shader.setActive();\n        this.beginDraw();\n    }\n    \n    clearActive() {\n        this.shader.clearActive();\n    }\n    \n    bindPolyList(plist) {\n        var s = this.shader;\t\t\t\n        if (this.inputVars.vertex) {\n            s.setInputBuffer(this.inputVars.vertex, plist.vertexBuffer, 3);\n        }\n        if (this.inputVars.normal) {\n            s.setInputBuffer(this.inputVars.normal, plist.normalBuffer, 3);\n        }\n        if (this.inputVars.tex0) {\n            s.setInputBuffer(this.inputVars.tex0, plist.texCoord0Buffer, 2);\n        }\n        if (this.inputVars.tex1) {\n            s.setInputBuffer(this.inputVars.tex1, plist.texCoord1Buffer, 2);\n        }\n        if (this.inputVars.tex2) {\n            s.setInputBuffer(this.inputVars.tex2, plist.texCoord2Buffer, 2);\n        }\n        if (this.inputVars.color) {\n            s.setInputBuffer(this.inputVars.color, plist.colorBuffer, 4);\n        }\n        if (this.inputVars.tangent) {\n            s.setInputBuffer(this.inputVars.tangent, plist.tangentBuffer, 3);\n        }\n        this.setupVars();\n    }\n    \n    unbind() {\n        var s = this.shader;\t\n        if (this.inputVars.vertex) {\n            s.disableInputBuffer(this.inputVars.vertex);\n        }\n        if (this.inputVars.normal) {\n            s.disableInputBuffer(this.inputVars.normal);\n        }\n        if (this.inputVars.tex0) {\n            s.disableInputBuffer(this.inputVars.tex0);\n        }\n        if (this.inputVars.tex1) {\n            s.disableInputBuffer(this.inputVars.tex1);\n        }\n        if (this.inputVars.tex2) {\n            s.disableInputBuffer(this.inputVars.tex2);\n        }\n        if (this.inputVars.color) {\n            s.disableInputBuffer(this.inputVars.color);\n        }\n        if (this.inputVars.tangent) {\n            s.disableInputBuffer(this.inputVars.tangent);\n        }\n    }\t\t\n}\n\n","\n\nimport Resource from \"../utils/Resource\";\n\nexport class LoaderPlugin {            \n    acceptType(url,data) { return false; }\n\n    async load(context,url,data) {\n        return new Error(\"Not implemented\");\n    }\n    \n}\n\nwindow.s_bg_base_loaderPlugins = window.s_bg_base_loaderPlugins ||[];\n\nfunction loadUrl(context,url,onProgress = null,extraData = null) {\n    return new Promise((accept,reject) => {\n        Resource.Load(url,onProgress)\n            .then(function(data) {\n                return Loader.LoadData(context,url,data,extraData);\n            })\n            \n            .then((result,extendedData) => {\n                accept(result,extendedData);\n            })\n            \n            .catch(function(err) {\n                reject(err);\n            });\n    });\n}\n\nfunction loadUrlArray(context,url,onProgress = null,extraData = null) {\n    return new Promise((accept,reject) => {\n        Resource.LoadMultiple(url,onProgress)\n            .then((result) => {\n                let promises = [];\n\n                for (let itemUrl in result) {\n                    let data = result[itemUrl];\n                    promises.push(loadData(context,itemUrl,data,extraData));\n                }\n\n                return Promise.all(promises);\n            })\n            .then((loadedResults) => {\n                let resolvedData = {}\n                url.forEach((itemUrl,index) => {\n                    resolvedData[itemUrl] = loadedResults[index];\n                })\n                accept(resolvedData);\n            })\n            .catch((err) => {\n                reject(err);\n            })\n    })\n}\n\nfunction loadData(context,url,data,extraData = null) {\n    return new Promise((accept,reject) => {\n        let selectedPlugin = null;\n        s_loaderPlugins.some((plugin) => {\n            if (plugin.acceptType(url,data)) {\n                selectedPlugin = plugin;\n                return true;\n            }\n        })\n        \n        if (selectedPlugin) {\n            if (!extraData) {\n                extraData = {};\n            }\n            accept(selectedPlugin.load(context,url,data,extraData));\n        }\n        else {\n            return reject(new Error(\"No suitable plugin found for load \" + url));\n        }\n    });\n}\n\nexport default class Loader {\n    static RegisterPlugin(p) { window.s_bg_base_loaderPlugins.push(p); }\n    \n    static Load(context,url,onProgress = null,extraData = null) {\n        if (Array.isArray(url)) {\n            return loadUrlArray(context,url,onProgress,extraData);\n        }\n        else {\n            return loadUrl(context,url,onProgress,extraData);\n        }\n    }\n    \n    static LoadData(context,url,data,extraData = null) {\n        return loadData(context,url,data,extraData);\n    }\n}\n","\nexport const Axis = {\n\tNONE: 0,\n\tX: 1,\n\tY: 2,\n\tZ: 3,\n    name: (axis) => {\n        switch (axis) {\n        case Axis.NONE:\n            return \"NONE\";\n        case Axis.X:\n            return \"X\";\n        case Axis.Y:\n            return \"Y\";\n        case Axis.Z:\n            return \"Z\";\n        case Axis.W:\n            return \"W\";\n        default:\n            return \"UNKNOWN\"\n        };\n    }\n};\n\nexport const PI = 3.141592653589793;\nexport const DEG_TO_RAD = 0.01745329251994;\nexport const RAD_TO_DEG = 57.29577951308233;\nexport const PI_2 = 1.5707963267948966;\nexport const PI_4 = 0.785398163397448;\nexport const PI_8 = 0.392699081698724;\nexport const TWO_PI = 6.283185307179586;\nexport const EPSILON = 0.0000001;\n\n// Default array: 32 bits\nexport const NumericArray = Float32Array;\nexport const NumericArrayHighP = Array;\nexport const FLOAT_MAX = 3.402823e38;\n","import {\n    NumericArray,\n    NumericArrayHighP\n} from \"./constants\";\n\nexport class Vector {\n    static MinComponents(v1,v2) {\n        let length = Math.min(v1.length, v2.length);\n        let result = null;\n        switch (length) {\n        case 2:\n            result = new Vector2();\n            break;\n        case 3:\n            result = new Vector3();\n            break;\n        case 4:\n            result = new Vector4();\n            break;\n        }\n\n        for (let i=0; i<length; ++i) {\n            result._v[i] = v1._v[i]<v2._v[i] ? v1._v[i] : v2._v[i];\n        }\n        return result;\n    }\n\n    static MaxComponents(v1,v2) {\n        let length = Math.min(v1.length, v2.length);\n        let result = null;\n        switch (length) {\n        case 2:\n            result = new Vector2();\n            break;\n        case 3:\n            result = new Vector3();\n            break;\n        case 4:\n            result = new Vector4();\n            break;\n        }\n\n        for (let i=0; i<length; ++i) {\n            result._v[i] = v1._v[i]>v2._v[i] ? v1._v[i] : v2._v[i];\n        }\n        return result;\n    }\n\n    constructor(v) {\n        this._v = v;\n    }\n    \n    get v() { return this._v; }\n    \n    get length() { return this._v.length; }\n    \n    get x() { return this._v[0]; }\n    set x(v) { this._v[0] = v; }\n    get y() { return this._v[1]; }\n    set y(v) { this._v[1] = v; }\n\n    get module() { return this.magnitude(); }\n\n    toArray() {\n        let result = [];\n        for (let i=0; i<this.v.length; ++i) {\n            result.push(this.v[i]);\n        }\n        return result;\n    }\n}\n\nexport class Vector2 extends Vector {\n    static Add(v1,v2) {\n        return new Vector2(v1.x + v2.x, v1.y + v2.y);\n    }\n\n    static Sub(v1,v2) {\n        return new Vector2(v1.x - v2.x, v1.y - v2.y);\n    }\n\n    static Distance(a,b) {\n        return (new Vector2(a._v[0] - b._v[0], a._v[1] - b._v[1])).magnitude();\n    }\n\n    static Dot(v1,v2) {\n        return v1._v[0] * v2._v[0] + v1._v[1] * v2._v[1];\n    }\n\n    static Cross(v1,v2) {\n        let x = v1._v[1] * v2._v[2] - v1._v[2] * v2._v[1];\n        let y = v1._v[2] * v2._v[0] - v1._v[0] * v2._v[2];\n        let z = v1._v[0] * v2._v[1] - v1._v[1] * v2._v[0];\n        return new Vector3(x, y, z);\n    }\n\n    constructor(x = 0,y) {\n        super(new NumericArrayHighP(2));\n        if (x instanceof Vector2) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n        }\n        else if (Array.isArray(x) && x.length>=2) {\n            this._v[0] = x[0];\n            this._v[1] = x[1];\n        }\n        else {\n            if (y===undefined) y=x;\n            this._v[0] = x;\n            this._v[1] = y;\n        }\n    }\n\n    distance(other) {\n        let v3 = new Vector2(this._v[0] - other._v[0],\n                                  this._v[1] - other._v[1]);\n        return v3.magnitude();\n    }\n\n    normalize() {\n        let m = this.magnitude();\n        this._v[0] = this._v[0]/m; this._v[1]=this._v[1]/m;\n        return this;\n    }\n\n    add(v2) {\n        this._v[0] += v2._v[0];\n        this._v[1] += v2._v[1];\n        return this;\n    }\n\n    sub(v2) {\n        this._v[0] -= v2._v[0];\n        this._v[1] -= v2._v[1];\n        return this;\n    }\n\n    dot(v2) {\n        return this._v[0] * v2._v[0] + this._v[1] * v2._v[1];\n    }\n\n    scale(scale) {\n        this._v[0] *= scale; this._v[1] *= scale;\n        return this;\n    }\n\n    magnitude() {\n        return Math.sqrt(\n            this._v[0] * this._v[0] +\n            this._v[1] * this._v[1]\n        )\n    }\n\n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; }\n\n    set(x, y) {\n        if (y===undefined) y = x;\n        this._v[0] = x; this._v[1] = y;\n    }\n\n    get width() { return this._v[0]; }\n    get height() { return this._v[1]; }\n    set width(v) { this._v[0] = v; }\n    set height(v) { this._v[1] = v; }\n\n    get aspectRatio() { return this._v[0]/this._v[1]; }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n}\n\nexport class Vector3 extends Vector {\n    static Add(v1,v2) {\n        return new Vector3(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z);\n    }\n\n    static Sub(v1,v2) {\n        return new Vector3(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z);\n    }\n\n    static Distance(a,b) {\n        return (new Vector3(a._v[0] - b._v[0], a._v[1] - b._v[1], a._v[2] - b._v[2])).magnitude();\n    }\n\n    static Dot(v1,v2) {\n        return v1._v[0] * v2._v[0] + v1._v[1] * v2._v[1] + v1._v[2] * v2._v[2];\n    }\n\n    static Cross(v1,v2) {\n        let x = v1._v[1] * v2._v[2] - v1._v[2] * v2._v[1];\n        let y = v1._v[2] * v2._v[0] - v1._v[0] * v2._v[2];\n        let z = v1._v[0] * v2._v[1] - v1._v[1] * v2._v[0];\n        return new Vector3(x, y, z);\n    }\n\n\n    constructor(x = 0, y = 0, z = 0) {\n        super(new NumericArrayHighP(3));\n        if (x instanceof Vector2) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = y;\n        }\n        else if (x instanceof Vector3) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = x._v[2];\n        }\n        else if (Array.isArray(x) && x.length>=3) {\n            this._v[0] = x[0];\n            this._v[1] = x[1];\n            this._v[2] = x[2];\n        }\n        else {\n            if (y===undefined) y=x;\n            if (z===undefined) z=y;\n            this._v[0] = x;\n            this._v[1] = y;\n            this._v[2] = z;\n        }\n    }\n    \n    get z() { return this._v[2]; }\n    set z(v) { this._v[2] = v; }\n\n    magnitude() {\n        return Math.sqrt(\n            this._v[0] * this._v[0] +\n            this._v[1] * this._v[1] +\n            this._v[2] * this._v[2]\n        );\n    }\n    \n    normalize() {\n        let m = this.magnitude();\n        this._v[0] = this._v[0]/m; this._v[1]=this._v[1]/m; this._v[2]=this._v[2]/m;\n        return this;\n    }\n\n    distance(other) {\n        let v3 = new Vector3(this._v[0] - other._v[0],\n                                  this._v[1] - other._v[1],\n                                  this._v[2] - other._v[2]);\n        return v3.magnitude();\n    }\n\n    add(v2) {\n        this._v[0] += v2._v[0];\n        this._v[1] += v2._v[1];\n        this._v[2] += v2._v[2];\n        return this;\n    }\n\n    sub(v2) {\n        this._v[0] -= v2._v[0];\n        this._v[1] -= v2._v[1];\n        this._v[2] -= v2._v[2];\n        return this;\n    }\n\n    dot(v2) {\n        return this._v[0] * v2._v[0] + this._v[1] * v2._v[1] + this._v[2] * v2._v[2];\n    }\n\n    scale(scale) {\n        this._v[0] *= scale; this._v[1] *= scale; this._v[2] *= scale;\n        return this;\n    }\n\n    cross(/* Vector3 */ v2) {\n        let x = this._v[1] * v2._v[2] - this._v[2] * v2._v[1];\n        let y = this._v[2] * v2._v[0] - this._v[0] * v2._v[2];\n        let z = this._v[0] * v2._v[1] - this._v[1] * v2._v[0];\n        this._v[0]=x; this._v[1]=y; this._v[2]=z;\n        return this;\n    }\n\n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1] && this._v[2]==v._v[2]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1] || this._v[2]!=v._v[2]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; if (v._v.length>=3) this._v[2]=v._v[2]; }\n\n    set(x, y, z) {\n        this._v[0] = x;\n        this._v[1] = (y===undefined) ? x:y;\n        this._v[2] = (y===undefined) ? x:(z===undefined ? y:z);\n    }\n\n    get width() { return this._v[0]; }\n    get height() { return this._v[1]; }\n    get depth() { return this._v[2]; }\n    \n    set width(v) { this._v[0] = v; }\n    set height(v) { this._v[1] = v; }\n    set depth(v) { this._v[2] = v; }\n\n    get xy() { return new Vector2(this._v[0],this._v[1]); }\n    get yz() { return new Vector2(this._v[1],this._v[2]); }\n    get xz() { return new Vector2(this._v[0],this._v[2]); }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]) || isNaN(this._v[2]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n}\n\nexport class Vector4 extends Vector {\n    static Add(v1,v2) {\n        return new Vector4(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z, v1.w + v2.w);\n    }\n\n    static Sub(v1,v2) {\n        return new Vector4(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z, v1.w - v2.w);\n    }\n\n    static Yellow() { return new Vector4(1.0,1.0,0.0,1.0); }\n    static Orange() { return new Vector4(1.0,0.5,0.0,1.0); }\n    static Red() { return new Vector4(1.0,0.0,0.0,1.0); }\n    static Violet() { return new Vector4(0.5,0.0,1.0,1.0); }\n    static Blue() { return new Vector4(0.0,0.0,1.0,1.0); }\n    static Green() { return new Vector4(0.0,1.0,0.0,1.0); }\n    static White() { return new Vector4(1.0,1.0,1.0,1.0); }\n    static LightGray() { return new Vector4(0.8,0.8,0.8,1.0); }\n    static Gray() { return new Vector4(0.5,0.5,0.5,1.0); }\n    static DarkGray() { return new Vector4(0.2,0.2,0.2,1.0); }\n    static Black() { return new Vector4(0.0,0.0,0.0,1.0); }\n    static Brown() { return new Vector4(0.4,0.2,0.0,1.0); }\n    static Transparent() { return new Vector4(0,0,0,0); }\n    \n    constructor(x = 0, y = 0, z = 0, w = 0) {\n        super(new NumericArrayHighP(4));\n        if (x instanceof Vector2) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = y\n            this._v[3] = z;\n        }\n        else if (x instanceof Vector3) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = x._v[2];\n            this._v[3] = y;\n        }\n        else if (x instanceof Vector4) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = x._v[2];\n            this._v[3] = x._v[3];\n        }\n        else if (Array.isArray(x) && x.length>=4) {\n            this._v[0] = x[0];\n            this._v[1] = x[1];\n            this._v[2] = x[2];\n            this._v[3] = x[3];\n        }\n        else {\n            if (y===undefined) y=x;\n            if (z===undefined) z=y;\n            if (w===undefined) w=z;\n            this._v[0] = x;\n            this._v[1] = y;\n            this._v[2] = z;\n            this._v[3] = w;\n        }\n    }\n    \n    get z() { return this._v[2]; }\n    set z(v) { this._v[2] = v; }\n    get w() { return this._v[3]; }\n    set w(v) { this._v[3] = v; }\n    \n    magnitude() {\n        return Math.sqrt(\n            this._v[0] * this._v[0] +\n            this._v[1] * this._v[1] +\n            this._v[2] * this._v[2] +\n            this._v[3] * this._v[3]\n        );\n    }\n\n    normalize() {\n        let m = this.magnitude();\n        this._v[0] = this._v[0]/m;\n        this._v[1]=this._v[1]/m;\n        this._v[2]=this._v[2]/m;\n        this._v[3]=this._v[3]/m;\n        return this;\n    }\n\n    distance(other) {\n        let v3 = new Vector4(this._v[0] - other._v[0],\n                                  this._v[1] - other._v[1],\n                                  this._v[2] - other._v[2],\n                                  this._v[3] - other._v[3]);\n        return v3.magnitude();\n    }\n\n    add(v2) {\n        this._v[0] += v2._v[0];\n        this._v[1] += v2._v[1];\n        this._v[2] += v2._v[2];\n        this._v[3] += v2._v[3];\n        return this;\n    }\n\n    sub(v2) {\n        this._v[0] -= v2._v[0];\n        this._v[1] -= v2._v[1];\n        this._v[2] -= v2._v[2];\n        this._v[3] -= v2._v[3];\n        return this;\n    }\n\n    dot(v2) {\n        return this._v[0] * v2._v[0] + this._v[1] * v2._v[1] + this._v[2] * v2._v[2] + this._v[3] * v2._v[3];\n    }\n\n    scale(scale) {\n        this._v[0] *= scale; this._v[1] *= scale; this._v[2] *= scale; this._v[3] *= scale;\n        return this;\n    }\n\n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1] && this._v[2]==v._v[2] && this._v[3]==v._v[3]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1] || this._v[2]!=v._v[2] || this._v[3]!=v._v[3]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; if (v._v.length>=3) this._v[2]=v._v[2]; if (v._v.length==4) this._v[3]=v._v[3]; }\n\n    set(x, y, z, w) {\n        this._v[0] = x;\n        this._v[1] = (y===undefined) ? x:y;\n        this._v[2] = (y===undefined) ? x:(z===undefined ? y:z);\n        this._v[3] = (y===undefined) ? x:(z===undefined ? y:(w===undefined ? z:w));\n    }\n\n    get r() { return this._v[0]; }\n    get g() { return this._v[1]; }\n    get b() { return this._v[2]; }\n    get a() { return this._v[3]; }\n    \n    set r(v) { this._v[0] = v; }\n    set g(v) { this._v[1] = v; }\n    set b(v) { this._v[2] = v; }\n    set a(v) { this._v[3] = v; }\n\n    get xy() { return new Vector2(this._v[0],this._v[1]); }\n    get yz() { return new Vector2(this._v[1],this._v[2]); }\n    get xz() { return new Vector2(this._v[0],this._v[2]); }\n    get xyz() { return new Vector3(this._v[0],this._v[1],this._v[2]); }\n\n    get width() { return this._v[2]; }\n    get height() { return this._v[3]; }\n    \n    set width(v) { this._v[2] = v; }\n    set height(v) { this._v[3] = v; }\n    \n    get aspectRatio() { return this._v[3]!=0 ? this._v[2]/this._v[3]:1.0; }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]) || isNaN(this._v[2]) || isNaN(this._v[3]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n}\n\nexport const Size2D = Vector2;\nexport const Size3D = Vector3;\nexport const Position2D = Vector2;\nexport const Viewport = Vector4;\nexport const Color = Vector4;\n\n","\nimport { Vector3, Vector4 } from \"./Vector\";\nimport { NumericArray, NumericArrayHighP } from \"./constants\";\n\nexport default class Matrix3 {\n\tstatic Identity() {\n\t\treturn new Matrix3(1,0,0, 0,1,0, 0,0,1);\n\t}\n\t\n\tconstructor(v00=1,v01=0,v02=0,v10=0,v11=1,v12=0,v20=0,v21=0,v22=1) {\n\t\tthis._m = new NumericArray(9);\n\t\tif (Array.isArray(typeof(v00))) {\n\t\t\tthis._m[0] = v00[0]; this._m[1] = v00[1]; this._m[2] = v00[0];\n\t\t\tthis._m[3] = v00[3]; this._m[4] = v00[4]; this._m[5] = v00[5];\n\t\t\tthis._m[6] = v00[6]; this._m[7] = v00[7]; this._m[8] = v00[8];\n\t\t}\n\t\telse if (typeof(v00)==\"number\") {\n\t\t\tthis._m[0] = v00; this._m[1] = v01; this._m[2] = v02;\n\t\t\tthis._m[3] = v10; this._m[4] = v11; this._m[5] = v12;\n\t\t\tthis._m[6] = v20; this._m[7] = v21; this._m[8] = v22;\n\t\t}\n\t\telse {\n\t\t\tthis.assign(v00);\n\t\t}\n\t}\n\t\n\tget m() { return this._m; }\n\n\ttoArray() {\n\t\treturn [\n\t\t\tthis._m[0], this._m[1], this._m[2],\n\t\t\tthis._m[3], this._m[4], this._m[5],\n\t\t\tthis._m[6], this._m[7], this._m[8]\n\t\t]\n\t}\n\t\n\tget m00() { return this._m[0]; }\n\tget m01() { return this._m[1]; }\n\tget m02() { return this._m[2]; }\n\tget m10() { return this._m[3]; }\n\tget m11() { return this._m[4]; }\n\tget m12() { return this._m[5]; }\n\tget m20() { return this._m[6]; }\n\tget m21() { return this._m[7]; }\n\tget m22() { return this._m[8]; }\n\t\n\tset m00(v) { this._m[0] = v; }\n\tset m01(v) { this._m[1] = v; }\n\tset m02(v) { this._m[2] = v; }\n\tset m10(v) { this._m[3] = v; }\n\tset m11(v) { this._m[4] = v; }\n\tset m12(v) { this._m[5] = v; }\n\tset m20(v) { this._m[6] = v; }\n\tset m21(v) { this._m[7] = v; }\n\tset m22(v) { this._m[8] = v; }\n\t\n\tzero() {\n\t\tthis._m[0] = this._m[1] = this._m[2] =\n\t\tthis._m[3] = this._m[4] = this._m[5] =\n\t\tthis._m[6] = this._m[7] = this._m[8] = 0;\n\t\treturn this;\n\t}\n\n\tidentity() {\n\t\tthis._m[0] = 1; this._m[1] = 0; this._m[2] = 0;\n\t\tthis._m[3] = 0; this._m[4] = 1; this._m[5] = 0;\n\t\tthis._m[6] = 0; this._m[7] = 0; this._m[8] = 1;\n\t\treturn this;\n\t}\n\t\n\tisZero() {\n\t\treturn\tthis._m[0]==0.0 && this._m[1]==0.0 && this._m[2]==0.0 &&\n\t\t\t\tthis._m[3]==0.0 && this._m[4]==0.0 && this._m[5]==0.0 &&\n\t\t\t\tthis._m[6]==0.0 && this._m[7]==0.0 && this._m[8]==0.0;\n\t}\n\t\n\tisIdentity() {\n\t\treturn\tthis._m[0]==1.0 && this._m[1]==0.0 && this._m[2]==0.0 &&\n\t\t\t\tthis._m[3]==0.0 && this._m[4]==1.0 && this._m[5]==0.0 &&\n\t\t\t\tthis._m[6]==0.0 && this._m[7]==0.0 && this._m[8]==1.0;\n\t}\n\n\trow(i) { return new Vector3(this._m[i*3], this._m[i*3 + 1], this._m[i*3 + 2]); }\n\tsetRow(i, row) { this._m[i*3]=row._v[0]; this._m[i*3 + 1]=row._v[1]; this._m[i*3 + 2]=row._v[2]; return this; }\n\n\tsetScale(x,y,z) { \n\t\tlet rx = new Vector3(this._m[0], this._m[3], this._m[6]).normalize().scale(x);\n\t\tlet ry = new Vector3(this._m[1], this._m[4], this._m[7]).normalize().scale(y);\n\t\tlet rz = new Vector3(this._m[2], this._m[5], this._m[8]).normalize().scale(z);\n\t\tthis._m[0] = rx.x; this._m[3] = rx.y; this._m[6] = rx.z;\n\t\tthis._m[1] = ry.x; this._m[4] = ry.y; this._m[7] = ry.z;\n\t\tthis._m[2] = rz.x; this._m[5] = rz.y; this._m[8] = rz.z;\n\t\treturn this;\n\t}\n\tgetScale() {\n\t\treturn new Vector3(\n\t\t\tnew Vector3(this._m[0], this._m[3], this._m[6]).module,\n\t\t\tnew Vector3(this._m[1], this._m[4], this._m[7]).module,\n\t\t\tnew Vector3(this._m[2], this._m[5], this._m[8]).module\n\t\t);\n\t}\n\t\n\tget length() { return this._m.length; }\n\t\n\ttraspose() {\n\t\tlet r0 = new Vector3(this._m[0], this._m[3], this._m[6]);\n\t\tlet r1 = new Vector3(this._m[1], this._m[4], this._m[7]);\n\t\tlet r2 = new Vector3(this._m[2], this._m[5], this._m[8]);\n\t\t\n\t\tthis.setRow(0, r0);\n\t\tthis.setRow(1, r1);\n\t\tthis.setRow(2, r2);\n\n\t\treturn this;\n\t}\n\t\n\telemAtIndex(i) { return this._m[i]; }\n\tassign(a) {\n\t\tif (a.length==9) {\n\t\t\tthis._m[0] = a._m[0]; this._m[1] = a._m[1]; this._m[2] = a._m[2];\n\t\t\tthis._m[3] = a._m[3]; this._m[4] = a._m[4]; this._m[5] = a._m[5];\n\t\t\tthis._m[6] = a._m[6]; this._m[7] = a._m[7]; this._m[8] = a._m[8];\n\t\t}\n\t\telse if (a.length==16) {\n\t\t\tthis._m[0] = a._m[0]; this._m[1] = a._m[1]; this._m[2] = a._m[2];\n\t\t\tthis._m[3] = a._m[4]; this._m[4] = a._m[5]; this._m[5] = a._m[6];\n\t\t\tthis._m[6] = a._m[8]; this._m[7] = a._m[9]; this._m[8] = a._m[10];\n\t\t}\n\t\treturn this;\n\t}\n\t\n\tequals(m) {\n\t\treturn\tthis._m[0] == m._m[0] && this._m[1] == m._m[1]  && this._m[2] == m._m[2] &&\n\t\t\t\tthis._m[3] == m._m[3] && this._m[4] == m._m[4]  && this._m[5] == m._m[5] &&\n\t\t\t\tthis._m[6] == m._m[6] && this._m[7] == m._m[7]  && this._m[8] == m._m[8];\n\t}\n\n\tnotEquals(m) {\n\t\treturn\tthis._m[0] != m._m[0] || this._m[1] != m._m[1]  || this._m[2] != m._m[2] &&\n\t\t\t\tthis._m[3] != m._m[3] || this._m[4] != m._m[4]  || this._m[5] != m._m[5] &&\n\t\t\t\tthis._m[6] != m._m[6] || this._m[7] != m._m[7]  || this._m[8] != m._m[8];\n\t}\n\t\t\n\tmult(a) {\n\t\tif (typeof(a)==\"number\") {\n\t\t\tthis._m[0] *= a; this._m[1] *= a; this._m[2] *= a;\n\t\t\tthis._m[3] *= a; this._m[4] *= a; this._m[5] *= a;\n\t\t\tthis._m[6] *= a; this._m[7] *= a; this._m[8] *= a;\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tlet rm = this._m;\n\t\t\tlet lm = a._m;\n\t\t\t\n\t\t\tlet res = new NumericArray(9);\n\t\t\tres[0] = lm[0] * rm[0] + lm[1] * rm[1] + lm[2] * rm[2];\n\t\t\tres[1] = lm[0] * rm[1] + lm[1] * rm[4] + lm[2] * rm[7];\n\t\t\tres[2] = lm[0] * rm[2] + lm[1] * rm[5] + lm[2] * rm[8];\n\t\t\t\n\t\t\tres[3] = lm[3] * rm[0] + lm[4] * rm[3] + lm[5] * rm[6];\n\t\t\tres[4] = lm[3] * rm[1] + lm[4] * rm[4] + lm[5] * rm[7];\n\t\t\tres[5] = lm[3] * rm[2] + lm[4] * rm[5] + lm[5] * rm[8];\n\t\t\t\n\t\t\tres[6]= lm[6] * rm[0] + lm[7] * rm[3] + lm[8] * rm[6];\n\t\t\tres[7] = lm[6] * rm[1] + lm[7] * rm[4] + lm[8] * rm[7];\n\t\t\tres[8] = lm[6] * rm[2] + lm[7] * rm[5] + lm[8] * rm[8];\n\t\t\tthis._m = res;\n\t\t}\n\t\treturn this;\n\t}\n\n\tmultVector(vec) {\n\t\tif (typeof(vec)=='object' && vec._v && vec._v.length>=2) {\n\t\t\tvec = vec._v;\n\t\t}\n\t\tlet x=vec[0];\n\t\tlet y=vec[1];\n\t\tlet z=1.0;\n\t\n\t\treturn new Vector3(\tthis._m[0]*x + this._m[3]*y + this._m[6]*z,\n\t\t\t\t\t\t\t\tthis._m[1]*x + this._m[4]*y + this._m[7]*z,\n\t\t\t\t\t\t\t\tthis._m[2]*x + this._m[5]*y + this._m[8]*z);\n\t}\n\t\t\n\tisNan() {\n\t\treturn\t!isNaN(_m[0]) && !isNaN(_m[1]) && !isNaN(_m[2]) &&\n\t\t\t\t!isNaN(_m[3]) && !isNaN(_m[4]) && !isNaN(_m[5]) &&\n\t\t\t\t!isNaN(_m[6]) && !isNaN(_m[7]) && !isNaN(_m[8]);\n\t}\n\n\ttoString() {\n\t\treturn \"[\" + this._m[0] + \", \" + this._m[1] + \", \" + this._m[2] + \"]\\n\" +\n\t\t\t   \" [\" + this._m[3] + \", \" + this._m[4] + \", \" + this._m[5] + \"]\\n\" +\n\t\t\t   \" [\" + this._m[6] + \", \" + this._m[7] + \", \" + this._m[8] + \"]\";\n\t}\n}\n","\nimport {\n    EPSILON,\n    DEG_TO_RAD,\n    RAD_TO_DEG\n} from './constants';\n\nlet s_bg_math_seed = Date.now();\n\nexport const checkPowerOfTwo = (n) => {\n    if (typeof n !== 'number') {\n        return false;\n    }\n    else {\n        return n && (n & (n - 1)) === 0;\n    }  \n}\n\nexport const checkZero = (v) => {\n    return v>-EPSILON && v<EPSILON ? 0:v;\n}\n\nexport const equals = (a,b) => {\n    return Math.abs(a - b) < EPSILON;\n}\n\nexport const degreesToRadians = (d) => {\n    return Math.fround(checkZero(d * DEG_TO_RAD));\n}\n\nexport const radiansToDegrees = (r) => {\n    return Math.fround(checkZero(r * RAD_TO_DEG));\n}\n\nexport const sin = (val) => {\n    return Math.fround(checkZero(Math.sin(val)));\n}\n\nexport const cos = (val) => {\n    return Math.fround(checkZero(Math.cos(val)));\n}\n\nexport const tan = (val) => {\n    return Math.fround(checkZero(Math.tan(val)));\n}\n\nexport const cotan = (val) => {\n    return Math.fround(checkZero(1.0 / tan(val)));\n}\n\nexport const atan = (val) => {\n    return Math.fround(checkZero(Math.atan(val)));\n}\n\nexport const atan2 = (i, j) => {\n    return Math.fround(checkZero(Math.atan2f(i, j)));\n}\n\nexport const random = () => {\n    return Math.random();\n}\n\nexport const seededRandom = () => {\n    const max = 1;\n    const min = 0;\n \n    s_bg_math_seed = (s_bg_math_seed * 9301 + 49297) % 233280;\n    const rnd = s_bg_math_seed / 233280;\n \n    return min + rnd * (max - min);\n}\n\nexport const max = (a,b) => {\n    return Math.fround(Math.max(a,b));\n}\n\nexport const min = (a,b) => {\n    return Math.fround(Math.min(a,b));\n}\n\nexport const abs = (val) => {\n    return Math.fround(Math.abs(val));\n}\n\nexport const sqrt = (val) => {\n    return Math.fround(Math.sqrt(val));\n}\n\nexport const lerp = (from, to, t) => {\n    return Math.fround((1.0 - t) * from + t * to);\n}\n\nexport const square = (n) => {\n    return Math.fround(n * n);\n}\n","import { Vector3, Vector4 } from \"./Vector\";\nimport { sin, cos, tan } from \"./functions\";\nimport { NumericArray, PI } from \"./constants\";\n\nexport default class Matrix4 {\n\tstatic Unproject(x, y, depth, mvMat, pMat, viewport) {\n\t\tlet mvp = new Matrix4(pMat);\n\t\tmvp.mult(mvMat);\n\t\tmvp.invert();\n\n\t\tlet vin = new Vector4(((x - viewport.y) / viewport.width) * 2.0 - 1.0,\n\t\t\t\t\t\t\t\t((y - viewport.x) / viewport.height) * 2.0 - 1.0,\n\t\t\t\t\t\t\t\tdepth * 2.0 - 1.0,\n\t\t\t\t\t\t\t\t1.0);\n\t\t\n\t\tlet result = new Vector4(mvp.multVector(vin));\n\t\tif (result.z==0) {\n\t\t\tresult.set(0);\n\t\t}\n\t\telse {\n\t\t\tresult.set(\tresult.x/result.w,\n\t\t\t\t\t\tresult.y/result.w,\n\t\t\t\t\t\tresult.z/result.w,\n\t\t\t\t\t\tresult.w/result.w);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tstatic Identity() {\n\t\treturn new Matrix4(1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1);\n\t}\n\t\t\n\tstatic Perspective(fovy, aspect, nearPlane, farPlane) {\n\t\tlet fovy2 = tan(fovy * PI / 360.0) * nearPlane;\n\t\tlet fovy2aspect = fovy2 * aspect;\n\n\t\treturn Matrix4.Frustum(-fovy2aspect,fovy2aspect,-fovy2,fovy2,nearPlane,farPlane);\n\t}\n\n\tstatic Frustum(left, right, bottom, top, nearPlane, farPlane) {\n\t\tlet res = new Matrix4();\n\t\tlet A = right-left;\n\t\tlet B = top-bottom;\n\t\tlet C = farPlane-nearPlane;\n\t\t\n\t\tres.setRow(0, new Vector4(nearPlane*2.0/A,\t0.0,\t0.0,\t0.0));\n\t\tres.setRow(1, new Vector4(0.0,\tnearPlane*2.0/B,\t0.0,\t0.0));\n\t\tres.setRow(2, new Vector4((right+left)/A,\t(top+bottom)/B,\t-(farPlane+nearPlane)/C,\t-1.0));\n\t\tres.setRow(3, new Vector4(0.0,\t0.0,\t-(farPlane*nearPlane*2.0)/C,\t0.0));\n\t\t\n\t\treturn res;\n\t}\n\n\tstatic Ortho(left, right, bottom, top, nearPlane, farPlane) {\n\t\tlet p = new Matrix4();\n\t\t\n\t\tlet m = right-left;\n\t\tlet l = top-bottom;\n\t\tlet k = farPlane-nearPlane;;\n\t\t\n\t\tp._m[0] = 2/m; p._m[1] = 0;   p._m[2] = 0;     p._m[3] = 0;\n\t\tp._m[4] = 0;   p._m[5] = 2/l; p._m[6] = 0;     p._m[7] = 0;\n\t\tp._m[8] = 0;   p._m[9] = 0;   p._m[10] = -2/k; p._m[11]= 0;\n\t\tp._m[12]=-(left+right)/m; p._m[13] = -(top+bottom)/l; p._m[14] = -(farPlane+nearPlane)/k; p._m[15]=1;\n\n\t\treturn p;\n\t}\n\t\t\n\tstatic LookAt(p_eye, p_center, p_up) {\n\t\tlet result = Matrix4.Identity();\n\t\tlet y = new Vector3(p_up);\n\t\tlet z = Vector3.Sub(p_eye,p_center);\n\t\tz.normalize();\n\t\tlet x = Vector3.Cross(y,z);\n\t\tx.normalize();\n\t\ty.normalize();\n\n\t\tresult.m00 = x.x;\n\t\tresult.m10 = x.y;\n\t\tresult.m20 = x.z;\n\t\tresult.m30 = -x.dot( p_eye );\n\t\tresult.m01 = y.x;\n\t\tresult.m11 = y.y;\n\t\tresult.m21 = y.z;\n\t\tresult.m31 = -y.dot( p_eye );\n\t\tresult.m02 = z.x;\n\t\tresult.m12 = z.y;\n\t\tresult.m22 = z.z;\n\t\tresult.m32 = -z.dot( p_eye );\n\t\tresult.m03 = 0;\n\t\tresult.m13 = 0;\n\t\tresult.m23 = 0;\n\t\tresult.m33 = 1;\n\t\n\t\treturn result;\n\t}\n\n\tstatic Translation(x, y, z) {\n\t\tif (typeof(x)=='object' && x._v && x._v.length>=3) {\n\t\t\ty = x._v[1];\n\t\t\tz = x._v[2];\n\t\t\tx = x._v[0];\n\t\t}\n\t\treturn new Matrix4(\n\t\t\t1.0, 0.0, 0.0, 0.0,\n\t\t\t0.0, 1.0, 0.0, 0.0,\n\t\t\t0.0, 0.0, 1.0, 0.0,\n\t\t\t  x,   y,   z, 1.0\n\t\t);\n\t}\n\t\t\n\tstatic Rotation(alpha, x, y, z) {\n\t\tlet axis = new Vector3(x,y,z);\n\t\taxis.normalize();\n\t\tlet rot = new Matrix4(1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1);\n\t\t\t\t\n\t\tvar cosAlpha = cos(alpha);\n\t\tvar acosAlpha = 1.0 - cosAlpha;\n\t\tvar sinAlpha = sin(alpha);\n\t\t\n\t\treturn new Matrix4(\n\t\t\taxis.x * axis.x * acosAlpha + cosAlpha, axis.x * axis.y * acosAlpha + axis.z * sinAlpha, axis.x * axis.z * acosAlpha - axis.y * sinAlpha, 0,\n\t\t\taxis.y * axis.x * acosAlpha - axis.z * sinAlpha, axis.y * axis.y * acosAlpha + cosAlpha, axis.y * axis.z * acosAlpha + axis.x * sinAlpha, 0,\n\t\t\taxis.z * axis.x * acosAlpha + axis.y * sinAlpha, axis.z * axis.y * acosAlpha - axis.x * sinAlpha, axis.z * axis.z * acosAlpha + cosAlpha, 0,\n\t\t\t0,0,0,1\n\t\t);\n\t}\n\n\tstatic Scale(x, y, z) {\n\t\tif (typeof(x)=='object' && x._v && x._v.length>=3) {\n\t\t\tx = x._v[0];\n\t\t\ty = x._v[1];\n\t\t\tz = x._v[2];\n\t\t}\n\t\treturn new Matrix4(\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\t\t)\n\t}\n\t\n\tconstructor(m00=0,m01=0,m02=0,m03=0, m10=0,m11=0,m12=0,m13=0, m20=0,m21=0,m22=0,m23=0, m30=0,m31=0,m32=0,m33=0) {\n\t\tthis._m = new NumericArray(16);\n\t\tif (Array.isArray(m00)) {\n\t\t\tthis._m[ 0] =  m00[0]; this._m[ 1] =  m00[1]; this._m[ 2] =  m00[2]; this._m[ 3] =  m00[3];\n\t\t\tthis._m[ 4] =  m00[4]; this._m[ 5] =  m00[5]; this._m[ 6] =  m00[6]; this._m[ 7] =  m00[7];\n\t\t\tthis._m[ 8] =  m00[8]; this._m[ 9] =  m00[9]; this._m[10] = m00[10]; this._m[11] = m00[11];\n\t\t\tthis._m[12] = m00[12]; this._m[13] = m00[13]; this._m[14] = m00[14]; this._m[15] = m00[15];\n\t\t}\n\t\telse if (typeof(m00)==\"number\") {\n\t\t\tthis._m[ 0] = m00; this._m[ 1] = m01; this._m[ 2] = m02; this._m[ 3] = m03;\n\t\t\tthis._m[ 4] = m10; this._m[ 5] = m11; this._m[ 6] = m12; this._m[ 7] = m13;\n\t\t\tthis._m[ 8] = m20; this._m[ 9] = m21; this._m[10] = m22; this._m[11] = m23;\n\t\t\tthis._m[12] = m30; this._m[13] = m31; this._m[14] = m32; this._m[15] = m33;\n\t\t}\n\t\telse {\n\t\t\tthis.assign(m00);\n\t\t}\n\t}\n\t\n\tget m() { return this._m; }\n\n\ttoArray() {\n\t\treturn [\n\t\t\tthis._m[ 0], this._m[ 1], this._m[ 2], this._m[ 3],\n\t\t\tthis._m[ 4], this._m[ 5], this._m[ 6], this._m[ 7],\n\t\t\tthis._m[ 8], this._m[ 9], this._m[10], this._m[11],\n\t\t\tthis._m[12], this._m[13], this._m[14], this._m[15]\n\t\t]\n\t}\n\t\n\tget m00() { return this._m[0]; }\n\tget m01() { return this._m[1]; }\n\tget m02() { return this._m[2]; }\n\tget m03() { return this._m[3]; }\n\tget m10() { return this._m[4]; }\n\tget m11() { return this._m[5]; }\n\tget m12() { return this._m[6]; }\n\tget m13() { return this._m[7]; }\n\tget m20() { return this._m[8]; }\n\tget m21() { return this._m[9]; }\n\tget m22() { return this._m[10]; }\n\tget m23() { return this._m[11]; }\n\tget m30() { return this._m[12]; }\n\tget m31() { return this._m[13]; }\n\tget m32() { return this._m[14]; }\n\tget m33() { return this._m[15]; }\n\t\n\tset m00(v) { this._m[0] = v; }\n\tset m01(v) { this._m[1] = v; }\n\tset m02(v) { this._m[2] = v; }\n\tset m03(v) { this._m[3] = v; }\n\tset m10(v) { this._m[4] = v; }\n\tset m11(v) { this._m[5] = v; }\n\tset m12(v) { this._m[6] = v; }\n\tset m13(v) { this._m[7] = v; }\n\tset m20(v) { this._m[8] = v; }\n\tset m21(v) { this._m[9] = v; }\n\tset m22(v) { this._m[10] = v; }\n\tset m23(v) { this._m[11] = v; }\n\tset m30(v) { this._m[12] = v; }\n\tset m31(v) { this._m[13] = v; }\n\tset m32(v) { this._m[14] = v; }\n\tset m33(v) { this._m[15] = v; }\n\n\tzero() {\n\t\tthis._m[ 0] = 0; this._m[ 1] = 0; this._m[ 2] = 0; this._m[ 3] = 0;\n\t\tthis._m[ 4] = 0; this._m[ 5] = 0; this._m[ 6] = 0; this._m[ 7] = 0;\n\t\tthis._m[ 8] = 0; this._m[ 9] = 0; this._m[10] = 0; this._m[11] = 0;\n\t\tthis._m[12] = 0; this._m[13] = 0; this._m[14] = 0; this._m[15] = 0;\n\t\treturn this;\n\t}\n\n\tidentity() {\n\t\tthis._m[ 0] = 1; this._m[ 1] = 0; this._m[ 2] = 0; this._m[ 3] = 0;\n\t\tthis._m[ 4] = 0; this._m[ 5] = 1; this._m[ 6] = 0; this._m[ 7] = 0;\n\t\tthis._m[ 8] = 0; this._m[ 9] = 0; this._m[10] = 1; this._m[11] = 0;\n\t\tthis._m[12] = 0; this._m[13] = 0; this._m[14] = 0; this._m[15] = 1;\n\t\treturn this;\n\t}\n\t\n\tisZero() {\n\t\treturn\tthis._m[ 0]==0 && this._m[ 1]==0 && this._m[ 2]==0 && this._m[ 3]==0 &&\n\t\t\t\tthis._m[ 4]==0 && this._m[ 5]==0 && this._m[ 6]==0 && this._m[ 7]==0 &&\n\t\t\t\tthis._m[ 8]==0 && this._m[ 9]==0 && this._m[10]==0 && this._m[11]==0 &&\n\t\t\t\tthis._m[12]==0 && this._m[13]==0 && this._m[14]==0 && this._m[15]==0;\n\t}\n\t\n\tisIdentity() {\n\t\treturn\tthis._m[ 0]==1 && this._m[ 1]==0 && this._m[ 2]==0 && this._m[ 3]==0 &&\n\t\t\t\tthis._m[ 4]==0 && this._m[ 5]==1 && this._m[ 6]==0 && this._m[ 7]==0 &&\n\t\t\t\tthis._m[ 8]==0 && this._m[ 9]==0 && this._m[10]==1 && this._m[11]==0 &&\n\t\t\t\tthis._m[12]==0 && this._m[13]==0 && this._m[14]==0 && this._m[15]==1;\n\t}\n\n\trow(i) { return new Vector4(this._m[i*4],this._m[i*4 + 1],this._m[i*4 + 2],this._m[i*4 + 3]); }\n\tsetRow(i, row) { this._m[i*4]=row._v[0]; this._m[i*4 + 1]=row._v[1]; this._m[i*4 + 2]=row._v[2]; this._m[i*4 + 3]=row._v[3]; return this; }\n\tsetScale(x,y,z) {\n\t\tlet rx = new Vector3(this._m[0], this._m[4], this._m[8]).normalize().scale(x);\n\t\tlet ry = new Vector3(this._m[1], this._m[5], this._m[9]).normalize().scale(y);\n\t\tlet rz = new Vector3(this._m[2], this._m[6], this._m[10]).normalize().scale(z);\n\t\tthis._m[0] = rx.x; this._m[4] = rx.y; this._m[8] = rx.z;\n\t\tthis._m[1] = ry.x; this._m[5] = ry.y; this._m[9] = ry.z;\n\t\tthis._m[2] = rz.x; this._m[6] = rz.y; this._m[10] = rz.z;\n\t\treturn this;\n\t}\n\tgetScale() {\n\t\treturn new Vector3(\n\t\t\tnew Vector3(this._m[0], this._m[4], this._m[8]).module,\n\t\t\tnew Vector3(this._m[1], this._m[5], this._m[9]).module,\n\t\t\tnew Vector3(this._m[2], this._m[6], this._m[10]).module\n\t\t);\n\t}\n\n\tsetPosition(pos,y,z) {\n\t\tif (typeof(pos)==\"number\") {\n\t\t\tthis._m[12] = pos;\n\t\t\tthis._m[13] = y;\n\t\t\tthis._m[14] = z;\n\t\t}\n\t\telse {\n\t\t\tthis._m[12] = pos.x;\n\t\t\tthis._m[13] = pos.y;\n\t\t\tthis._m[14] = pos.z;\n\t\t}\n\t\treturn this;\n\t}\n\n\tget rotation() {\n\t\tlet scale = this.getScale();\n\t\treturn new Matrix4(\n\t\t\t\tthis._m[0]/scale.x, this._m[1]/scale.y, this._m[ 2]/scale.z, 0,\n\t\t\t\tthis._m[4]/scale.x, this._m[5]/scale.y, this._m[ 6]/scale.z, 0,\n\t\t\t\tthis._m[8]/scale.x, this._m[9]/scale.y, this._m[10]/scale.z, 0,\n\t\t\t\t0,\t   0,\t  0, \t1\n\t\t\t);\n\t}\n\n\tget position() {\n\t\treturn new Vector3(this._m[12], this._m[13], this._m[14]);\n\t}\n\t\n\tget length() { return this._m.length; }\n\t\n\tgetMatrix3() {\n\t\treturn new Matrix3(this._m[0], this._m[1], this._m[ 2],\n\t\t\t\t\t\t\t\tthis._m[4], this._m[5], this._m[ 6],\n\t\t\t\t\t\t\t\tthis._m[8], this._m[9], this._m[10]);\n\t}\n\t\n\tperspective(fovy, aspect, nearPlane, farPlane) {\n\t\tthis.assign(Matrix4.Perspective(fovy, aspect, nearPlane, farPlane));\n\t\treturn this;\n\t}\n\t\n\tfrustum(left, right, bottom, top, nearPlane, farPlane) {\n\t\tthis.assign(Matrix4.Frustum(left, right, bottom, top, nearPlane, farPlane));\n\t\treturn this;\n\t}\n\t\n\tortho(left, right, bottom, top, nearPlane, farPlane) {\n\t\tthis.assign(Matrix4.Ortho(left, right, bottom, top, nearPlane, farPlane));\n\t\treturn this;\n\t}\n\n\tlookAt(origin, target, up) {\n\t\tthis.assign(Matrix4.LookAt(origin,target,up));\n\t\treturn this;\n\t}\n\n\ttranslate(x, y, z) {\n\t\tthis.mult(Matrix4.Translation(x, y, z));\n\t\treturn this;\n\t}\n\n\trotate(alpha, x, y, z) {\n\t\tthis.mult(Matrix4.Rotation(alpha, x, y, z));\n\t\treturn this;\n\t}\n\t\n\tscale(x, y, z) {\n\t\tthis.mult(Matrix4.Scale(x, y, z));\n\t\treturn this;\n\t}\n\n\telemAtIndex(i) { return this._m[i]; }\n\n\tassign(a) {\n\t\tif (a.length==9) {\n\t\t\tthis._m[0]  = a._m[0]; this._m[1]  = a._m[1]; this._m[2]  = a._m[2]; this._m[3]  = 0;\n\t\t\tthis._m[4]  = a._m[3]; this._m[5]  = a._m[4]; this._m[6]  = a._m[5]; this._m[7]  = 0;\n\t\t\tthis._m[8]  = a._m[6]; this._m[9]  = a._m[7]; this._m[10] = a._m[8]; this._m[11] = 0;\n\t\t\tthis._m[12] = 0;\t   this._m[13] = 0;\t\t  this._m[14] = 0;\t\t this._m[15] = 1;\n\t\t}\n\t\telse if (a.length==16) {\n\t\t\tthis._m[0]  = a._m[0];  this._m[1]  = a._m[1];  this._m[2]  = a._m[2];  this._m[3]  = a._m[3];\n\t\t\tthis._m[4]  = a._m[4];  this._m[5]  = a._m[5];  this._m[6]  = a._m[6];  this._m[7]  = a._m[7];\n\t\t\tthis._m[8]  = a._m[8];  this._m[9]  = a._m[9];  this._m[10] = a._m[10]; this._m[11] = a._m[11];\n\t\t\tthis._m[12] = a._m[12]; this._m[13] = a._m[13];\tthis._m[14] = a._m[14];\tthis._m[15] = a._m[15];\n\t\t}\n\t\treturn this;\n\t}\n\t\n\tequals(m) {\n\t\treturn\tthis._m[ 0]==m._m[ 0] && this._m[ 1]==m._m[ 1] && this._m[ 2]==m._m[ 2] && this._m[ 3]==m._m[ 3] &&\n\t\t\t\tthis._m[ 4]==m._m[ 4] && this._m[ 5]==m._m[ 5] && this._m[ 6]==m._m[ 6] && this._m[ 7]==m._m[ 7] &&\n\t\t\t\tthis._m[ 8]==m._m[ 8] && this._m[ 9]==m._m[ 9] && this._m[10]==m._m[10] && this._m[11]==m._m[11] &&\n\t\t\t\tthis._m[12]==m._m[12] && this._m[13]==m._m[13] && this._m[14]==m._m[14] && this._m[15]==m._m[15];\n\t}\n\t\n\tnotEquals(m) {\n\t\treturn\tthis._m[ 0]!=m._m[ 0] || this._m[ 1]!=m._m[ 1] || this._m[ 2]!=m._m[ 2] || this._m[ 3]!=m._m[ 3] ||\n\t\t\t\tthis._m[ 4]!=m._m[ 4] || this._m[ 5]!=m._m[ 5] || this._m[ 6]!=m._m[ 6] || this._m[ 7]!=m._m[ 7] ||\n\t\t\t\tthis._m[ 8]!=m._m[ 8] || this._m[ 9]!=m._m[ 9] || this._m[10]!=m._m[10] || this._m[11]!=m._m[11] ||\n\t\t\t\tthis._m[12]!=m._m[12] || this._m[13]!=m._m[13] || this._m[14]!=m._m[14] || this._m[15]!=m._m[15];\n\t}\n\t\n\tmult(a) {\n\t\tif (typeof(a)=='number') {\n\t\t\tthis._m[ 0] *= a; this._m[ 1] *= a; this._m[ 2] *= a; this._m[ 3] *= a;\n\t\t\tthis._m[ 4] *= a; this._m[ 5] *= a; this._m[ 6] *= a; this._m[ 7] *= a;\n\t\t\tthis._m[ 8] *= a; this._m[ 9] *= a; this._m[10] *= a; this._m[11] *= a;\n\t\t\tthis._m[12] *= a; this._m[13] *= a; this._m[14] *= a; this._m[15] *= a;\n\t\t\treturn this;\n\t\t}\n\n\t\tvar rm = this._m;\n\t\tvar lm = a._m;\n\t\tvar res = new NumericArray(16);\n\t\n\t\tres[0] = lm[ 0] * rm[ 0] + lm[ 1] * rm[ 4] + lm[ 2] * rm[ 8] + lm[ 3] * rm[12];\n\t\tres[1] = lm[ 0] * rm[ 1] + lm[ 1] * rm[ 5] + lm[ 2] * rm[ 9] + lm[ 3] * rm[13];\n\t\tres[2] = lm[ 0] * rm[ 2] + lm[ 1] * rm[ 6] + lm[ 2] * rm[10] + lm[ 3] * rm[14];\n\t\tres[3] = lm[ 0] * rm[ 3] + lm[ 1] * rm[ 7] + lm[ 2] * rm[11] + lm[ 3] * rm[15];\n\t\t\n\t\tres[4] = lm[ 4] * rm[ 0] + lm[ 5] * rm[ 4] + lm[ 6] * rm[ 8] + lm[ 7] * rm[12];\n\t\tres[5] = lm[ 4] * rm[ 1] + lm[ 5] * rm[ 5] + lm[ 6] * rm[ 9] + lm[ 7] * rm[13];\n\t\tres[6] = lm[ 4] * rm[ 2] + lm[ 5] * rm[ 6] + lm[ 6] * rm[10] + lm[ 7] * rm[14];\n\t\tres[7] = lm[ 4] * rm[ 3] + lm[ 5] * rm[ 7] + lm[ 6] * rm[11] + lm[ 7] * rm[15];\n\t\t\n\t\tres[8]  = lm[ 8] * rm[ 0] + lm[ 9] * rm[ 4] + lm[10] * rm[ 8] + lm[11] * rm[12];\n\t\tres[9]  = lm[ 8] * rm[ 1] + lm[ 9] * rm[ 5] + lm[10] * rm[ 9] + lm[11] * rm[13];\n\t\tres[10] = lm[ 8] * rm[ 2] + lm[ 9] * rm[ 6] + lm[10] * rm[10] + lm[11] * rm[14];\n\t\tres[11] = lm[ 8] * rm[ 3] + lm[ 9] * rm[ 7] + lm[10] * rm[11] + lm[11] * rm[15];\n\t\t\n\t\tres[12] = lm[12] * rm[ 0] + lm[13] * rm[ 4] + lm[14] * rm[ 8] + lm[15] * rm[12];\n\t\tres[13] = lm[12] * rm[ 1] + lm[13] * rm[ 5] + lm[14] * rm[ 9] + lm[15] * rm[13];\n\t\tres[14] = lm[12] * rm[ 2] + lm[13] * rm[ 6] + lm[14] * rm[10] + lm[15] * rm[14];\n\t\tres[15] = lm[12] * rm[ 3] + lm[13] * rm[ 7] + lm[14] * rm[11] + lm[15] * rm[15];\n\t\n\t\tthis._m = res;\n\t\treturn this;\n\t}\n\n\tmultVector(vec) {\n\t\tif (typeof(vec)=='object' && vec._v && vec._v.length>=3) {\n\t\t\tvec = vec._v;\n\t\t}\n\t\tlet x=vec[0];\n\t\tlet y=vec[1];\n\t\tlet z=vec[2];\n\t\tlet w=1.0;\n\t\n\t\treturn new Vector4(this._m[0]*x + this._m[4]*y + this._m[ 8]*z + this._m[12]*w,\n\t\t\t\t\t\t\t\tthis._m[1]*x + this._m[5]*y + this._m[ 9]*z + this._m[13]*w,\n\t\t\t\t\t\t\t\tthis._m[2]*x + this._m[6]*y + this._m[10]*z + this._m[14]*w,\n\t\t\t\t\t\t\t\tthis._m[3]*x + this._m[7]*y + this._m[11]*z + this._m[15]*w);\n\t}\n\t\n\tinvert() {\n\t\tlet a00 = this._m[0],  a01 = this._m[1],  a02 = this._m[2],  a03 = this._m[3],\n\t        a10 = this._m[4],  a11 = this._m[5],  a12 = this._m[6],  a13 = this._m[7],\n\t        a20 = this._m[8],  a21 = this._m[9],  a22 = this._m[10], a23 = this._m[11],\n\t        a30 = this._m[12], a31 = this._m[13], a32 = this._m[14], a33 = this._m[15];\n\n\t    let b00 = a00 * a11 - a01 * a10,\n\t        b01 = a00 * a12 - a02 * a10,\n\t        b02 = a00 * a13 - a03 * a10,\n\t        b03 = a01 * a12 - a02 * a11,\n\t        b04 = a01 * a13 - a03 * a11,\n\t        b05 = a02 * a13 - a03 * a12,\n\t        b06 = a20 * a31 - a21 * a30,\n\t        b07 = a20 * a32 - a22 * a30,\n\t        b08 = a20 * a33 - a23 * a30,\n\t        b09 = a21 * a32 - a22 * a31,\n\t        b10 = a21 * a33 - a23 * a31,\n\t        b11 = a22 * a33 - a23 * a32;\n\n\t    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n\t    if (!det) {\n\t\t\tthis.zero();\n\t        return this;\n\t    }\n\t\telse {\n\t\t\tdet = 1.0 / det;\n\n\t\t\tthis._m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n\t\t\tthis._m[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n\t\t\tthis._m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n\t\t\tthis._m[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n\t\t\tthis._m[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n\t\t\tthis._m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n\t\t\tthis._m[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n\t\t\tthis._m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n\t\t\tthis._m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\t\t\tthis._m[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\t\t\tthis._m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\t\t\tthis._m[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n\t\t\tthis._m[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n\t\t\tthis._m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n\t\t\tthis._m[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n\t\t\tthis._m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\t\t\treturn this;\n\t\t}\n\t}\n\t\n\ttraspose() {\n\t\tlet r0 = new Vector4(this._m[0], this._m[4], this._m[ 8], this._m[12]);\n\t\tlet r1 = new Vector4(this._m[1], this._m[5], this._m[ 9], this._m[13]);\n\t\tlet r2 = new Vector4(this._m[2], this._m[6], this._m[10], this._m[14]);\n\t\tlet r3 = new Vector4(this._m[3], this._m[7], this._m[11], this._m[15]);\n\t\n\t\tthis.setRow(0, r0);\n\t\tthis.setRow(1, r1);\n\t\tthis.setRow(2, r2);\n\t\tthis.setRow(3, r3);\n\t\treturn this;\n\t}\n\t\n\ttransformDirection(/* Vector3 */ dir) {\n\t\tlet direction = new Vector3(dir);\n\t\tlet trx = new Matrix4(this);\n\t\ttrx.setRow(3, new Vector4(0.0, 0.0, 0.0, 1.0));\n\t\tdirection.assign(trx.multVector(direction).xyz);\n\t\tdirection.normalize();\n\t\treturn direction;\n\t}\n\t\n\tget forwardVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, 0.0, 1.0));\n\t}\n\t\n\tget rightVector() {\n\t\treturn this.transformDirection(new Vector3(1.0, 0.0, 0.0));\n\t}\n\t\n\tget upVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, 1.0, 0.0));\n\t}\n\t\n\tget backwardVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, 0.0, -1.0));\n\t}\n\t\n\tget leftVector() {\n\t\treturn this.transformDirection(new Vector3(-1.0, 0.0, 0.0));\n\t}\n\t\n\tget downVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, -1.0, 0.0));\n\t}\n\t\n\tisNan() {\n\t\treturn\tNumber.isNaN(this._m[ 0]) || Number.isNaN(this._m[ 1]) || Number.isNaN(this._m[ 2]) || Number.isNaN(this._m[ 3]) ||\n\t\t\t\tNumber.isNaN(this._m[ 4]) || Number.isNaN(this._m[ 5]) || Number.isNaN(this._m[ 6]) || Number.isNaN(this._m[ 7]) ||\n\t\t\t\tNumber.isNaN(this._m[ 8]) || Number.isNaN(this._m[ 9]) || Number.isNaN(this._m[10]) || Number.isNaN(this._m[11]) ||\n\t\t\t\tNumber.isNaN(this._m[12]) || Number.isNaN(this._m[13]) || Number.isNaN(this._m[14]) || Number.isNaN(this._m[15]);\n\t}\n\t\n\tgetOrthoValues() {\n\t\treturn [ (1+get23())/get22(),\n\t\t\t\t-(1-get23())/get22(),\n\t\t\t\t (1-get13())/get11(),\n\t\t\t\t-(1+get13())/get11(),\n\t\t\t\t-(1+get03())/get00(),\n\t\t\t\t (1-get03())/get00() ];\n\t}\n\n\tgetPerspectiveValues() {\n\t\treturn [ get23()/(get22()-1),\n\t\t\t\t get23()/(get22()+1),\n\t\t\t\t near * (get12()-1)/get11(),\n\t\t\t\t near * (get12()+1)/get11(),\n\t\t\t\t near * (get02()-1)/get00(),\n\t\t\t\t near * (get02()+1)/get00() ];\n\t}\n\n\ttoString() {\n\t\treturn \"[\" + this._m[ 0] + \", \" + this._m[ 1] + \", \" + this._m[ 2] + \", \" + this._m[ 3] + \"]\\n\" +\n\t\t\t  \" [\" + this._m[ 4] + \", \" + this._m[ 5] + \", \" + this._m[ 6] + \", \" + this._m[ 7] + \"]\\n\" +\n\t\t\t  \" [\" + this._m[ 8] + \", \" + this._m[ 9] + \", \" + this._m[10] + \", \" + this._m[11] + \"]\\n\" +\n\t\t\t  \" [\" + this._m[12] + \", \" + this._m[13] + \", \" + this._m[14] + \", \" + this._m[15] + \"]\";\n\t}\n}","import ContextObject from \"../app/ContextObject\";\nimport { Vector2, Vector3 } from \"../math/Vector\";\nimport Matrix3 from \"../math/Matrix3\";\nimport Matrix4 from \"../math/Matrix4\";\nimport Engine from \"../utils/Engine\";\n\nexport const BufferType = {\n    VERTEX:\t\t1 << 0,\n    NORMAL:\t\t1 << 1,\n    TEX_COORD_0:\t\t1 << 2,\n    TEX_COORD_1:\t\t1 << 3,\n    TEX_COORD_2:\t\t1 << 4,\n    COLOR:\t\t1 << 5,\n    TANGENT:\t1 << 6,\n    INDEX:\t\t1 << 7\n};\n\nexport const DrawMode = {\n    TRIANGLES: null,\n    TRIANGLE_FAN: null,\n    TRIANGLE_STRIP: null,\n    LINES: null,\n    LINE_STRIP: null\n};\n\nexport class PolyListImpl {\n    constructor(context) {\n        this.initFlags(context);\n    }\n    \n    initFlags(context) {}\n    create(context) {}\n    build(context,plist,vert,norm,t0,t1,t2,col,tan,index) { return false; }\n    draw(context,plist,drawMode,numberOfIndex) {}\n    destroy(context,plist) {}\n\n    // NOTE: the new buffer data must have the same size as the old one\n    update(context,plist,bufferType,newData) {}\n}\n\nfunction createTangents(plist) {\n    if (!plist.texCoord0 || !plist.vertex) return;\n    plist._tangent = [];\n    \n    let result = [];\n    let generatedIndexes = {};\n    let invalidUV = false;\n    if (plist.index.length%3==0) {\n        for (let i=0; i<plist.index.length - 2; i+=3) {\n            let v0i = plist.index[i] * 3;\n            let v1i = plist.index[i + 1] * 3;\n            let v2i = plist.index[i + 2] * 3;\n            \n            let t0i = plist.index[i] * 2;\n            let t1i = plist.index[i + 1] * 2;\n            let t2i = plist.index[i + 2] * 2;\n            \n            let v0 = new Vector3(plist.vertex[v0i], plist.vertex[v0i + 1], plist.vertex[v0i + 2]);\n            let v1 = new Vector3(plist.vertex[v1i], plist.vertex[v1i + 1], plist.vertex[v1i + 2]);\n            let v2 = new Vector3(plist.vertex[v2i], plist.vertex[v2i + 1], plist.vertex[v2i + 2]);\n            \n            let t0 = new Vector2(plist.texCoord0[t0i], plist.texCoord0[t0i + 1]);\n            let t1 = new Vector2(plist.texCoord0[t1i], plist.texCoord0[t1i + 1]);\n            let t2 = new Vector2(plist.texCoord0[t2i], plist.texCoord0[t2i + 1]);\n            \n            let edge1 = (new Vector3(v1)).sub(v0);\n            let edge2 = (new Vector3(v2)).sub(v0);\n            \n            let deltaU1 = t1.x - t0.x;\n            let deltaV1 = t1.y - t0.y;\n            let deltaU2 = t2.x - t0.x;\n            let deltaV2 = t2.y - t0.y;\n            \n            let den = (deltaU1 * deltaV2 - deltaU2 * deltaV1);\n            let tangent = null;\n            if (den==0) {\n                let n = new Vector3(plist.normal[v0i], plist.normal[v0i + 1], plist.normal[v0i + 2]);\n\n                invalidUV = true;\n                tangent = new Vector3(n.y, n.z, n.x);\n            }\n            else {\n                let f = 1 / den;\n            \n                tangent = new Vector3(f * (deltaV2 * edge1.x - deltaV1 * edge2.x),\n                                               f * (deltaV2 * edge1.y - deltaV1 * edge2.y),\n                                               f * (deltaV2 * edge1.z - deltaV1 * edge2.z));\n                tangent.normalize();\n            }\n            \n            if (generatedIndexes[v0i]===undefined) {\n                result.push(tangent.x);\n                result.push(tangent.y);\n                result.push(tangent.z);\n                generatedIndexes[v0i] = tangent;\n            }\n            \n            if (generatedIndexes[v1i]===undefined) {\n                result.push(tangent.x);\n                result.push(tangent.y);\n                result.push(tangent.z);\n                generatedIndexes[v1i] = tangent;\n            }\n            \n            if (generatedIndexes[v2i]===undefined) {\n                result.push(tangent.x);\n                result.push(tangent.y);\n                result.push(tangent.z);\n                generatedIndexes[v2i] = tangent;\n            }\n        }\n    }\n    else {\t// other draw modes: lines, line_strip\n        for (let i=0; i<plist.vertex.length; i+=3) {\n            plist._tangent.push(0,0,1);\n        }\n    }\n    if (invalidUV) {\n        console.warn(\"Invalid UV texture coords found. Some objects may present artifacts in the lighting, and not display textures properly.\")\n    }\n    return result;\n}\n\nexport default class PolyList extends ContextObject {\n    constructor(context) {\n        super(context);\n        \n        this._plist = null;\n        \n        this._drawMode = DrawMode.TRIANGLES;\n        \n        this._name = \"\";\n        this._groupName = \"\";\n        this._visible = true;\n        this._visibleToShadows = true;\n        \n        this._vertex = [];\n        this._normal = [];\n        this._texCoord0 = [];\n        this._texCoord1 = [];\n        this._texCoord2 = [];\n        this._color = [];\n        this._tangent = [];\n        this._index = [];\n    }\n    \n    clone() {\n        let pl2 = new PolyList(this.context);\n        \n        let copy = function(src,dst) {\n            src.forEach(function(item) {\n                dst.push(item);\n            });\n        };\n        \n        pl2.name = this.name + \" clone\";\n        pl2.groupName = this.groupName;\n        pl2.visible = this.visible;\n        pl2.visibleToShadows = this.visibleToShadows;\n        pl2.drawMode = this.drawMode;\n        \n        copy(this.vertex,pl2.vertex);\n        copy(this.normal,pl2.normal);\n        copy(this.texCoord0,pl2.texCoord0);\n        copy(this.texCoord1,pl2.texCoord1);\n        copy(this.texCoord2,pl2.texCoord02);\n        copy(this.color,pl2.color);\n        copy(this.index,pl2.index);\n        pl2.build();\n        \n        return pl2;\n    }\n    \n    get name() { return this._name; }\n    set name(n) { this._name = n; }\n    \n    get groupName() { return this._groupName; }\n    set groupName(n) { this._groupName = n; }\n    \n    get visible() { return this._visible; }\n    set visible(v) { this._visible = v; }\n\n    get visibleToShadows() { return this._visibleToShadows; }\n    set visibleToShadows(v) { this._visibleToShadows = v; }\n    \n    get drawMode() { return this._drawMode; }\n    set drawMode(m) { this._drawMode = m; }\n    \n    set vertex(v) { this._vertex = v; }\n    set normal(n) { this._normal = n; }\n    set texCoord0(t) { this._texCoord0 = t; }\n    set texCoord1(t) { this._texCoord1 = t; }\n    set texCoord2(t) { this._texCoord2 = t; }\n    set color(c) { this._color = c; }\n    //  Tangent buffer is calculated from normal buffer\n    set index(i) { this._index = i; }\n    \n    get vertex() { return this._vertex; }\n    get normal() { return this._normal; }\n    get texCoord0() { return this._texCoord0; }\n    get texCoord1() { return this._texCoord1; }\n    get texCoord2() { return this._texCoord2; }\n    get color() { return this._color; }\n    get tangent() { return this._tangent; }\n    get index() { return this._index; }\n    \n    get vertexBuffer() { return this._plist.vertexBuffer; }\n    get normalBuffer() { return this._plist.normalBuffer; }\n    get texCoord0Buffer() { return this._plist.tex0Buffer; }\n    get texCoord1Buffer() { return this._plist.tex1Buffer; }\n    get texCoord2Buffer() { return this._plist.tex2Buffer; }\n    get colorBuffer() { return this._plist.colorBuffer; }\n    get tangentBuffer() { return this._plist.tangentBuffer; }\n    get indexBuffer() { return this._plist.indexBuffer; }\n\n    // Note that the new buffer must have the same size as the old one, this\n    // function is intended to be used only to replace the buffer values\n    updateBuffer(bufferType,newData) {\n        let status = false;\n        switch (bufferType) {\n        case BufferType.VERTEX:\n            status = this.vertex.length==newData.length;\n            break;\n        case BufferType.NORMAL:\n            status = this.normal.length==newData.length;\n            break;\n        case BufferType.TEX_COORD_0:\n            status = this.texCoord0.length==newData.length;\n            break;\n        case BufferType.TEX_COORD_1:\n            status = this.texCoord1.length==newData.length;\n            break;\n        case BufferType.TEX_COORD_2:\n            status = this.texCoord2.length==newData.length;\n            break;\n        case BufferType.COLOR:\n            status = this.color.length==newData.length;\n            break;\n        case BufferType.TANGENT:\n            status = this.tangent.length==newData.length;\n            break;\n        case BufferType.INDEX:\n            status = this.index.length==newData.length;\n            break;\n        }\n        if (!status) {\n            throw new Error(\"Error updating buffer: The new buffer have different size as the old one.\");\n        }\n        else {\n            Engine.Get().polyList.update(this.context,this._plist,bufferType,newData);\n        }\n    }\n    \n    build() {\n        if (this.color.length==0) {\n            // Ensure that the poly list have a color buffer\n            for (let i = 0; i<this.vertex.length; i+=3) {\n                this.color.push(1);\n                this.color.push(1);\n                this.color.push(1);\n                this.color.push(1);\n            }\n        }\n\n        let plistImpl = Engine.Get().polyList;\n        if (this._plist) {\n            plistImpl.destroy(this.context, this._plist);\n            this._tangent = [];\n        }\n        this._tangent = createTangents(this);\n        this._plist = plistImpl.create(this.context);\n        return plistImpl.build(this.context, this._plist,\n                        this._vertex,\n                        this._normal,\n                        this._texCoord0,\n                        this._texCoord1,\n                        this._texCoord2,\n                        this._color,\n                        this._tangent,\n                        this._index);\n    }\n    \n    draw() {\n        Engine.Get().polyList\n            .draw(this.context,this._plist,this.drawMode,this.index.length);\n    }\n    \n    destroy() {\n        if (this._plist) {\n            Engine.Get().polyList\n                .destroy(this.context, this._plist);\n        }\n        \n        this._plist = null;\n        \n        this._name = \"\";\n        this._vertex = [];\n        this._normal = [];\n        this._texCoord0 = [];\n        this._texCoord1 = [];\n        this._texCoord2 = [];\n        this._color = [];\n        this._tangent = [];\n        this._index = [];\n    }\n    \n    applyTransform(trx) {\n        var transform = new Matrix4(trx);\n        var rotation = new Matrix4(trx.getMatrix3());\n\n        if (this.normal.length>0 && this.normal.length!=this.vertex.length)\n            throw new Error(\"Unexpected number of normal coordinates found in polyList\");\n\n        for (let i=0;i<this.vertex.length-2;i+=3) {\n            let vertex = new Vector4(this.vertex[i],this.vertex[i+1], this.vertex[i+2], 1.0);\n            vertex = transform.multVector(vertex);\n            this.vertex[i] = vertex.x;\n            this.vertex[i+1] = vertex.y;\n            this.vertex[i+2] = vertex.z;\n    \n            if (this.normal.length) {\n                var normal = new Vector4(this.normal[i],this.normal[i+1], this.normal[i+2], 1.0);\n                normal = rotation.multVector(normal);\n                this.normal[i] = normal.x;\n                this.normal[i+1] = normal.y;\n                this.normal[i+2] = normal.z;\n            }\n        }\n        this.build();\n    }\n    \n    \n};","\nimport Engine from \"../utils/Engine\";\n\nlet s_shaderLibrary = null;\n\t\nfunction defineAll(obj) {\n    Reflect.defineProperty(obj,\"all\", {\n        get() {\n            if (!this._all) {\n                this._all = [];\n                for (let key in obj) {\n                    if (typeof(obj[key])==\"object\" && obj[key].name) {\n                        this._all.push(obj[key]);\n                    }\n                }\n            }\n            return this._all;\n        }\n    });\n}\n\nexport default class ShaderLibrary {\n    static Get() {\n        if (!s_shaderLibrary) {\n            s_shaderLibrary = new ShaderLibrary();\n        }\n        return s_shaderLibrary;\n    }\n    \n    constructor() {\n        let library = Engine.Get().shaderLibrary;\n        \n        for (let key in library) {\n            this[key] = library[key];\n        }\n        \n        defineAll(this.inputs.matrix);\n        Object.defineProperty(this.inputs.matrix,\"modelViewProjection\",{\n            get() {\n                return [\n                    this.model,\n                    this.view,\n                    this.projection\n                ]\n            }\n        });\n        defineAll(this.inputs.material);\n        defineAll(this.inputs.lighting);\n        defineAll(this.inputs.lightingForward);\n        defineAll(this.inputs.shadows);\n        defineAll(this.inputs.colorCorrection);\n        defineAll(this.functions.materials);\n        defineAll(this.functions.colorCorrection);\n        defineAll(this.functions.lighting);\n        defineAll(this.functions.utils);\n\n        // PBR materials\n        for (let key in this.inputs.pbr) {\n            defineAll(this.inputs.pbr[key]);\n        }\n        for (let key in this.functions.pbr) {\n            defineAll(this.functions.pbr[key]);\n        }\n    }\n}\n","import Engine from \"../utils/Engine\";\n\nexport class ShaderSourceImpl {\n    header(shaderType) { return \"\"; }\n    parameter(shaderType,paramData) { return paramData.name; }\n    func(shaderType,funcData) { return funcData.name; }\n}\n\nexport default class ShaderSource {\n    static FormatSource(src) {\n        let result = \"\";\n        let lines = src.replace(/^\\n*/,\"\").replace(/\\n*$/,\"\").split(\"\\n\");\n        let minTabs = 100;\n        lines.forEach((line) => {\n            let tabsInLine = /(\\t*)/.exec(line)[0].length;\n            if (minTabs>tabsInLine) {\n                minTabs = tabsInLine;\n            }\n        });\n        \n        lines.forEach((line) => {\n            let tabsInLine = /(\\t*)/.exec(line)[0].length;\n            let diff = tabsInLine - minTabs;\n            result += line.slice(tabsInLine - diff,line.length) + \"\\n\";\n        });\n        \n        return result.replace(/^\\n*/,\"\").replace(/\\n*$/,\"\");\n    }\n    \n    constructor(type) {\n        this._type = type;\n        this._params = [];\n        this._functions = [];\n        this._requiredExtensions = [];\n        this._header = \"\";\n        this._preprocessor = \"\";\n    }\n    \n    get type() { return this._type; }\n    get params() { return this._params; }\n    get header() { return this._header; }\n    get functions() { return this._functions; }\n    \n    addParameter(param) {\n        if (param instanceof Array) {\n            this._params = [...this._params, ...param];\n        }\n        else {\n            this._params.push(param);\n        }\n        this._params.push(null);\t// This will be translated into a new line character\n    }\n    \n    addFunction(func) {\n        if (func instanceof Array) {\n            this._functions = [...this._functions, ...func];\n        }\n        else {\n            this._functions.push(func);\n        }\n    }\n    \n    setMainBody(body) {\n        this.addFunction({\n            returnType:\"void\", name:\"main\", params:{}, body:body\n        });\n    }\n            \n    appendHeader(src) {\n        this._header += src + \"\\n\";\n    }\n\n    appendPreprocessor(src) {\n        this._preprocessor += src + \"\\n\";\n    }\n            \n    toString() {\n        let impl = Engine.Get().shaderSource;\n        // Build header\n        let src = this._preprocessor;\n        src += impl.header(this.type) + \"\\n\" + this._header + \"\\n\\n\";\n        \n        this.params.forEach((p) => {\n            src += impl.parameter(this.type,p) + \"\\n\";\n        });\n        \n        this.functions.forEach((f) => {\n            src += \"\\n\" + impl.func(this.type,f) + \"\\n\";\n        })\n        return src;\n    }\n}\n","\n\nimport Texture from \"./Texture\";\nimport { Vector2 } from \"../math/Vector\";\n\nwindow.s_bg_base_textureCache = {};\n\t\nlet COLOR_TEXTURE_SIZE = 8;\n\nconst s_whiteTexture = \"static-white-color-texture\";\nconst s_blackTexture = \"static-black-color-texture\";\nconst s_normalTexture = \"static-normal-color-texture\";\nconst s_randomTexture = \"static-random-color-texture\";\nconst s_whiteCubemap = \"static-white-cubemap-texture\";\nconst s_blackCubemap = \"static-white-cubemap-texture\";\n\nexport default class TextureCache {\n    static SetColorTextureSize(size) { COLOR_TEXTURE_SIZE = size; }\n    static GetColorTextureSize() { return COLOR_TEXTURE_SIZE; }\n\n    static WhiteCubemap(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_whiteCubemap);\n\n        if (!tex) {\n            tex = Texture.WhiteCubemap(context);\n            cache.register(s_whiteCubemap,tex);\n        }\n        return tex;\n    }\n\n    static BlackCubemap(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_blackCubemap);\n\n        if (!tex) {\n            tex = Texture.BlackCubemap(context);\n            cache.register(s_blackCubemap,tex);\n        }\n        return tex;\n    }\n    \n    static WhiteTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_whiteTexture);\n        \n        if (!tex) {\n            tex = Texture.WhiteTexture(context,new Vector2(COLOR_TEXTURE_SIZE));\n            cache.register(s_whiteTexture,tex);\n        }\n        \n        return tex;\n    }\n    \n    static BlackTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_blackTexture);\n        \n        if (!tex) {\n            tex = Texture.BlackTexture(context,new Vector2(COLOR_TEXTURE_SIZE));\n            cache.register(s_blackTexture,tex);\n        }\n        \n        return tex;\n    }\n    \n    static NormalTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_normalTexture);\n        \n        if (!tex) {\n            tex = Texture.NormalTexture(context,new Vector2(COLOR_TEXTURE_SIZE));\n            cache.register(s_normalTexture,tex);\n        }\n        \n        return tex;\n    }\n\n    static RandomTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_randomTexture);\n\n        if (!tex) {\n            tex = Texture.RandomTexture(context,new Vector2(64));\n            cache.register(s_randomTexture,tex);\n        }\n\n        return tex;\n    }\n    \n    static Get(context) {\n        if (!window.s_bg_base_textureCache[context.uuid]) {\n            window.s_bg_base_textureCache[context.uuid] = new TextureCache(context);\n        }\n        return window.s_bg_base_textureCache[context.uuid];\n    }\n\n    static PrecomputedBRDFLookupTexture(context) {\n        if (!window.s_bg_base_textureCache[\"_bg_base_brdfLutData_\"]) {\n            window.s_bg_base_textureCache[\"_bg_base_brdfLutData_\"] = Texture.PrecomputedBRDFLookupTexture(context);\n        }\n        return window.s_bg_base_textureCache[\"_bg_base_brdfLutData_\"];\n    }\n    \n    constructor(context) {\n        this._context = context;\n        this._textures = {};\n    }\n    \n    find(url) {\n        return this._textures[url];\n    }\n    \n    register(url,texture) {\n        if (texture instanceof Texture) {\n            this._textures[url] = texture;\n        }\n    }\n    \n    unregister(url) {\n        if (this._textures[url]) {\n            delete this._textures[url];\n        }\n    }\n    \n    clear() {\n        this._textures = {};\n    }\n}","\nimport Texture, { TextureWrap, TextureFilter } from \"./Texture\";\nimport TextureCache from \"./TextureCache\";\nimport Resource from \"../utils/Resource\";\n\nwindow.s_bg_base_textureLoaderPlugin_wrapX = null;\nwindow.s_bg_base_textureLoaderPlugin_wrapY = null;\nwindow.s_bg_base_textureLoaderPlugin_minFilter = null;\nwindow.s_bg_base_textureLoaderPlugin_magFilter = null;\n\n/* Extra data:\n * \twrapX\n *  wrapY\n *  minFilter\n *  magFilter\n */\nexport default class TextureLoaderPlugin extends bg.base.LoaderPlugin {\n    static GetWrapX() {\n        return window.s_bg_base_textureLoaderPlugin_wrapX || TextureWrap.REPEAT;\n    }\n\n    static GetWrapY() {\n        return window.s_bg_base_textureLoaderPlugin_wrapY || TextureWrap.REPEAT;\n    }\n\n    static GetMinFilter() {\n        return window.s_bg_base_textureLoaderPlugin_minFilter || TextureFilter.LINEAR_MIPMAP_NEAREST;\n    }\n\n    static GetMagFilter() {\n        return window.s_bg_base_textureLoaderPlugin_magFilter || TextureFilter.LINEAR;\n    }\n\n    static SetMinFilter(f) {\n        window.s_bg_base_textureLoaderPlugin_minFilter = f;\n    }\n\n    static SetMagFilter(f) {\n        window.s_bg_base_textureLoaderPlugin_magFilter = f;\n    }\n\n    static SetWrapX(w) {\n        window.s_bg_base_textureLoaderPlugin_wrapX = w;\n    }\n\n    static SetWrapY(w) {\n        window.s_bg_base_textureLoaderPlugin_wrapY = w;\n    }\n    \n    acceptType(url,data) {\n        return Resource.IsImage(url);\n    }\n    \n    load(context,url,data,extraData) {\n        return new Promise((accept,reject) => {\n            if (data) {\n                let texture = TextureCache.Get(context).find(url);\n                if (!texture) {\n                    console.log(`Texture ${url} not found. Loading texture`);\n                    texture = new Texture(context);\n                    texture.create();\n                    texture.bind();\n                    texture.wrapX = extraData.wrapX || TextureLoaderPlugin.GetWrapX();\n                    texture.wrapY = extraData.wrapY || TextureLoaderPlugin.GetWrapY();\n                    texture.minFilter = extraData.minFilter || TextureLoaderPlugin.GetMinFilter();\n                    texture.magFilter = extraData.magFilter || TextureLoaderPlugin.GetMagFilter();\n                    texture.setImage(data);\n                    texture.fileName = url;\n                    TextureCache.Get(context).register(url,texture);\n                }\n                accept(texture);\n            }\n            else {\n                reject(new Error(\"Error loading texture image data\"));\n            }\n        });\n    }\n}\n","import ContextObject from \"../app/ContextObject\";\nimport { seededRandom, checkPowerOfTwo } from \"../math/functions\";\nimport TextureCache from \"./TextureCache\";\nimport TextureLoaderPlugin from \"./TextureLoaderPlugin\";\nimport { emitImageLoadEvent } from \"../utils/Resource\";\nimport { Vector2, Vector3, Color } from \"../math/Vector\";\nimport Engine from \"../utils/Engine\";\n\nexport const TextureUnit = {\n    TEXTURE_0: 0,\n    TEXTURE_1: 1,\n    TEXTURE_2: 2,\n    TEXTURE_3: 3,\n    TEXTURE_4: 4,\n    TEXTURE_5: 5,\n    TEXTURE_6: 6,\n    TEXTURE_7: 7,\n    TEXTURE_8: 8,\n    TEXTURE_9: 9,\n    TEXTURE_10: 10,\n    TEXTURE_11: 11,\n    TEXTURE_12: 12,\n    TEXTURE_13: 13,\n    TEXTURE_14: 14,\n    TEXTURE_15: 15,\n    TEXTURE_16: 16,\n    TEXTURE_17: 17,\n    TEXTURE_18: 18,\n    TEXTURE_19: 19,\n    TEXTURE_20: 20,\n    TEXTURE_21: 21,\n    TEXTURE_22: 22,\n    TEXTURE_23: 23,\n    TEXTURE_24: 24,\n    TEXTURE_25: 25,\n    TEXTURE_26: 26,\n    TEXTURE_27: 27,\n    TEXTURE_28: 28,\n    TEXTURE_29: 29,\n    TEXTURE_30: 30\n};\n\nexport const TextureWrap = {\n    REPEAT: null,\n    CLAMP: null,\n    MIRRORED_REPEAT: null\n};\n\nexport const TextureFilter = {\n    NEAREST_MIPMAP_NEAREST: null,\n    LINEAR_MIPMAP_NEAREST: null,\n    NEAREST_MIPMAP_LINEAR: null,\n    LINEAR_MIPMAP_LINEAR: null,\n    NEAREST: null,\n    LINEAR: null\n};\n\nexport const TextureTarget = {\n    TEXTURE_2D: null,\n    CUBE_MAP: null,\n    POSITIVE_X_FACE: null,\n    NEGATIVE_X_FACE: null,\n    POSITIVE_Y_FACE: null,\n    NEGATIVE_Y_FACE: null,\n    POSITIVE_Z_FACE: null,\n    NEGATIVE_Z_FACE: null\n};\n    \nexport class TextureImpl {\n    constructor(context) {\n        this.initFlags(context);\n    }\n\n    initFlags(context) {\n        console.log(\"TextureImpl: initFlags() method not implemented\");\n    }\n    \n    create(context) {\n        console.log(\"TextureImpl: create() method not implemented\");\n        return null;\n    }\n    \n    setActive(context,texUnit) {\n        console.log(\"TextureImpl: setActive() method not implemented\");\n    }\n    \n    bind(context,target,texture) {\n        console.log(\"TextureImpl: bind() method not implemented\");\n    }\n    \n    unbind(context,target) {\n        console.log(\"TextureImpl: unbind() method not implemented\");\n    }\n    \n    setTextureWrapX(context,target,texture,wrap) {\n        console.log(\"TextureImpl: setTextureWrapX() method not implemented\");\n    }\n    \n    setTextureWrapY(context,target,texture,wrap) {\n        console.log(\"TextureImpl: setTextureWrapY() method not implemented\");\n    }\n    \n    setImage(context,target,minFilter,magFilter,texture,img,flipY) {\n        console.log(\"TextureImpl: setImage() method not implemented\");\n    }\n    \n    setImageRaw(context,target,minFilter,magFilter,texture,width,height,data) {\n        console.log(\"TextureImpl: setImageRaw() method not implemented\");\n    }\n\n    setTextureFilter(context,target,minFilter,magFilter) {\n        console.log(\"TextureImpl: setTextureFilter() method not implemented\");\n    }\n\n    setCubemapImage(context,face,image) {\n        console.log(\"TextureImpl: setCubemapImage() method not implemented\");\n    }\n\n    setCubemapRaw(context,face,rawImage,w,h) {\n        console.log(\"TextureImpl: setCubemapRaw() method not implemented\");\n    }\n\n    setVideo(context,target,texture,video,flipY) {\n        console.log(\"TextureImpl: setVideo() method not implemented\");\n    }\n\n    updateVideoData(context,target,texture,video) {\n        console.log(\"TextureImpl: updateVideoData() method not implemented\");\n    }\n\n    destroy(context,texture) {\n        console.log(\"TextureImpl: destroy() method not implemented\");\n    }\n}\n\n\nexport const TextureDataType = {\n    NONE: 0,\n    IMAGE: 1,\n    IMAGE_DATA: 2,\n    CUBEMAP: 3,\n    CUBEMAP_DATA: 4,\n    VIDEO: 5\n};\n\nwindow.s_bg_base_window.s_bg_base_base64TexturePreventRemove = [];\n\nexport default class Texture extends ContextObject {\n    static IsPowerOfTwoImage(image) {\n        return checkPowerOfTwo(image.width) && checkPowerOfTwo(image.height);\n    }\n\n    static FromCanvas(context,canvas2d) {\n        return Texture.FromBase64Image(context,canvas2d.toDataURL(\"image/png\"));\n    }\n\n    static UpdateCanvasImage(texture,canvas2d) {\n        if (!texture.valid) {\n            return false;\n        }\n        let imageData = canvas2d.toDataURL(\"image/png\");\n        let recreate = false;\n        if (texture.img.width!=imageData.width || texture.img.height!=imageData.height) {\n            recreate = true;\n        }\n        texture.img = new Image();\n        g_window.s_bg_base_base64TexturePreventRemove.push(texture);\n        setTimeout(() => {\n            texture.bind();\n            if (Texture.IsPowerOfTwoImage(texture.img)) {\n                texture.minFilter = TextureLoaderPlugin.GetMinFilter();\n                texture.magFilter = TextureLoaderPlugin.GetMagFilter();\n            }\n            else {\n                texture.minFilter = TextureFilter.NEAREST;\n                texture.magFilter = TextureFilter.NEAREST;\n                texture.wrapX = TextureWrap.CLAMP;\n                texture.wrapY = TextureWrap.CLAMP;\n            }\n            texture.setImage(texture.img,true);\n            texture.unbind();\n            let index = g_window.s_bg_base_base64TexturePreventRemove.indexOf(texture);\n            if (index!=-1) {\n                g_window.s_bg_base_base64TexturePreventRemove.splice(index,1);\n            }\n            emitImageLoadEvent(texture.img);\n        },10);\n        texture.img.src = imageData;\n        \n        return texture;\n    }\n\n    static FromBase64Image(context,imgData) {\n        let tex = new Texture(context);\n        tex.img = new Image();\n        g_window.s_bg_base_base64TexturePreventRemove.push(tex);\n        setTimeout(() => {\n            tex.create();\n            tex.bind();\n            if (Texture.IsPowerOfTwoImage(tex.img)) {\n                tex.minFilter = TextureLoaderPlugin.GetMinFilter();\n                tex.magFilter = TextureLoaderPlugin.GetMagFilter();\n            }\n            else {\n                tex.minFilter = TextureFilter.NEAREST;\n                tex.magFilter = TextureFilter.NEAREST;\n                tex.wrapX = TextureWrap.CLAMP;\n                tex.wrapY = TextureWrap.CLAMP;\n            }\n            tex.setImage(tex.img,false);\t// Check this: flip base64 image?\n            tex.unbind();\n            let index = g_window.s_bg_base_base64TexturePreventRemove.indexOf(tex);\n            if (index!=-1) {\n                g_window.s_bg_base_base64TexturePreventRemove.splice(index,1);\n            }\n            emitImageLoadEvent(tex.img);\n        },10);\n        tex.img.src = imgData;\n        \n        return tex;\n    }\n    \n    static ColorTexture(context,color,size) {\n        let colorTexture = new Texture(context);\n        colorTexture.create();\n        colorTexture.bind();\n\n        var dataSize = size.width * size.height * 4;\n        var textureData = [];\n        for (var i = 0; i < dataSize; i+=4) {\n            textureData[i]   = color.r * 255;\n            textureData[i+1] = color.g * 255;\n            textureData[i+2] = color.b * 255;\n            textureData[i+3] = color.a * 255;\n        }\n        \n        textureData = new Uint8Array(textureData);\n\n        colorTexture.minFilter = TextureFilter.NEAREST;\n        colorTexture.magFilter = TextureFilter.NEAREST;\n        colorTexture.setImageRaw(size.width,size.height,textureData);\n        colorTexture.unbind();\n\n        return colorTexture;\n    }\n    \n    static WhiteTexture(context,size) {\n        return Texture.ColorTexture(context,Color.White(),size);\n    }\n\n    static WhiteCubemap(context) {\n        return Texture.ColorCubemap(context, Color.White());\n    }\n\n    static BlackCubemap(context) {\n        return Texture.ColorCubemap(context, Color.Black());\n    }\n\n    static ColorCubemap(context,color) {\n        let cm = new Texture(context);\n        cm.target = TextureTarget.CUBE_MAP;\n        cm.create();\n        cm.bind();\n\n        let dataSize = 32 * 32 * 4;\n        let textureData = [];\n        for (let i = 0; i<dataSize; i+=4) {\n            textureData[i] \t\t= color.r * 255;\n            textureData[i + 1] \t= color.g * 255;\n            textureData[i + 2] \t= color.b * 255;\n            textureData[i + 3] \t= color.a * 255;\n        }\n\n        textureData = new Uint8Array(textureData);\n\n        cm.setCubemapRaw(\n            32,\n            32,\n            textureData,\n            textureData,\n            textureData,\n            textureData,\n            textureData,\n            textureData\n        );\n\n        cm.unbind();\n        return cm;\n    }\n    \n    static NormalTexture(context,size) {\n        return Texture.ColorTexture(context,new Color(0.5,0.5,1,1),size);\n    }\n    \n    static BlackTexture(context,size) {\n        return Texture.ColorTexture(context,Color.Black(),size);\n    }\n\n    static RandomTexture(context,size) {\n        let colorTexture = new Texture(context);\n        colorTexture.create();\n        colorTexture.bind();\n\n        var dataSize = size.width * size.height * 4;\n        var textureData = [];\n        for (var i = 0; i < dataSize; i+=4) {\n            let randVector = new Vector3(seededRandom() * 2.0 - 1.0,\n                                        seededRandom() * 2.0 - 1.0,\n                                        0);\n            randVector.normalize();\n\n            textureData[i]   = randVector.x * 255;\n            textureData[i+1] = randVector.y * 255;\n            textureData[i+2] = randVector.z * 255;\n            textureData[i+3] = 1;\n        }\n        \n        textureData = new Uint8Array(textureData);\n\n        colorTexture.minFilter = TextureFilter.NEAREST;\n        colorTexture.magFilter = TextureFilter.NEAREST;\n        colorTexture.setImageRaw(size.width,size.height,textureData);\n        colorTexture.unbind();\n\n        return colorTexture;\n    }\n\n    /*\n     *\tPrecomputed BRDF, for using with PBR shaders\n     */\n    static PrecomputedBRDFLookupTexture(context) {\n        return new Promise((resolve) => {\n            import(/* webpackChunkName: \"brdfLUT\" */ \"./BRDFLutData\")\n                .then(brdf => {\n                    return Texture.FromBase64Image(context, brdf);\n                })\n                .then((tex) => {\n                    resolve(tex);\n                })\n                .catch(err => {\n                    console.error(\"Error loading BRDF lut data\");\n                    console.error(err);\n                });\n        });\n    }\n\n    /*\n     *\tCreate a texture using an image.\n     *\t\tcontext: the rendering context\n     *\t\timage: a valid image object (for example, an <image> tag)\n     *\t\turl: unique URL for this image, used as index for the texture cache\n     */\n    static FromImage(context,image,url) {\n        let texture = null;\n        if (image) {\n            texture = TextureCache.Get(context).find(url);\n            if (!texture) {\n                console.debug(`Texture ${url} not found. Loading texture`);\n                texture = new Texture(context);\n                texture.create();\n                texture.bind();\n                texture.minFilter = TextureLoaderPlugin.GetMinFilter();\n                texture.magFilter = TextureLoaderPlugin.GetMagFilter();\n                texture.setImage(image);\n                texture.fileName = url;\n                TextureCache.Get(context).register(url,texture);\n            }\n        }\n        return texture;\n    }\n    \n    static SetActive(context,textureUnit) {\n        Engine.Get().texture.setActive(context,textureUnit);\n    }\n    \n    static Unbind(context, target) {\n        if (!target) {\n            target = TextureTarget.TEXTURE_2D;\n        }\n        Engine.Get().texture.unbind(context,target);\n    }\n    \n    constructor(context) {\n        super(context);\n        \n        this._texture = null;\n        this._fileName = \"\";\n        this._size = new Vector2(0);\n        this._target = TextureTarget.TEXTURE_2D;\n        \n        this._minFilter = TextureFilter.LINEAR;\n        this._magFilter = TextureFilter.LINEAR;\n        \n        this._wrapX = TextureWrap.REPEAT;\n        this._wrapY = TextureWrap.REPEAT;\n\n        this._video = null;\n    }\n    \n    get texture() { return this._texture; }\n    get target() { return this._target; }\n    set target(t) { this._target = t; }\n    get fileName() { return this._fileName; }\n    set fileName(fileName) { this._fileName = fileName; }\n    set minFilter(f) { this._minFilter = f; }\n    set magFilter(f) { this._magFilter = f; }\n    get minFilter() { return this._minFilter; }\n    get magFilter() { return this._magFilter; }\n    set wrapX(w) { this._wrapX = w; }\n    set wrapY(w) { this._wrapY = w; }\n    get wrapX() { return this._wrapX; }\n    get wrapY() { return this._wrapY; }\n    get size() { return this._size; }\n    \n\n    // Access to image data structures\n    get image() { return this._image; }\n    get imageData() { return this._imageData; }\n    get cubeMapImages() { return this._cubeMapImages; }\n    get cubeMapData() { return this._cubeMapData; }\n    get video() { return this._video; }\n\n    get dataType() {\n        if (this._image) {\n            return TextureDataType.IMAGE;\n        }\n        else if (this._imageData) {\n            return TextureDataType.IMAGE_DATA;\n        }\n        else if (this._cubeMapImages) {\n            return TextureDataType.CUBEMAP;\n        }\n        else if (this._cubeMapData) {\n            return TextureDataType.CUBEMAP_DATA;\n        }\n        else if (this._video) {\n            return TextureDataType.VIDEO;\n        }\n        else {\n            return TextureDataType.NONE;\n        }\n    }\n\n    create() {\n        if (this._texture!==null) {\n            this.destroy()\n        }\n        this._texture = Engine.Get().texture.create(this.context);\n    }\n    \n    setActive(textureUnit) {\n        Engine.Get().texture.setActive(this.context,textureUnit);\n    }\n    \n    \n    bind() {\n        Engine.Get().texture.bind(this.context,this._target,this._texture);\n    }\n    \n    unbind() {\n        Texture.Unbind(this.context,this._target);\n    }\n    \n    setImage(img, flipY) {\n        if (flipY===undefined) flipY = true;\n        this._size.width = img.width;\n        this._size.height = img.height;\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapY(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setImage(this.context,this._target,this._minFilter,this._magFilter,this._texture,img,flipY);\n\n        this._image = img;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n        this._video = null;\n    }\n\n    updateImage(img, flipY) {\n        if (flipY===undefined) flipY = true;\n        this._size.width = img.width;\n        this._size.height = img.height;\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapY(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setImage(this.context,this._target,this._minFilter,this._magFilter,this._texture,img,flipY);\n\n        this._image = img;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n        this._video = null;\n    }\n    \n    setImageRaw(width,height,data,type,format) {\n        if (!type) {\n            type = this.context.RGBA;\n        }\n        if (!format) {\n            format = this.context.UNSIGNED_BYTE;\n        }\n        this._size.width = width;\n        this._size.height = height;\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapY(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setImageRaw(this.context,this._target,this._minFilter,this._magFilter,this._texture,width,height,data,type,format);\n\n        this._image = null;\n        this._imageData = data;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n        this._video = null;\n    }\n\n    setCubemap(posX,negX,posY,negY,posZ,negZ) {\n        Engine.Get().texture.bind(this.context,this._target,this._texture);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setTextureFilter(this.context,this._target,this._minFilter,this._magFilter);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.POSITIVE_X_FACE,posX);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.NEGATIVE_X_FACE,negX);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.POSITIVE_Y_FACE,posY);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.NEGATIVE_Y_FACE,negY);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.POSITIVE_Z_FACE,posZ);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.NEGATIVE_Z_FACE,negZ);\n\n        this._image = null;\n        this._imageData = null;\n        this._cubeMapImages = {\n            posX: posX,\n            negX: negX,\n            posY: posY,\n            negY: negY,\n            posZ: posZ,\n            negZ: negZ\n        };\n        this._cubeMapData = null;\n        this._video = null;\n    }\n\n    setCubemapRaw(w,h,posX,negX,posY,negY,posZ,negZ) {\n        Engine.Get().texture.bind(this.context,this._target,this._texture);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setTextureFilter(this.context,this._target,this._minFilter,this._magFilter);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.POSITIVE_X_FACE,posX,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.NEGATIVE_X_FACE,negX,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.POSITIVE_Y_FACE,posY,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.NEGATIVE_Y_FACE,negY,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.POSITIVE_Z_FACE,posZ,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.NEGATIVE_Z_FACE,negZ,w,h);\n\n        this._image = null;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = {\n            width: w,\n            height: h,\n            posX:posX,\n            negX:negX,\n            posY:posY,\n            negY:negY,\n            posZ:posZ,\n            negZ:negZ\n        };\n        this._video = null;\n    }\n\n    setVideo(video, flipY) {\n        if (flipY===undefined) flipY = true;\n        this._size.width = video.videoWidth;\n        this._size.height = video.videoHeight;\n        Engine.Get().texture.setVideo(this.context,this._target,this._texture,video,flipY);\n        this._video = video;\n\n        this._image = null;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n    }\n\n    destroy() {\n        Engine.Get().texture.destroy(this.context,this._texture);\n        this._texture = null;\n        this._minFilter = null;\n        this._magFilter = null;\n        this._fileName = \"\";\n    }\n\n    valid() {\n        return this._texture!==null;\n    }\n\n    update() {\n        Engine.Get().texture.updateVideoData(this.context,this._target,this._texture,this._video);\n    }\n}\n","import Engine from \"../utils/Engine\";\nimport Effect from \"./Effect\";\nimport ShaderLibrary from \"./ShaderLibrary\";\nimport ShaderSource from \"./ShaderSource\";\nimport PolyList from \"./PolyList\";\nimport { ShaderType } from \"./Shader\";\n\nconst lib = () => {\n    return ShaderLibrary.Get();\n}\n\nexport default class TextureEffect extends Effect {\n    constructor(context) {\n        super(context);\n\n        this._frame = new PolyList(context);\n        \n        this._frame.vertex = [ 1, 1, 0, -1, 1, 0, -1,-1, 0,1,-1, 0 ];\n        this._frame.texCoord0 = [ 1, 1, 0, 1, 0, 0, 1, 0 ];\n        this._frame.index = [ 0, 1, 2,  2, 3, 0 ];\n        \n        this._frame.build();\n        \n        this.rebuildShaders();\n    }\n\n    rebuildShaders() {\n        this.setupShaderSource([\n            this.vertexShaderSource,\n            this.fragmentShaderSource\n        ]);\n    }\n    \n    get vertexShaderSource() {\n        if (!this._vertexShaderSource) {\n            this._vertexShaderSource = new ShaderSource(ShaderType.VERTEX);\n            this._vertexShaderSource.addParameter([\n                lib().inputs.buffers.vertex,\n                lib().inputs.buffers.tex0,\n                { name:\"fsTexCoord\", dataType:\"vec2\", role:\"out\" }\n            ]);\n            \n            if (Engine.Get().id==\"webgl1\") {\n                this._vertexShaderSource.setMainBody(`\n                gl_Position = vec4(inVertex,1.0);\n                fsTexCoord = inTex0;`);\n            }\n        }\n        return this._vertexShaderSource;\n    }\n    \n    get fragmentShaderSource() {\n        if (!this._fragmentShaderSource) {\n            this._fragmentShaderSource = new ShaderSource(ShaderType.FRAGMENT);\n            this._fragmentShaderSource.addParameter(\n                { name:\"fsTexCoord\", dataType:\"vec2\", role:\"in\" }\n            );\n            \n            if (Engine.Get().id==\"webgl1\") {\n                this._fragmentShaderSource.setMainBody(`\n                gl_FragColor = vec4(0.0,0.0,0.0,1.0);`);\n            }\n        }\n        return this._fragmentShaderSource;\n    }\n    \n    //setupVars() {\n    // this._surface contains the surface passed to drawSurface\n    //}\n\n    drawSurface(surface) {\n        this.setActive();\n        this._surface = surface;\n        this.bindPolyList(this._frame);\n        this._frame.draw();\n        this.unbind();\n        this.clearActive();\n    }    \n}\n","\nconst MaterialFlag = {\n    DIFFUSE\t\t\t\t\t\t\t: 1 << 0,\n    SPECULAR\t\t\t\t\t\t: 1 << 1,\n    SHININESS\t\t\t\t\t\t: 1 << 2,\n    LIGHT_EMISSION\t\t\t\t\t: 1 << 3,\n    REFRACTION_AMOUNT\t\t\t\t: 1 << 4,\n    REFLECTION_AMOUNT\t\t\t\t: 1 << 5,\n    TEXTURE\t\t\t\t\t\t\t: 1 << 6,\n    LIGHT_MAP\t\t\t\t\t\t: 1 << 7,\n    NORMAL_MAP\t\t\t\t\t\t: 1 << 8,\n    TEXTURE_OFFSET\t\t\t\t\t: 1 << 9,\n    TEXTURE_SCALE\t\t\t\t\t: 1 << 10,\n    LIGHT_MAP_OFFSET\t\t\t\t: 1 << 11,\n    LIGHT_MAP_SCALE\t\t\t\t\t: 1 << 12,\n    NORMAL_MAP_OFFSET\t\t\t\t: 1 << 13,\n    NORMAL_MAP_SCALE\t\t\t\t: 1 << 14,\n    CAST_SHADOWS\t\t\t\t\t: 1 << 15,\n    RECEIVE_SHADOWS\t\t\t\t\t: 1 << 16,\n    ALPHA_CUTOFF\t\t\t\t\t: 1 << 17,\n    SHININESS_MASK\t\t\t\t\t: 1 << 18,\n    SHININESS_MASK_CHANNEL\t\t\t: 1 << 19,\n    SHININESS_MASK_INVERT\t\t\t: 1 << 20,\n    LIGHT_EMISSION_MASK\t\t\t\t: 1 << 21,\n    LIGHT_EMISSION_MASK_CHANNEL\t\t: 1 << 22,\n    LIGHT_EMISSION_MASK_INVERT\t\t: 1 << 23,\n    REFLECTION_MASK\t\t\t\t\t: 1 << 24,\n    REFLECTION_MASK_CHANNEL\t\t\t: 1 << 25,\n    REFLECTION_MASK_INVERT\t\t\t: 1 << 26,\n    CULL_FACE\t\t\t\t\t\t: 1 << 27,\n    ROUGHNESS\t\t\t\t\t\t: 1 << 28,\t// All the roughness attributes are controlled by this flag\n    UNLIT\t\t\t\t\t\t\t: 1 << 29\n};\n\nexport default MaterialFlag;\n","\nimport { Vector2, Color } from \"../math/Vector\";\nimport MaterialFlag from \"./MaterialFlag\";\n\nexport default class MaterialModifier {\n    constructor(jsonData) {\n        this._modifierFlags = 0;\n\n        this._diffuse = Color.White();\n        this._specular = Color.White();\n        this._shininess = 0;\n        this._lightEmission = 0;\n        this._refractionAmount = 0;\n        this._reflectionAmount = 0;\n        this._texture = null;\n        this._lightmap = null;\n        this._normalMap = null;\n        this._textureOffset = new Vector2();\n        this._textureScale = new Vector2(1);\n        this._lightmapOffset = new Vector2();\n        this._lightmapScale = new Vector2(1);\n        this._normalMapOffset = new Vector2();\n        this._normalMapScale = new Vector2(1);\n        this._castShadows = true;\n        this._receiveShadows = true;\n        this._alphaCutoff = 0.5;\n        this._shininessMask = null;\n        this._shininessMaskChannel = 0;\n        this._shininessMaskInvert = false;\n        this._lightEmissionMask = null;\n        this._lightEmissionMaskChannel = 0;\n        this._lightEmissionMaskInvert = false;\n        this._reflectionMask = null;\n        this._reflectionMaskChannel = 0;\n        this._reflectionMaskInvert = false;\n        this._cullFace = true;\n        this._roughness = true;\n        this._roughnessMask = null;\n        this._roughnessMaskChannel = 0;\n        this._roughnessMaskInvert = false;\n        this._unlit = false;\n\n        if (jsonData) {\n            if (jsonData.diffuseR!==undefined && jsonData.diffuseG!==undefined && jsonData.diffuseB!==undefined) {\n                this.diffuse = new Color(jsonData.diffuseR,\n                                              jsonData.diffuseG,\n                                              jsonData.diffuseB,\n                                              jsonData.diffuseA ? jsonData.diffuseA : 1.0);\n            }\n            if (jsonData.specularR!==undefined && jsonData.specularG!==undefined && jsonData.specularB!==undefined) {\n                this.specular = new Color(jsonData.specularR,\n                                               jsonData.specularG,\n                                               jsonData.specularB,\n                                               jsonData.specularA ? jsonData.specularA : 1.0);\n            }\n\n            if (jsonData.shininess!==undefined) {\n                this.shininess = jsonData.shininess;\n            }\n\n            if (jsonData.lightEmission!==undefined) {\n                this.lightEmission = jsonData.lightEmission;\n            }\n\n            if (jsonData.refractionAmount!==undefined) {\n                this.refractionAmount = jsonData.refractionAmount;\n            }\n\n            if (jsonData.reflectionAmount!==undefined) {\n                this.reflectionAmount = jsonData.reflectionAmount;\n            }\n\n            if (jsonData.texture!==undefined) {\n                this.texture = jsonData.texture;\n            }\n\n            if (jsonData.lightmap!==undefined) {\n                this.lightmap = jsonData.lightmap;\n            }\n\n\n            if (jsonData.normalMap!==undefined) {\n                this.normalMap = jsonData.normalMap;\n            }\n        \n            if (jsonData.textureOffsetX!==undefined && jsonData.textureOffsetY!==undefined) {\n                this.textureOffset = new Vector2(jsonData.textureOffsetX,\n                                                    jsonData.textureOffsetY);\n            }\n\n            if (jsonData.textureScaleX!==undefined && jsonData.textureScaleY!==undefined) {\n                this.textureScale = new Vector2(jsonData.textureScaleX,\n                                                    jsonData.textureScaleY);\n            }\n\n            if (jsonData.lightmapOffsetX!==undefined && jsonData.lightmapOffsetY!==undefined) {\n                this.lightmapOffset = new Vector2(jsonData.lightmapOffsetX,\n                                                     jsonData.lightmapOffsetY);\n            }\n\n            if (jsonData.lightmapScaleX!==undefined && jsonData.lightmapScaleY!==undefined) {\n                this.lightmapScale = new Vector2(jsonData.lightmapScaleX,\n                                                     jsonData.lightmapScaleY);\n            }\n\n            if (jsonData.normalMapScaleX!==undefined && jsonData.normalMapScaleY!==undefined) {\n                this.normalMapScale = new Vector2(jsonData.normalMapScaleX,\n                                                     jsonData.normalMapScaleY);\n            }\n\n            if (jsonData.normalMapOffsetX!==undefined && jsonData.normalMapOffsetY!==undefined) {\n                this.normalMapOffset = new Vector2(jsonData.normalMapOffsetX,\n                                                     jsonData.normalMapOffsetY);\n            }\n\n            if (jsonData.castShadows!==undefined) {\n                this.castShadows = jsonData.castShadows;\n            }\n            if (jsonData.receiveShadows!==undefined) {\n                this.receiveShadows = jsonData.receiveShadows;\n            }\n            \n            if (jsonData.alphaCutoff!==undefined) {\n                this.alphaCutoff = jsonData.alphaCutoff;\n            }\n\n            if (jsonData.shininessMask!==undefined) {\n                this.shininessMask = jsonData.shininessMask;\n            }\n            if (jsonData.shininessMaskChannel!==undefined) {\n                this.shininessMaskChannel = jsonData.shininessMaskChannel;\n            }\n            if (jsonData.invertShininessMask!==undefined) {\n                this.shininessMaskInvert = jsonData.invertShininessMask;\n            }\n\n            if (jsonData.lightEmissionMask!==undefined) {\n                this.lightEmissionMask = jsonData.lightEmissionMask;\n            }\n            if (jsonData.lightEmissionMaskChannel!==undefined) {\n                this.lightEmissionMaskChannel = jsonData.lightEmissionMaskChannel;\n            }\n            if (jsonData.invertLightEmissionMask!==undefined) {\n                this.lightEmissionMaskInvert = jsonData.invertLightEmissionMask;\n            }\n            \n            if (jsonData.reflectionMask!==undefined) {\n                this.reflectionMask = jsonData.reflectionMask;\n            }\n            if (jsonData.reflectionMaskChannel!==undefined) {\n                this.reflectionMaskChannel = jsonData.reflectionMaskChannel;\n            }\n            if (jsonData.invertReflectionMask!==undefined) {\n                this.reflectionMaskInvert = jsonData.reflectionMaskInvert;\n            }\n\n            if (jsonData.roughness!==undefined) {\n                this.roughness = jsonData.roughness;\n            }\n            if (jsonData.roughnessMask!==undefined) {\n                this.roughnessMask = jsonData.roughnessMask;\n            }\n            if (jsonData.roughnessMaskChannel!==undefined) {\n                this.roughnessMaskChannel = jsonData.roughnessMaskChannel;\n            }\n            if (jsonData.invertRoughnessMask!==undefined) {\n                this.roughnessMaskInvert = jsonData.roughnessMaskInvert;\n            }\n\n            if (jsonData.unlit!==undefined) {\n                this.unlit = jsonData.unlit;\n            }\n        }\n    }\n    \n    get modifierFlags() { return this._modifierFlags; }\n    set modifierFlags(f) { this._modifierFlags = f; }\n    setEnabled(flag) { this._modifierFlags = this._modifierFlags | flag; }\n    isEnabled(flag) { return (this._modifierFlags & flag)!=0; }\n    \n    get diffuse() { return this._diffuse; } \n    get specular() { return this._specular; } \n    get shininess() { return this._shininess; } \n    get lightEmission() { return this._lightEmission; } \n    get refractionAmount() { return this._refractionAmount; } \n    get reflectionAmount() { return this._reflectionAmount; } \n    get texture() { return this._texture; } \n    get lightmap() { return this._lightmap; } \n    get normalMap() { return this._normalMap; } \n    get textureOffset() { return this._textureOffset; } \n    get textureScale() { return this._textureScale; } \n    get lightmapOffset() { return this._lightmapOffset; } \n    get lightmapScale() { return this._lightmapScale; } \n    get normalMapOffset() { return this._normalMapOffset; } \n    get normalMapScale() { return this._normalMapScale; } \n    get castShadows() { return this._castShadows; } \n    get receiveShadows() { return this._receiveShadows; } \n    get alphaCutoff() { return this._alphaCutoff; } \n    get shininessMask() { return this._shininessMask; } \n    get shininessMaskChannel() { return this._shininessMaskChannel; } \n    get shininessMaskInvert() { return this._shininessMaskInvert; } \n    get lightEmissionMask() { return this._lightEmissionMask; } \n    get lightEmissionMaskChannel() { return this._lightEmissionMaskChannel; } \n    get lightEmissionMaskInvert() { return this._lightEmissionMaskInvert; } \n    get reflectionMask() { return this._reflectionMask; } \n    get reflectionMaskChannel() { return this._reflectionMaskChannel; } \n    get reflectionMaskInvert() { return this._reflectionMaskInvert; } \n    get cullFace() { return this._cullFace; }\n    get roughness() { return this._roughness; }\n    get roughnessMask() { return this._roughnessMask; }\n    get roughnessMaskChannel() { return this._roughnessMaskChannel; }\n    get roughnessMaskInvert() { return this._roughnessMaskInvert; }\n    get unlit() { return this._unlit; }\n\n    set diffuse(newVal) { this._diffuse = newVal; this.setEnabled(MaterialFlag.DIFFUSE); }\n    set specular(newVal) { this._specular = newVal; this.setEnabled(MaterialFlag.SPECULAR); }\n    set shininess(newVal) { if (!isNaN(newVal)) { this._shininess = newVal; this.setEnabled(MaterialFlag.SHININESS); } }\n    set lightEmission(newVal) { if (!isNaN(newVal)) { this._lightEmission = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION); } }\n    set refractionAmount(newVal) { if (!isNaN(newVal)) { this._refractionAmount = newVal; this.setEnabled(MaterialFlag.REFRACTION_AMOUNT); } }\n    set reflectionAmount(newVal) { if (!isNaN(newVal)) { this._reflectionAmount = newVal; this.setEnabled(MaterialFlag.REFLECTION_AMOUNT); } }\n    set texture(newVal) { this._texture = newVal; this.setEnabled(MaterialFlag.TEXTURE); }\n    set lightmap(newVal) { this._lightmap = newVal; this.setEnabled(MaterialFlag.LIGHT_MAP); }\n    set normalMap(newVal) { this._normalMap = newVal; this.setEnabled(MaterialFlag.NORMAL_MAP); }\n    set textureOffset(newVal) { this._textureOffset = newVal; this.setEnabled(MaterialFlag.TEXTURE_OFFSET); }\n    set textureScale(newVal) { this._textureScale = newVal; this.setEnabled(MaterialFlag.TEXTURE_SCALE); }\n    set lightmapOffset(newVal) { this._lightmapOffset = newVal; this.setEnabled(MaterialFlag.LIGHT_MAP_OFFSET); }\n    set lightmapScale(newVal) { this._lightmapScale = newVal; this.setEnabled(MaterialFlag.LIGHT_MAP_SCALE); }\n    set normalMapOffset(newVal) { this._normalMapOffset = newVal; this.setEnabled(MaterialFlag.NORMAL_MAP_OFFSET); }\n    set normalMapScale(newVal) { this._normalMapScale = newVal; this.setEnabled(MaterialFlag.NORMAL_MAP_SCALE); }\n    set castShadows(newVal) { this._castShadows = newVal; this.setEnabled(MaterialFlag.CAST_SHADOWS); }\n    set receiveShadows(newVal) { this._receiveShadows = newVal; this.setEnabled(MaterialFlag.RECEIVE_SHADOWS); }\n    set alphaCutoff(newVal) { if (!isNaN(newVal)) { this._alphaCutoff = newVal; this.setEnabled(MaterialFlag.ALPHA_CUTOFF); } }\n    set shininessMask(newVal) { this._shininessMask = newVal; this.setEnabled(MaterialFlag.SHININESS_MASK); }\n    set shininessMaskChannel(newVal) { this._shininessMaskChannel = newVal; this.setEnabled(MaterialFlag.SHININESS_MASK_CHANNEL); }\n    set shininessMaskInvert(newVal) { this._shininessMaskInvert = newVal; this.setEnabled(MaterialFlag.SHININESS_MASK_INVERT); }\n    set lightEmissionMask(newVal) { this._lightEmissionMask = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION_MASK); }\n    set lightEmissionMaskChannel(newVal) { this._lightEmissionMaskChannel = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL); }\n    set lightEmissionMaskInvert(newVal) { this._lightEmissionMaskInvert = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION_MASK_INVERT); }\n    set reflectionMask(newVal) { this._reflectionMask = newVal; this.setEnabled(MaterialFlag.REFLECTION_MASK); }\n    set reflectionMaskChannel(newVal) { this._reflectionMaskChannel = newVal; this.setEnabled(MaterialFlag.REFLECTION_MASK_CHANNEL); }\n    set reflectionMaskInvert(newVal) { this._reflectionMaskInvert = newVal; this.setEnabled(MaterialFlag.REFLECTION_MASK_INVERT); }\n    set cullFace(newVal) { this._cullFace = newVal; this.setEnabled(MaterialFlag.CULL_FACE); }\n    set roughness(newVal) { this._roughness = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set roughnessMask(newVal) { this._roughnessMask = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set roughnessMaskChannel(newVal) { this._roughnessMaskChannel = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set roughnessMaskInvert(newVal) { this._roughnessMaskInvert = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set unlit(newVal) { this._unlit = newVal; this.setEnabled(MaterialFlag.UNLIT); }\n\n    clone() {\n        let copy = new MaterialModifier();\n        copy.assign(this);\n        return copy;\n    }\n    \n    assign(mod) {\n        this._modifierFlags = mod._modifierFlags;\n\n        this._diffuse = mod._diffuse;\n        this._specular = mod._specular;\n        this._shininess = mod._shininess;\n        this._lightEmission = mod._lightEmission;\n        this._refractionAmount = mod._refractionAmount;\n        this._reflectionAmount = mod._reflectionAmount;\n        this._texture = mod._texture;\n        this._lightmap = mod._lightmap;\n        this._normalMap = mod._normalMap;\n        this._textureOffset = mod._textureOffset;\n        this._textureScale = mod._textureScale;\n        this._lightmapOffset = mod._lightmapOffset;\n        this._lightmapScale = mod._lightmapScale;\n        this._normalMapOffset = mod._normalMapOffset;\n        this._normalMapScale = mod._normalMapScale;\n        this._castShadows = mod._castShadows;\n        this._receiveShadows = mod._receiveShadows;\n        this._alphaCutoff = mod._alphaCutoff;\n        this._shininessMask = mod._shininessMask;\n        this._shininessMaskChannel = mod._shininessMaskChannel;\n        this._shininessMaskInvert = mod._shininessMaskInvert;\n        this._lightEmissionMask = mod._lightEmissionMask;\n        this._lightEmissionMaskChannel = mod._lightEmissionMaskChannel;\n        this._lightEmissionMaskInvert = mod._lightEmissionMaskInvert;\n        this._reflectionMask = mod._reflectionMask;\n        this._reflectionMaskChannel = mod._reflectionMaskChannel;\n        this._reflectionMaskInvert = mod._reflectionMaskInvert;\n        this._cullFace = mod._cullFace;\n        this._roughness = mod._roughness;\n        this._roughnessMask = mod._roughnessMask;\n        this._roughnessMaskChannel = mod._roughnessMaskChannel;\n        this._roughnessMaskInvert = mod._roughnessMaskInvert;\n        this._unlit = mod._unlit;\n    }\n\n    serialize() {\n        let result = {};\n        let mask = this._modifierFlags;\n\n        if ( mask & MaterialFlag.DIFFUSE) {\n            result.diffuseR = this._diffuse.r;\n            result.diffuseG = this._diffuse.g;\n            result.diffuseB = this._diffuse.b;\n            result.diffuseA = this._diffuse.a;\n        }\n        if ( mask & MaterialFlag.SPECULAR) {\n            result.specularR = this._specular.r;\n            result.specularG = this._specular.g;\n            result.specularB = this._specular.b;\n            result.specularA = this._specular.a;\n        }\n        if ( mask & MaterialFlag.SHININESS) {\n            result.shininess = this._shininess;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK) {\n            result.shininessMask = this._shininessMask;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_CHANNEL) {\n            result.shininessMaskChannel = this._shininessMaskChannel;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_INVERT) {\n            result.invertShininessMask = this._shininessMaskInvert;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION) {\n            result.lightEmission = this._lightEmission;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK) {\n            result.lightEmissionMask = this._lightEmissionMask;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL) {\n            result.lightEmissionMaskChannel = this._lightEmissionMaskChannel;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_INVERT) {\n            result.invertLightEmissionMask = this._lightEmissionMaskInvert;\n        }\n        if ( mask & MaterialFlag.REFRACTION_AMOUNT) {\n            result.reflectionAmount = this._refractionAmount;\n        }\n        if ( mask & MaterialFlag.REFLECTION_AMOUNT) {\n            result.refractionAmount = this._reflectionAmount;\n        }\n        if ( mask & MaterialFlag.TEXTURE) {\n            result.texture = this._texture;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP) {\n            result.lightmap = this._lightmap;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP) {\n            result.normalMap = this._normalMap;\n        }\n        if ( mask & MaterialFlag.TEXTURE_OFFSET) {\n            result.textureScaleX = this._textureScale.x;\n            result.textureScaleY = this._textureScale.y;\n        }\n        if ( mask & MaterialFlag.TEXTURE_SCALE) {\n            result.textureScaleX = this._textureScale.x;\n            result.textureScaleY = this._textureScale.y;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_OFFSET) {\n            result.lightmapOffsetX = this._lightmapOffset.x;\n            result.lightmapOffsetY = this._lightmapOffset.y;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_SCALE) {\n            result.lightmapScaleX = this._lightmapScale.x;\n            result.lightmapScaleY = this._lightmapScale.y;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_OFFSET) {\n            result.normalMapOffsetX = this._normalMapOffset.x;\n            result.normalMapOffsetY = this._normalMapOffset.y;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_SCALE) {\n            result.normalMapScaleX = this._normalMapScale.x;\n            result.normalMapScaleY = this._normalMapScale.y;\n        }\n        if ( mask & MaterialFlag.CAST_SHADOWS) {\n            result.castShadows = this._castShadows;\n        }\n        if ( mask & MaterialFlag.RECEIVE_SHADOWS) {\n            result.receiveShadows = this._receiveShadows;\n        }\n        if ( mask & MaterialFlag.ALPHA_CUTOFF) {\n            result.alphaCutoff = this._alphaCutoff;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK) {\n            result.reflectionMask = this._reflectionMask;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_CHANNEL) {\n            result.reflectionMaskChannel = this._reflectionMaskChannel;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_INVERT) {\n            result.invertReflectionMask = this._reflectionMaskInvert;\n        }\n        if ( mask & MaterialFlag.CULL_FACE) {\n            result.cullFace = this._cullFace;\n        }\n        if ( mask & MaterialFlag.ROUGHNESS) {\n            result.roughness = this._roughness;\n            result.roughnessMask = this._roughnessMask;\n            result.roughnessMaskChannel = this._roughnessMaskChannel;\n            result.invertRoughnessMask = this._roughnessMaskInvert;\n        }\n        if (mask & MaterialFlag.UNLIT) {\n            result.unlit = this._unlit;\n        }\n        return result;\n    }\n}\n","\nimport Texture from \"./Texture\";\nimport MaterialModifier from \"./MaterialModifier\";\nimport { Vector2, Vector3, Vector4, Color } from \"../math/Vector\";\nimport MaterialFlag from \"./MaterialFlag\";\nimport Resource from \"../utils/Resource\";\n\nfunction loadTexture(context,image,url) {\n    return Texture.FromImage(context,image,url);\n}\n\nfunction channelVector(channel) {\n    return new Vector4(\n        channel==0 ? 1:0,\n        channel==1 ? 1:0,\n        channel==2 ? 1:0,\n        channel==3 ? 1:0\n    );\n}\n\nfunction readVector(data) {\n    if (!data) return null;\n    switch (data.length) {\n    case 2:\n        return new Vector2(data[0],data[1]);\n    case 3:\n        return new Vector3(data[0],data[1],data[2]);\n    case 4:\n        return new Vector4(data[0],data[1],data[2],data[3]);\n    }\n    return null;\n}\n\nexport default class Material {\n    // Create and initialize a material from the json material definition\n    static FromMaterialDefinition(context,def,basePath=\"\") {\n        return new Promise((resolve,reject) => {\n            let mat = new Material();\n\n            mat.diffuse = readVector(def.diffuse) || Color.White();\n            mat.specular = readVector(def.specular) || Color.White();\n            mat.shininess = def.shininess || 0;\n            mat.shininessMaskChannel = def.shininessMaskChannel || 0;\n            mat.shininessMaskInvert = def.shininessMaskInvert || false;\n            mat.lightEmission = def.lightEmission || 0;\n            mat.lightEmissionMaskChannel = def.lightEmissionMaskChannel || 0;\n            mat.lightEmissionMaskInvert = def.lightEmissionMaskInvert || false;\n            mat.refractionAmount = def.refractionAmount || 0;\n            mat.reflectionAmount = def.reflectionAmount || 0;\n            mat.reflectionMaskChannel = def.reflectionMaskChannel || 0;\n            mat.reflectionMaskInvert = def.reflectionMaskInvert || false;\n            mat.textureOffset = readVector(def.textureOffset) || new Vector2(0,0);\n            mat.textureScale = readVector(def.textureScale) || new Vector2(1,1);\n            mat.normalMapOffset = readVector(def.normalMapOffset) || new Vector2(0,0);\n            mat.normalMapScale = readVector(def.normalMapScale) || new Vector2(1,1);\n            mat.cullFace = def.cullFace===undefined ? true : def.cullFace;\n            mat.castShadows = def.castShadows===undefined ? true : def.castShadows;\n            mat.receiveShadows = def.receiveShadows===undefined ? true : def.receiveShadows;\n            mat.alphaCutoff = def.alphaCutoff===undefined ? 0.5 : def.alphaCutoff;\n            mat.name = def.name;\n            mat.description = def.description;\n            mat.roughness = def.roughness || 0;\n            mat.roughnessMaskChannel = def.roughnessMaskChannel || 0;\n            mat.roughnessMaskInvert = def.roughnessMaskInvert || false;\n            mat.unlit = def.unlit || false;\n\n            let texPromises = [];\n            texPromises.push(readTexture(context,basePath,def.shininessMask,mat,\"shininessMask\"));\n            texPromises.push(readTexture(context,basePath,def.lightEmissionMask,mat,\"lightEmissionMask\"));\n            texPromises.push(readTexture(context,basePath,def.reflectionMask,mat,\"reflectionMask\"));\n            texPromises.push(readTexture(context,basePath,def.texture,mat,\"texture\"));\n            texPromises.push(readTexture(context,basePath,def.normalMap,mat,\"normalMap\"));\n            texPromises.push(readTexture(context,basePath,def.roughnessMask,mat,\"roughnessMask\"));\n\n            Promise.all(texPromises)\n                .then(() => {\n                    resolve(mat);\n                });\n        });\n    }\n\n    constructor() {\n        this._diffuse = Color.White();\n        this._specular = Color.White();\n        this._shininess = 0;\n        this._lightEmission = 0;\n        this._refractionAmount = 0;\n        this._reflectionAmount = 0;\n        this._texture = null;\n        this._lightmap = null;\n        this._normalMap = null;\n        this._textureOffset = new Vector2();\n        this._textureScale = new Vector2(1);\n        this._lightmapOffset = new Vector2();\n        this._lightmapScale = new Vector2(1);\n        this._normalMapOffset = new Vector2();\n        this._normalMapScale = new Vector2(1);\n        this._castShadows = true;\n        this._receiveShadows = true;\n        this._alphaCutoff = 0.5;\n        this._shininessMask = null;\n        this._shininessMaskChannel = 0;\n        this._shininessMaskInvert = false;\n        this._lightEmissionMask = null;\n        this._lightEmissionMaskChannel = 0;\n        this._lightEmissionMaskInvert = false;\n        this._reflectionMask = null;\n        this._reflectionMaskChannel = 0;\n        this._reflectionMaskInvert = false;\n        this._cullFace = true;\n        this._roughness = 0;\n        this._roughnessMask = null;\n        this._roughnessMaskChannel = 0;\n        this._roughnessMaskInvert = false;\n        this._unlit = false;\n        \n        this._selectMode = false;\n    }\n    \n    clone() {\n        let copy = new Material();\n        copy.assign(this);\n        return copy;\n    }\n    \n    assign(other) {\n        this._diffuse = new Color(other.diffuse);\n        this._specular = new Color(other.specular);\n        this._shininess = other.shininess;\n        this._lightEmission = other.lightEmission;\n        this._refractionAmount = other.refractionAmount;\n        this._reflectionAmount = other.reflectionAmount;\n        this._texture = other.texture;\n        this._lightmap = other.lightmap;\n        this._normalMap = other.normalMap;\n        this._textureOffset = new Vector2(other.textureOffset);\n        this._textureScale = new Vector2(other.textureScale);\n        this._lightmapOffset = new Vector2(other.ligthmapOffset);\n        this._lightmapScale = new Vector2(other.lightmapScale);\n        this._normalMapOffset = new Vector2(other.normalMapOffset);\n        this._normalMapScale = new Vector2(other.normalMapScale);\n        this._castShadows = other.castShadows;\n        this._receiveShadows = other.receiveShadows;\n        this._alphaCutoff = other.alphaCutoff;\n        this._shininessMask = other.shininessMask;\n        this._shininessMaskChannel = other.shininessMaskChannel;\n        this._shininessMaskInvert = other.shininessMaskInvert;\n        this._lightEmissionMask = other.lightEmissionMask;\n        this._lightEmissionMaskChannel = other.lightEmissionMaskChannel;\n        this._lightEmissionMaskInvert = other.lightEmissionMaskInvert;\n        this._reflectionMask = other.reflectionMask;\n        this._reflectionMaskChannel = other.reflectionMaskChannel;\n        this._reflectionMaskInvert = other.reflectionMaskInvert;\n        this._cullFace = other.cullFace;\n        this._roughness = other.roughness;\n        this._roughnessMask = other.roughnessMask;\n        this._roughnessMaskChannel = other.roughnessMaskChannel;\n        this._roughnessMaskInvert = other.roughnessMaskInvert;\n        this._unlit = other.unlit;\n    }\n    \n    get isTransparent() {\n        return this._diffuse.a<1;\n    }\n    \n    get diffuse() { return this._diffuse; }\n    get specular() { return this._specular; }\n    get shininess() { return this._shininess; }\n    get lightEmission() { return this._lightEmission; }\n    get refractionAmount() { return this._refractionAmount; }\n    get reflectionAmount() { return this._reflectionAmount; }\n    get texture() { return this._texture; }\n    get lightmap() { return this._lightmap; }\n    get normalMap() { return this._normalMap; }\n    get textureOffset() { return this._textureOffset; }\n    get textureScale() { return this._textureScale; }\n    get lightmapOffset() { return this._lightmapOffset; }\n    get lightmapScale() { return this._lightmapScale; }\n    get normalMapOffset() { return this._normalMapOffset; }\n    get normalMapScale() { return this._normalMapScale; }\n    get castShadows() { return this._castShadows; }\n    get receiveShadows() { return this._receiveShadows; }\n    get alphaCutoff() { return this._alphaCutoff; }\n    get shininessMask() { return this._shininessMask; }\n    get shininessMaskChannel() { return this._shininessMaskChannel; }\n    get shininessMaskInvert() { return this._shininessMaskInvert; }\n    get lightEmissionMask() { return this._lightEmissionMask; }\n    get lightEmissionMaskChannel() { return this._lightEmissionMaskChannel; }\n    get lightEmissionMaskInvert() { return this._lightEmissionMaskInvert; }\n    get reflectionMask() { return this._reflectionMask; }\n    get reflectionMaskChannel() { return this._reflectionMaskChannel; }\n    get reflectionMaskInvert() { return this._reflectionMaskInvert; }\n    get cullFace() { return this._cullFace; }\n    get roughness() { return this._roughness; }\n    get roughnessMask() { return this._roughnessMask; }\n    get roughnessMaskChannel() { return this._roughnessMaskChannel; }\n    get roughnessMaskInvert() { return this._roughnessMaskInvert; }\n    get unlit() { return this._unlit; }\n\n    \n    set diffuse(newVal) { this._diffuse = newVal; }\n    set specular(newVal) { this._specular = newVal; }\n    set shininess(newVal) { if (!isNaN(newVal)) this._shininess = newVal; }\n    set lightEmission(newVal) { if (!isNaN(newVal)) this._lightEmission = newVal; }\n    set refractionAmount(newVal) { this._refractionAmount = newVal; }\n    set reflectionAmount(newVal) { this._reflectionAmount = newVal; }\n    set texture(newVal) { this._texture = newVal; }\n    set lightmap(newVal) { this._lightmap = newVal; }\n    set normalMap(newVal) { this._normalMap = newVal; }\n    set textureOffset(newVal) { this._textureOffset = newVal; }\n    set textureScale(newVal) { this._textureScale = newVal; }\n    set lightmapOffset(newVal) { this._lightmapOffset = newVal; }\n    set lightmapScale(newVal) { this._lightmapScale = newVal; }\n    set normalMapOffset(newVal) { this._normalMapOffset = newVal; }\n    set normalMapScale(newVal) { this._normalMapScale = newVal; }\n    set castShadows(newVal) { this._castShadows = newVal; }\n    set receiveShadows(newVal) { this._receiveShadows = newVal; }\n    set alphaCutoff(newVal) { if (!isNaN(newVal)) this._alphaCutoff = newVal; }\n    set shininessMask(newVal) { this._shininessMask = newVal; }\n    set shininessMaskChannel(newVal) { this._shininessMaskChannel = newVal; }\n    set shininessMaskInvert(newVal) { this._shininessMaskInvert = newVal; }\n    set lightEmissionMask(newVal) { this._lightEmissionMask = newVal; }\n    set lightEmissionMaskChannel(newVal) { this._lightEmissionMaskChannel = newVal; }\n    set lightEmissionMaskInvert(newVal) { this._lightEmissionMaskInvert = newVal; }\n    set reflectionMask(newVal) { this._reflectionMask = newVal; }\n    set reflectionMaskChannel(newVal) { this._reflectionMaskChannel = newVal; }\n    set reflectionMaskInvert(newVal) { this._reflectionMaskInvert = newVal; }\n    set cullFace(newVal) { this._cullFace = newVal; }\n    set roughness(newVal) { this._roughness = newVal; }\n    set roughnessMask(newVal) { this._roughnessMask = newVal; }\n    set roughnessMaskChannel(newVal) { this._roughnessMaskChannel = newVal; }\n    set roughnessMaskInvert(newVal) { this._roughnessMaskInvert = newVal; }\n    \n    get unlit() { return this._unlit; }\n    set unlit(u) { this._unlit = u; }\n\n    get selectMode() { return this._selectMode; }\n    set selectMode(s) { this._selectMode = s; }\n\n    // Mask channel vectors: used to pass the mask channel to a shader\n    get lightEmissionMaskChannelVector() {\n        return channelVector(this.lightEmissionMaskChannel)\n    }\n    \n    get shininessMaskChannelVector() {\n        return channelVector(this.shininessMaskChannel);\n    }\n    \n    get reflectionMaskChannelVector() {\n        return channelVector(this.reflectionMaskChannel);\n    }\n\n    get roughnessMaskChannelVector() {\n        return channelVector(this.roughnessMaskChannel);\n    }\n    \n    // Returns an array of the external resources used by this material, for example,\n    // the paths to the textures. If the \"resources\" parameter (array) is passed, the resources\n    // will be added to this array, and the parameter will be modified to include the new\n    // resources. If a resource exists in the \"resources\" parameter, it will not be added\n    getExternalResources(resources=[]) {\n        function tryadd(texture) {\n            if (texture && texture.fileName && texture.fileName!=\"\" && resources.indexOf(texture.fileName)==-1) {\n                resources.push(texture.fileName);\n            }\n        }\n        tryadd(this.texture);\n        tryadd(this.lightmap);\n        tryadd(this.normalMap);\n        tryadd(this.shininessMask);\n        tryadd(this.lightEmissionMask);\n        tryadd(this.reflectionMask);\n        tryadd(this.roughnessMask);\n        return resources;\n    }\n    \n    copyMaterialSettings(mat,mask) {\n        if ( mask & MaterialFlag.DIFFUSE) {\n            mat.diffuse = this.diffuse;\n        }\n        if ( mask & MaterialFlag.SPECULAR) {\n            mat.specular = this.specular;\n        }\n        if ( mask & MaterialFlag.SHININESS) {\n            mat.shininess = this.shininess;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION) {\n            mat.lightEmission = this.lightEmission;\n        }\n        if ( mask & MaterialFlag.REFRACTION_AMOUNT) {\n            mat.refractionAmount = this.refractionAmount;\n        }\n        if ( mask & MaterialFlag.REFLECTION_AMOUNT) {\n            mat.reflectionAmount = this.reflectionAmount;\n        }\n        if ( mask & MaterialFlag.TEXTURE) {\n            mat.texture = this.texture;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP) {\n            mat.lightmap = this.lightmap;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP) {\n            mat.normalMap = this.normalMap;\n        }\n        if ( mask & MaterialFlag.TEXTURE_OFFSET) {\n            mat.textureOffset = this.textureOffset;\n        }\n        if ( mask & MaterialFlag.TEXTURE_SCALE) {\n            mat.textureScale = this.textureScale;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_OFFSET) {\n            mat.lightmapOffset = this.lightmapOffset;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_SCALE) {\n            mat.lightmapScale = this.lightmapScale;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_OFFSET) {\n            mat.normalMapOffset = this.normalMapOffset;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_SCALE) {\n            mat.normalMapScale = this.normalMapScale;\n        }\n        if ( mask & MaterialFlag.CAST_SHADOWS) {\n            mat.castShadows = this.castShadows;\n        }\n        if ( mask & MaterialFlag.RECEIVE_SHADOWS) {\n            mat.receiveShadows = this.receiveShadows;\n        }\n        if ( mask & MaterialFlag.ALPHA_CUTOFF) {\n            mat.alphaCutoff = this.alphaCutoff;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK) {\n            mat.shininessMask = this.shininessMask;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_CHANNEL) {\n            mat.shininessMaskChannel = this.shininessMaskChannel;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_INVERT) {\n            mat.shininessMaskInvert = this.shininessMaskInvert;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK) {\n            mat.lightEmissionMask = this.lightEmissionMask;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL) {\n            mat.lightEmissionMaskChannel = this.lightEmissionMaskChannel;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_INVERT) {\n            mat.lightEmissionMaskInvert = this.lightEmissionMaskInvert;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK) {\n            mat.reflectionMask = this.reflectionMask;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_CHANNEL) {\n            mat.reflectionMaskChannel = this.reflectionMaskChannel;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_INVERT) {\n            mat.reflectionMaskInvert = this.reflectionMaskInvert;\n        }\n        if ( mask & MaterialFlag.CULL_FACE) {\n            mat.cullFace = this.cullFace;\n        }\n\n        // All the roughness attributes are copied together using this flag. In\n        // the future, the *_MASK, *_MASK_CHANNEL and *_MASK_INVERT for shininess,\n        // light emission and reflection, will be deprecated and will work in the\n        // same way as ROUGHNESS here\n        if ( mask & MaterialFlag.ROUGHNESS) {\n            mat.reflectionAmount = this.reflectionAmount;\n            mat.reflectionMask = this.reflectionMask;\n            mat.reflectionMaskChannel = this.reflectionMaskChannel;\n            mat.reflectionMaskInvert = this.reflectionMaskInvert;\n        }\n\n        if (mask & MaterialFlag.UNLIT) {\n            mat.unlit = this.unlit;\n        }\n    }\n\n    applyModifier(context, mod, resourcePath) {\n        if (mod.isEnabled(MaterialFlag.DIFFUSE)) {\n            this.diffuse = mod.diffuse;\n        }\n        if (mod.isEnabled(MaterialFlag.SPECULAR)) {\n            this.specular = mod.specular;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS)) {\n            this.shininess = mod.shininess;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION)) {\n            this.lightEmission = mod.lightEmission;\n        }\n        if (mod.isEnabled(MaterialFlag.REFRACTION_AMOUNT)) {\n            this.refractionAmount = mod.refractionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_AMOUNT)) {\n            this.reflectionAmount = mod.reflectionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE)) {\n            this.texture = getTexture(context,mod.texture,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP)) {\n            this.lightmap = getTexture(context,mod.lightmap,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP)) {\n            this.normalMap = getTexture(context,mod.normalMap,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_OFFSET)) {\n            this.textureOffset = mod.textureOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_SCALE)) {\n            this.textureScale = mod.textureScale;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_OFFSET)) {\n            this.lightmapOffset = mod.lightmapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_SCALE)) {\n            this.lightmapScale = mod.lightmapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_OFFSET)) {\n            this.normalMapOffset = mod.normalMapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_SCALE)) {\n            this.normalMapScale = mod.normalMapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.CAST_SHADOWS)) {\n            this.castShadows = mod.castShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.RECEIVE_SHADOWS)) {\n            this.receiveShadows = mod.receiveShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.ALPHA_CUTOFF)) {\n            this.alphaCutoff = mod.alphaCutoff;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK)) {\n            this.shininessMask = getTexture(context,mod.shininessMask,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_CHANNEL)) {\n            this.shininessMaskChannel = mod.shininessMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_INVERT)) {\n            this.shininessMaskInvert = mod.shininessMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK)) {\n            this.lightEmissionMask = getTexture(context,mod.lightEmissionMask,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL)) {\n            this.lightEmissionMaskChannel = mod.lightEmissionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_INVERT)) {\n            this.lightEmissionMaskInvert = mod.lightEmissionMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK)) {\n            this.reflectionMask = getTexture(context,mod.reflectionMask,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_CHANNEL)) {\n            this.reflectionMaskChannel = mod.reflectionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_INVERT)) {\n            this.reflectionMaskInvert = mod.reflectionMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.CULL_FACE)) {\n            this.cullFace = mod.cullFace;\n        }\n\n        // See above note for ROUGHNESS flags\n        if (mod.isEnabled(MaterialFlag.ROUGHNESS)) {\n            this.roughness = mod.roughness;\n            this.roughnessMask = getTexture(context,mod.roughnessMask,resourcePath);\n            this.roughnessMaskChannel = mod.roughnessMaskChannel;\n            this.roughnessMaskInvert = mod.roughnessMaskInvert;\n        }\n\n        if (mod.isEnabled(MaterialFlag.UNLIT)) {\n            this.unlit = mod.unlit;\n        }\n    }\n    \n    getModifierWithMask(modifierMask) {\n        var mod = new MaterialModifier();\n\n        mod.modifierFlags = modifierMask;\n        \n        if (mod.isEnabled(MaterialFlag.DIFFUSE)) {\n            mod.diffuse = this.diffuse;\n        }\n        if (mod.isEnabled(MaterialFlag.SPECULAR)) {\n            mod.specular = this.specular;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS)) {\n            mod.shininess = this.shininess;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION)) {\n            mod.lightEmission = this.lightEmission;\n        }\n        if (mod.isEnabled(MaterialFlag.REFRACTION_AMOUNT)) {\n            mod.refractionAmount = this.refractionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_AMOUNT)) {\n            mod.reflectionAmount = this.reflectionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE)) {\n            mod.texture = getPath(this.texture);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP)) {\n            mod.lightmap = getPath(this.lightmap);\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP)) {\n            mod.normalMap = getPath(this.normalMap);\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_OFFSET)) {\n            mod.textureOffset = this.textureOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_SCALE)) {\n            mod.textureScale = this.textureScale;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_OFFSET)) {\n            mod.lightmapOffset = this.lightmapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_SCALE)) {\n            mod.lightmapScale = this.lightmapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_OFFSET)) {\n            mod.normalMapOffset = this.normalMapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_SCALE)) {\n            mod.normalMapScale = this.normalMapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.CAST_SHADOWS)) {\n            mod.castShadows = this.castShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.RECEIVE_SHADOWS)) {\n            mod.receiveShadows = this.receiveShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.ALPHA_CUTOFF)) {\n            mod.alphaCutoff = this.alphaCutoff;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK)) {\n            mod.shininessMask = getPath(this.shininessMask);\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_CHANNEL)) {\n            mod.shininessMaskChannel = this.shininessMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_INVERT)) {\n            mod.shininessMaskInvert = this.shininessMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK)) {\n            mod.lightEmissionMask = getPath(this.lightEmissionMask);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL)) {\n            mod.lightEmissionMaskChannel = this.lightEmissionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_INVERT)) {\n            mod.lightEmissionMaskInver = this.lightEmissionMaskInver;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK)) {\n            mod.reflectionMask = getPath(this.reflectionMask);\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_CHANNEL)) {\n            mod.reflectionMaskChannel = this.reflectionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_INVERT)) {\n            mod.reflectionMaskInvert = this.reflectionMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.CULL_FACE)) {\n            mod.cullFace = this.cullFace;\n        }\n\n        // See above note about ROUGHNESS flag\n        if (mod.isEnabled(MaterialFlag.ROUGHNESS)) {\n            mod.roughness = this.roughness;\n            mod.roughnessMask = getPath(this.roughnessMask);\n            mod.roughnessMaskChannel = this.roughnessMaskChannel;\n            mod.roughnessMaskInvert = this.roughnessMaskInvert;\n        }\n\n        if (mod.isEnabled(MaterialFlag.UNLIT)) {\n            mod.unlit = this.unlit;\n        }\n\n        return mod;\n    }\n    \n    static GetMaterialWithJson(context,data,path) {\n        let material = new Material();\n        if (data.cullFace===undefined) {\n            data.cullFace = true;\n        }\n        \n        material.diffuse.set(data.diffuseR,data.diffuseG,data.diffuseB,data.diffuseA);\n        material.specular.set(data.specularR,data.specularG,data.specularB,data.specularA);\n        material.shininess = data.shininess;\n        material.lightEmission = data.lightEmission;\n        \n        material.refractionAmount = data.refractionAmount;\n        material.reflectionAmount = data.reflectionAmount;\n        \n        material.textureOffset.set(data.textureOffsetX,data.textureOffsetY);\n        material.textureScale.set(data.textureScaleX,data.textureScaleY);\n        \n        material.lightmapOffset.set(data.lightmapOffsetX,data.lightmapOffsetY);\n        material.lightmapScale.set(data.lightmapScaleX,data.lightmapScaleY);\n        \n        material.normalMapOffset.set(data.normalMapOffsetX,data.normalMapOffsetY);\n        material.normalMapScale.set(data.normalMapScaleX,data.normalMapScaleY);\n        \n        material.alphaCutoff = data.alphaCutoff;\n        material.castShadows = data.castShadows;\n        material.receiveShadows = data.receiveShadows;\n        \n        material.shininessMaskChannel = data.shininessMaskChannel;\n        material.shininessMaskInvert = data.invertShininessMask;\n        \n        material.lightEmissionMaskChannel = data.lightEmissionMaskChannel;\n        material.lightEmissionMaskInvert = data.invertLightEmissionMask;\n        \n        material.reflectionMaskChannel = data.reflectionMaskChannel;\n        material.reflectionMaskInvert = data.invertReflectionMask;\n\n        material.roughness = data.roughness;\n        material.roughnessMaskChannel = data.roughnessMaskChannel;\n        material.roughnessMaskInvert = data.invertRoughnessMask;\n        \n        material.cullFace = data.cullFace;\n        \n        material.unlit = data.unlit;\n        \n        if (path && path[path.length-1]!='/') {\n            path += '/';\n        }\n        \n        function mergePath(path,file) {\n            if (!file) return null;\n            return path ? path + file:file;\n        }\n\n        data.texture = mergePath(path,data.texture);\n        data.lightmap = mergePath(path,data.lightmap);\n        data.normalMap = mergePath(path,data.normalMap);\n        data.shininessMask = mergePath(path,data.shininessMask);\n        data.lightEmissionMask = mergePath(path,data.lightEmissionMask);\n        data.reflectionMask = mergePath(path,data.reflectionMask);\n        data.roughnessMask = mergePath(path,data.roughnessMask);\n        \n        return new Promise((accept,reject) => {\n            let textures = [];\n            \n            if (data.texture) {\n                textures.push(data.texture);\n            }\n            if (data.lightmap && textures.indexOf(data.lightmap)==-1) {\n                textures.push(data.lightmap);\n            }\n            if (data.normalMap && textures.indexOf(data.normalMap)==-1) {\n                textures.push(data.normalMap);\n            }\n            if (data.shininessMask && textures.indexOf(data.shininessMask)==-1) {\n                textures.push(data.shininessMask);\n            }\n            if (data.lightEmissionMask && textures.indexOf(data.lightEmissionMask)==-1) {\n                textures.push(data.lightEmissionMask);\n            }\n            if (data.reflectionMask && textures.indexOf(data.reflectionMask)==-1) {\n                textures.push(data.reflectionMask);\n            }\n            if (data.roughnessMask && textures.indexOf(data.roughnessMask)==-1) {\n                textures.push(data.roughnessMask);\n            }\n            \n            Resource.Load(textures)\n                .then(function(images) {\n                    material.texture = loadTexture(context,images[data.texture],data.texture);\n                    material.lightmap = loadTexture(context,images[data.lightmap],data.lightmap);\n                    material.normalMap = loadTexture(context,images[data.normalMap],data.normalMap);\n                    material.shininessMask = loadTexture(context,images[data.shininessMask],data.shininessMask);\n                    material.lightEmissionMask = loadTexture(context,images[data.lightEmissionMask],data.lightEmissionMask);\n                    material.reflectionMask = loadTexture(context,images[data.reflectionMask],data.reflectionMask);\n                    material.roughnessMask = loadTexture(context,images[data.roughnessMask],data.roughnessMask);\n                    accept(material);\n                });\n        });\n    }\n}\n","import { LoaderPlugin } from \"./Loader\";\nimport Resource from \"../utils/Resource\";\nimport Material from \"./Material\";\n\nexport default class Bg2matLoaderPlugin extends bg.base.LoaderPlugin {\n    acceptType(url,data) {\n        return Resource.GetExtension(url)==\"bg2mat\";\n    }\n\n    load(context,url,data) {\n        return new Promise((resolve,reject) => {\n            if (data) {\n                try {\n                    if (typeof(data)==\"string\") {\n                        data = JSON.parse(data);\n                    }\n                    let promises = [];\n                    let basePath = url.substring(0,url.lastIndexOf('/')+1);\n\n                    data.forEach((matData) => {\n                        promises.push(Material.FromMaterialDefinition(context,matData,basePath));\n                    });\n\n                    Promise.all(promises)\n                        .then((result) => {\n                            resolve(result);\n                        });\n                }\n                catch(e) {\n                    reject(e);\n                }\n            }\n            else {\n                reject(new Error(\"Error loading material. Data is null.\"));\n            }\n        });\n    }\n}","\n\nexport default class VideoTextureLoaderPlugin extends bg.base.LoaderPlugin {\n    acceptType(url,data) {\n        return bg.utils.Resource.IsVideo(url);\n    }\n\n    load(context,url,video) {\n        return new Promise((accept,reject) => {\n            if (video) {\n                let texture = new bg.base.Texture(context);\n                texture.create();\n                texture.bind();\n                texture.setVideo(video);\n                texture.fileName = url;\n                accept(texture);\n            }\n            else {\n                reject(new Error(\"Error loading video texture data\"));\n            }\n        });\n    }\n}","\nimport md5 from \"../utils/md5\";\nimport Loader from \"./Loader\";\nimport Resource from \"../utils/Resource\";\nimport Texture from \"./Texture\";\nimport TextureCache from \"./TextureCache\";\nimport TextureLoaderPlugin from \"./TextureLoaderPlugin\";\n\nwindow.s_bg_base_imageTools = {\n    base64Images: {}\n}\n\nexport default {\n    isAbsolutePath(path) {\n        return /^(f|ht)tps?:\\/\\//i.test(path);\n    },\n\n    mergePaths(path,component) {\n        return path.slice(-1)!='/' ? path + '/' + component :  path + component;\n    },\n\n    getTexture(context,texturePath,resourcePath) {\n        let texture = null;\n        if (texturePath) {\n            if (!isAbsolutePath(texturePath)) {\n                if (resourcePath.slice(-1)!='/') {\n                    resourcePath += '/';\n                }\n                texturePath = `${resourcePath}${texturePath}`;\n            }\n    \n            texture = TextureCache.Get(context).find(texturePath);\n            if (!texture) {\n                texture = new Texture(context);\n                texture.create();\n                texture.fileName = texturePath;\n                TextureCache.Get(context).register(texturePath,texture);\n    \n                (function(path,tex) {\n                    Resource.Load(path)\n                        .then(function(imgData) {\n                            tex.bind();\n                            texture.minFilter = TextureLoaderPlugin.GetMinFilter();\n                            texture.magFilter = TextureLoaderPlugin.GetMagFilter();\n                            tex.fileName = path;\n                            tex.setImage(imgData);\n                        });\n                })(texturePath,texture);\n            }\n        }\n        return texture;\n    },\n\n    getPath(texture) {\n        return texture ? texture.fileName:\"\";\n    },\n\n\n    readTexture(context,basePath,texData,mat,property) {\n        return new Promise((resolve) => {\n            if (!texData) {\n                resolve();\n            }\n            else if (/data\\:image\\/[a-z]+\\;base64\\,/.test(texData)) {\n                let hash = md5(texData);\n                if (window.s_bg_base_imageTools.base64Images[hash]) {\n                    mat[property] = window.s_bg_base_imageTools.base64Images[hash];\n                }\n                else {\n                    mat[property] = Texture.FromBase64Image(context,texData);\n                    window.s_bg_base_imageTools.base64Images[hash] = mat[property];\n                }\n                resolve(mat[property]);\n            }\n    //\t\t\telse if (/data\\:md5/.test(texData)) {\n\n    //\t\t\t}\n            else {\n                let fullPath = basePath + texData;\t// TODO: add full path\n                Loader.Load(context,fullPath)\n                    .then(function(tex) {\n                        mat[property] = tex;\n                        resolve(tex);\n                    });\n            }\n        });\n    }\n}\n","\nimport Effect from \"./Effect\";\nimport Loader, { LoaderPlugin } from \"./Loader\";\nimport PolyList, { DrawMode, BufferType } from \"./PolyList\";\nimport Shader, { ShaderType } from \"./Shader\";\nimport ShaderLibrary from \"./ShaderLibrary\";\nimport ShaderSource from \"./ShaderSource\";\nimport Texture, {\n    TextureUnit,\n    TextureWrap,\n    TextureFilter,\n    TextureTarget,\n    TextureDataType\n} from \"./Texture\";\nimport TextureCache from \"./TextureCache\";\nimport TextureLoaderPlugin from \"./TextureLoaderPlugin\";\nimport TextureEffect from \"./TextureEffect\";\nimport Bg2matLoaderPlugin from \"./Bg2matLoaderPlugin\";\nimport Material from \"./Material\";\nimport MaterialFlag from \"./MaterialFlag\";\nimport MaterialModifier from \"./MaterialModifier\";\nimport VideoTextureLoaderPlugin from \"./VideoTextureLoaderPlugin\";\nimport imageTools from \"./imageTools\";\n\nconst base = {\n    Bg2matLoaderPlugin,\n    BufferType,\n    Effect,\n    DrawMode,\n    imageTools,\n    LoaderPlugin,\n    Loader,\n    PolyList,\n    MaterialFlag,\n    Material,\n    MaterialModifier,\n    ShaderType,\n    Shader,\n    ShaderLibrary,\n    ShaderSource,\n    TextureUnit,\n    TextureWrap,\n    TextureFilter,\n    TextureTarget,\n    TextureDataType,\n    Texture,\n    TextureCache,\n    TextureEffect,\n    TextureLoaderPlugin,\n    VideoTextureLoaderPlugin\n}\n\nexport default base;","\nimport { NumericArray } from \"./constants\";\nimport { Vector } from \"./Vector\";\n\nexport default class Bounds extends Vector {\n    constructor(a=0,b=0,c=0,d=0,e=0,f=0) {\n        super(new NumericArray(6));\n        this._v[0] = a;\n        this._v[1] = b;\n        this._v[2] = c;\n        this._v[3] = d;\n        this._v[4] = e;\n        this._v[5] = f;\n    }\n    \n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1] && this._v[2]==v._v[2] && this._v[3]==v._v[3] && this._v[4]==v._v[4] && this._v[5]==v._v[5]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1] || this._v[2]!=v._v[2] || this._v[3]!=v._v[3] || this._v[4]!=v._v[4] || this._v[5]!=v._v[5]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; this._v[2]=v._v[2]; this._v[3]=v._v[3]; this._v[4]=v._v[4]; this._v[5]=v._v[5]; }\n\n    set(left, right, bottom, top, back, front) {\n        this._v[0] = left;\n        this._v[1] = (right===undefined) ? left:right;\n        this._v[2] = (right===undefined) ? left:bottom;\n        this._v[3] = (right===undefined) ? left:top;\n        this._v[4] = (right===undefined) ? left:back;\n        this._v[5] = (right===undefined) ? left:front;\n    }\n\n    get left() { return this._v[0]; }\n    get right() { return this._v[1]; }\n    get bottom() { return this._v[2]; }\n    get top() { return this._v[3]; }\n    get back() { return this._v[4]; }\n    get front() { return this._v[5]; }\n    \n    set left(v) { this._v[0] = v; }\n    set right(v) { this._v[1] = v; }\n    set bottom(v) { this._v[2] = v; }\n    set top(v) { this._v[3] = v; }\n    set back(v) { this._v[4] = v; }\n    set front(v) { this._v[5] = v; }\n\n    get width() { return Math.abs(this._v[1] - this._v[0]); }\n    get height() { return Math.abs(this._v[3] - this._v[2]); }\n    get depth() { return Math.abs(this._v[5] - this._v[4]); }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]) || isNaN(this._v[2]) || isNaN(this._v[3]) || isNaN(this._v[4]) || isNaN(this._v[5]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n\n    isInBounds(/* vwgl.Vector3*/ v) {\n        return v.x>=this._v[0] && v.x<=this._v[1] &&\n                v.y>=this._v[2] && v.y<=this._v[3] &&\n                v.z>=this._v[4] && v.z<=this._v[5];\n    }\n}\n","import { Vector4 } from \"./Vector\";\nimport { sin, cos, sqrt } from \"./functions\";\nimport Matrix3 from \"./Matrix3\";\nimport Matrix4 from \"./Matrix4\";\n\nexport default class Quaternion extends Vector4 {\n    static MakeWithMatrix(m) {\n        return new Quaternion(m);\n    }\n    \n    constructor(a,b,c,d) {\n        super();\n        if (a===undefined) this.zero();\n        else if (b===undefined) {\n            if (a._v && a._v.lenght>=4) this.clone(a);\n            else if(a._m && a._m.length==9) this.initWithMatrix3(a);\n            else if(a._m && a._m.length==16) this.initWithMatrix4(a);\n            else this.zero();\n        }\n        else if (a!==undefined && b!==undefined && c!==undefined && d!==undefined) {\n            this.initWithValues(a,b,c,d);\n        }\n        else {\n            this.zero();\n        }\n    }\n    \n    initWithValues(alpha,x,y,z) {\n        this._v[0] = x * sin(alpha/2);\n        this._v[1] = y * sin(alpha/2);\n        this._v[2] = z * sin(alpha/2);\n        this._v[3] = cos(alpha/2);\n        return this;\n    }\n    \n    clone(q) {\n        this._v[0] = q._v[0];\n        this._v[1] = q._v[1];\n        this._v[2] = q._v[2];\n        this._v[3] = q._v[3];\n    }\n    \n    initWithMatrix3(m) {\n        let w = sqrt(1.0 + m._m[0] + m._m[4] + m._m[8]) / 2.0;\n        let w4 = 4.0 * w;\n        \n        this._v[0] = (m._m[7] - m._m[5]) / w;\n        this._v[1] = (m._m[2] - m._m[6]) / w4;\n        this._v[2] = (m._m[3] - m._m[1]) / w4;\n        this._v[3] = w;\n    }\n    \n    initWithMatrix4(m) {\n        let w = sqrt(1.0 + m._m[0] + m._m[5] + m._m[10]) / 2.0;\n        let w4 = 4.0 * w;\n        \n        this._v[0] = (m._m[9] - m._m[6]) / w;\n        this._v[1] = (m._m[2] - m._m[8]) / w4;\n        this._v[2] = (m._m[4] - m._m[1]) / w4;\n        this._v[3] = w;\t\n    }\n    \n    getMatrix4() {\n        let m = Matrix4.Identity();\n        let _v = this._v;\n        m.setRow(0, new Vector4(1.0 - 2.0*_v[1]*_v[1] - 2.0*_v[2]*_v[2], 2.0*_v[0]*_v[1] - 2.0*_v[2]*_v[3], 2.0*_v[0]*_v[2] + 2.0*_v[1]*_v[3], 0.0));\n        m.setRow(1, new Vector4(2.0*_v[0]*_v[1] + 2.0*_v[2]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[2]*_v[2], 2.0*_v[1]*_v[2] - 2.0*_v[0]*_v[3], 0.0));\n        m.setRow(2, new Vector4(2.0*_v[0]*_v[2] - 2.0*_v[1]*_v[3], 2.0*_v[1]*_v[2] + 2.0*_v[0]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[1]*_v[1], 0.0));\n        return m;\n    }\n    \n    getMatrix3() {\n        let m = Matrix3.Identity();\n        let _v = this._v;\n        \n        m.setRow(0, new Vector3(1.0 - 2.0*_v[1]*_v[1] - 2.0*_v[2]*_v[2], 2.0*_v[0]*_v[1] - 2.0*_v[2]*_v[3], 2.0*_v[0]*_v[2] + 2.0*_v[1]*_v[3]));\n        m.setRow(1, new Vector3(2.0*_v[0]*_v[1] + 2.0*_v[2]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[2]*_v[2], 2.0*_v[1]*_v[2] - 2.0*_v[0]*_v[3]));\n        m.setRow(2, new Vector3(2.0*_v[0]*_v[2] - 2.0*_v[1]*_v[3], 2.0*_v[1]*_v[2] + 2.0*_v[0]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[1]*_v[1]));\n        return m;\n    }\n}","\n// TODO: Import packages here\nimport utils from \"./js/utils\";\nimport app from \"./js/app\";\nimport base from \"./js/base\";\nimport math from \"./js/math\"\n\nconst bg = {\n    utils,\n    app,\n    base,\n    math\n}\n\nexport default bg;\n\n\n\n\n","\nimport {\n    Axis,\n    PI,\n    DEG_TO_RAD,\n    RAD_TO_DEG,\n    PI_2,\n    PI_4,\n    PI_8,\n    TWO_PI,\n    EPSILON,\n    NumericArray,\n    NumericArrayHighP,\n    FLOAT_MAX\n } from \"./constants\";\n\n import {\n    checkPowerOfTwo,\n    checkZero,\n    equals,\n    degreesToRadians,\n    radiansToDegrees,\n    sin,\n    cos,\n    tan,\n    cotan,\n    atan,\n    atan2,\n    random,\n    seededRandom,\n    max,\n    min,\n    abs,\n    sqrt,\n    lerp,\n    square\n } from \"./functions\";\n\nimport {\n    Vector,\n    Vector2,\n    Vector3,\n    Vector4,\n    Size2D,\n    Size3D,\n    Position2D,\n    Viewport,\n    Color\n} from \"./Vector\";\n\nimport Bounds from \"./Bounds\";\nimport Quaternion from \"./Quaternion\";\nimport Matrix3 from \"./Matrix3\";\nimport Matrix4 from \"./Matrix4\";\n\nconst math = {\n    Axis,\n    PI,\n    DEG_TO_RAD,\n    RAD_TO_DEG,\n    PI_2,\n    PI_4,\n    PI_8,\n    TWO_PI,\n    EPSILON,\n    NumericArray,\n    NumericArrayHighP,\n    FLOAT_MAX,\n    checkPowerOfTwo,\n    checkZero,\n    equals,\n    degreesToRadians,\n    radiansToDegrees,\n    sin,\n    cos,\n    tan,\n    cotan,\n    atan,\n    atan2,\n    random,\n    seededRandom,\n    max,\n    min,\n    abs,\n    sqrt,\n    lerp,\n    square,\n    Vector,\n    Vector2,\n    Vector3,\n    Vector4,\n    Size2D,\n    Size3D,\n    Position2D,\n    Viewport,\n    Color,\n    Bounds,\n    Quaternion,\n    Matrix3,\n    Matrix4\n}\n\nexport default math;\n","\nexport default class Electron {\n    get isElectronApp() {\n        return (typeof module !== \"undefined\" && module.exports && true) || false;\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"0f670139fc44daab623c\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbg2e\"] = self[\"webpackChunkbg2e\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(2);\n"],"names":["root","factory","exports","module","define","amd","self","inProgress","dataWebpackPrefix","setupRequestAnimFrame","window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","initWebGLContext","canvas","context","gl","supported","experimental","getContext","preserveDrawingBuffer","e","uuid","Symbol","UserAgent","userAgentString","this","system","browser","navigator","userAgent","parseOperatingSystem","parseBrowser","OSX","test","Windows","iPhone","iPodTouch","iPad","iOS","Android","Linux","OSName","parseOSXVersion","parseWindowsVersion","parseLinuxVersion","parseIOSVersion","parseAndroidVersion","Version","Safari","Name","Vendor","versionString","RegExp","$1","Chrome","Opera","Firefox","Edge","result","exec","Explorer","re","matches","version","IsMobileVersion","MobileSafari","parseBrowserVersion","major","Number","minor","$2","revision","$3","stringValue","name","Path","a","b","lastIndexOf","sep","length","path","split","pop","join","s_bg_utils_preventImageDump","s_bg_utils_preventVideoDump","beginImageLoad","img","push","endImageLoad","index","indexOf","splice","beginVideoLoad","video","endVideoLoad","ResourceProvider","url","onSuccess","onFail","onProgress","onSucces","s_bg_utils_videoLoaders","document","createElement","crossOrigin","autoplay","setAttribute","addEventListener","evt","target","Error","src","HTTPResourceProvider","type","Object","keys","videoUrl","ext","Resource","GetExtension","bg","utils","GetCompatibleVideoFormats","req","XMLHttpRequest","progress","console","log","file","loaded","total","open","status","Image","event","generateUUID","loader","GetVideoLoaderForType","apply","g_resourceProvider","IMG_LOAD_EVENT_NAME","emitImageLoadEvent","CustomEvent","image","dispatchEvent","bindImageLoadEvent","provider","match","toLowerCase","formats","find","fmt","IsFormat","binaryFormats","videoFormats","urlArray","progressFiles","progressFunc","key","fileList","resources","forEach","Load","resolvingPromises","map","promise","Promise","resolve","payload","Array","then","error","all","loadedData","pl","constructor","LoadMultiple","IsImage","LoadImage","IsBinary","LoadBinary","IsVideo","LoadVideo","LoadJson","LoadText","reject","getRequest","responseText","send","loadVideo","err","response","responseType","loadImage","JSON","parse","s_bg_utils_Engine","Engine","_shaderLibrary","inputs","functions","engine","_engineId","_texture","_pipeline","_polyList","_shader","_colorBuffer","_textureBuffer","_shaderSource","_cubemapCapture","_textureMerger","LifeCycle","delta","pipeline","matrixState","modelMatrixStack","viewMatrixStack","projectionMatrixStack","renderQueue","width","height","frames","app","MainLoop","singleton","postRedisplay","postReshape","r","t","n","s","v","w","o","substring","i","A","f","d","charCodeAt","C","h","c","g","y","u","l","Int32Array","I","md5","String","fromCharCode","slice","global","isBigEndian","arr32","Uint32Array","Uint8Array","buffer","isLittleEndian","requireGlobal","async","getElementsByTagName","appendChild","Date","getTime","performance","now","replace","Math","random","floor","toString","electron","Electron","Canvas","domElem","_domElem","style","MozUserSelect","WebkitUserSelect","_multisample","_context","ms","clientWidth","clientHeight","format","canvasStyle","prevSize","domElement","cssText","data","toDataURL","ContextObject","EventBase","_executeDefault","SpecialKey","BACKSPACE","TAB","ENTER","SHIFT","SHIFT_LEFT","SHIFT_RIGHT","CTRL","CTRL_LEFT","KeyboardEvent","code","IsSpecialKey","MouseButton","LEFT","MIDDLE","RIGHT","NONE","MouseEvent","button","x","TouchEvent","touches","s_bg_app_mouseStatus","leftButton","middleButton","rightButton","pos","defineProperty","get","Mouse","anyButton","s_bg_app_mainLoop","lastTime","animationLoop","totalTime","elapsedTime","elapsed","redisplay","windowController","frame","updateMode","_redisplayFrames","display","onResize","multisample","reshape","onMouseMove","offset","getBoundingClientRect","SetPosition","clientX","left","clientY","top","multisampl","mouseMove","AnyButton","mouseDrag","getTouchEvent","touch","identifier","force","rotationAngle","radiusX","radiusY","_canvas","_windowController","_updateMode","m","s_mouseStatus","init","Position","SetLeftButton","SetMiddleButton","SetRightButton","bgEvent","mouseDown","onMouseDown","executeDefault","preventDefault","bgEvt","mouseOut","LeftButton","mouseUp","MiddleButton","RightButton","onMouseUp","touchStart","touchMove","touchEnd","mouseWheelEvt","wheelDelta","detail","mouseWheel","keyCode","keyDown","keyUp","oncontextmenu","initEvents","WindowController","ShaderType","VERTEX","FRAGMENT","s_bg_base_activeShader","Shader","Get","shader","create","_linked","_compileError","_linkError","_compileErrorSource","shaderType","shaderSource","addShaderSource","line","link","setActive","g_window","ClearActive","inputBufferVars","valueVars","initVars","vbo","itemSize","setInputBuffer","disableInputBuffer","setValueInt","setValueIntPtr","setValueFloat","setValueFloatPtr","setValueVector2","setValueVector3","setValueVector4","setValueVector2v","setValueVector3v","setValueVector4v","traspose","setValueMatrix3","setValueMatrix4","texture","textureUnit","setTexture","warn","Effect","_inputVars","_shaders","sourceArray","append","shaderIndex","inputAttribs","inputVars","source","params","param","role","compileError","compileErrorSource","linkError","beginDraw","clearActive","plist","vertex","vertexBuffer","normal","normalBuffer","tex0","texCoord0Buffer","tex1","texCoord1Buffer","tex2","texCoord2Buffer","color","colorBuffer","tangent","tangentBuffer","setupVars","LoaderPlugin","loadUrl","extraData","accept","Loader","LoadData","extendedData","loadUrlArray","promises","itemUrl","loadData","loadedResults","resolvedData","selectedPlugin","s_loaderPlugins","some","plugin","acceptType","load","s_bg_base_loaderPlugins","p","isArray","Axis","X","Y","Z","axis","W","PI","DEG_TO_RAD","RAD_TO_DEG","EPSILON","NumericArray","Float32Array","NumericArrayHighP","Vector","_v","magnitude","v1","v2","min","Vector2","Vector3","Vector4","undefined","other","scale","sqrt","isNaN","z","Size2D","Size3D","Position2D","Viewport","Color","Matrix3","v00","v01","v02","v10","v11","v12","v20","v21","v22","_m","assign","row","rx","normalize","ry","rz","r0","r1","r2","setRow","rm","lm","res","vec","s_bg_math_seed","checkPowerOfTwo","checkZero","sin","val","fround","cos","tan","seededRandom","Matrix4","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","depth","mvMat","pMat","viewport","mvp","mult","invert","vin","multVector","set","fovy","aspect","nearPlane","farPlane","fovy2","fovy2aspect","Frustum","right","bottom","B","k","p_eye","p_center","p_up","Identity","dot","alpha","cosAlpha","acosAlpha","sinAlpha","getScale","Perspective","Ortho","origin","up","LookAt","Translation","Rotation","Scale","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","zero","r3","dir","direction","trx","xyz","transformDirection","get23","get22","get13","get11","get03","get00","near","get12","get02","BufferType","NORMAL","TEX_COORD_0","TEX_COORD_1","TEX_COORD_2","COLOR","TANGENT","INDEX","DrawMode","TRIANGLES","TRIANGLE_FAN","TRIANGLE_STRIP","LINES","LINE_STRIP","PolyList","_plist","_drawMode","_name","_groupName","_visible","_visibleToShadows","_vertex","_normal","_texCoord0","_texCoord1","_texCoord2","_color","_tangent","_index","pl2","copy","dst","item","groupName","visible","visibleToShadows","drawMode","texCoord0","texCoord1","texCoord2","texCoord02","build","tex0Buffer","tex1Buffer","tex2Buffer","indexBuffer","bufferType","newData","polyList","update","plistImpl","destroy","generatedIndexes","invalidUV","v0i","v1i","v2i","t0i","t1i","t2i","v0","t0","t1","t2","edge1","sub","edge2","deltaU1","deltaV1","deltaU2","deltaV2","den","createTangents","draw","transform","rotation","getMatrix3","s_shaderLibrary","defineAll","obj","Reflect","_all","ShaderLibrary","library","shaderLibrary","matrix","model","view","projection","material","lighting","lightingForward","shadows","colorCorrection","materials","pbr","ShaderSource","_type","_params","_functions","_requiredExtensions","_header","_preprocessor","func","body","addFunction","returnType","impl","header","parameter","lines","minTabs","tabsInLine","diff","s_bg_base_textureCache","COLOR_TEXTURE_SIZE","s_whiteTexture","s_blackTexture","s_normalTexture","s_randomTexture","s_whiteCubemap","s_blackCubemap","TextureCache","_textures","size","cache","tex","Texture","WhiteCubemap","register","BlackCubemap","WhiteTexture","BlackTexture","NormalTexture","RandomTexture","PrecomputedBRDFLookupTexture","s_bg_base_textureLoaderPlugin_wrapX","s_bg_base_textureLoaderPlugin_wrapY","s_bg_base_textureLoaderPlugin_minFilter","s_bg_base_textureLoaderPlugin_magFilter","TextureLoaderPlugin","base","TextureWrap","REPEAT","TextureFilter","LINEAR_MIPMAP_NEAREST","LINEAR","bind","wrapX","GetWrapX","wrapY","GetWrapY","minFilter","GetMinFilter","magFilter","GetMagFilter","setImage","fileName","CLAMP","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR","NEAREST","TextureTarget","TEXTURE_2D","CUBE_MAP","POSITIVE_X_FACE","NEGATIVE_X_FACE","POSITIVE_Y_FACE","NEGATIVE_Y_FACE","POSITIVE_Z_FACE","NEGATIVE_Z_FACE","TextureDataType","IMAGE","IMAGE_DATA","CUBEMAP","CUBEMAP_DATA","VIDEO","s_bg_base_window","s_bg_base_base64TexturePreventRemove","_fileName","_size","_target","_minFilter","_magFilter","_wrapX","_wrapY","_video","canvas2d","FromBase64Image","valid","imageData","IsPowerOfTwoImage","unbind","imgData","colorTexture","dataSize","textureData","setImageRaw","ColorTexture","White","ColorCubemap","Black","cm","setCubemapRaw","randVector","brdf","debug","_image","_imageData","_cubeMapImages","_cubeMapData","Unbind","flipY","setTextureWrapX","setTextureWrapY","RGBA","UNSIGNED_BYTE","posX","negX","posY","negY","posZ","negZ","setTextureFilter","setCubemapImage","videoWidth","videoHeight","setVideo","updateVideoData","lib","TextureEffect","_frame","rebuildShaders","setupShaderSource","vertexShaderSource","fragmentShaderSource","_vertexShaderSource","addParameter","buffers","dataType","id","setMainBody","_fragmentShaderSource","surface","_surface","bindPolyList","DIFFUSE","SPECULAR","SHININESS","LIGHT_EMISSION","REFRACTION_AMOUNT","REFLECTION_AMOUNT","TEXTURE","LIGHT_MAP","NORMAL_MAP","TEXTURE_OFFSET","TEXTURE_SCALE","LIGHT_MAP_OFFSET","LIGHT_MAP_SCALE","NORMAL_MAP_OFFSET","NORMAL_MAP_SCALE","CAST_SHADOWS","RECEIVE_SHADOWS","ALPHA_CUTOFF","SHININESS_MASK","SHININESS_MASK_CHANNEL","SHININESS_MASK_INVERT","LIGHT_EMISSION_MASK","LIGHT_EMISSION_MASK_CHANNEL","LIGHT_EMISSION_MASK_INVERT","REFLECTION_MASK","REFLECTION_MASK_CHANNEL","REFLECTION_MASK_INVERT","CULL_FACE","ROUGHNESS","UNLIT","MaterialModifier","jsonData","_modifierFlags","_diffuse","_specular","_shininess","_lightEmission","_refractionAmount","_reflectionAmount","_lightmap","_normalMap","_textureOffset","_textureScale","_lightmapOffset","_lightmapScale","_normalMapOffset","_normalMapScale","_castShadows","_receiveShadows","_alphaCutoff","_shininessMask","_shininessMaskChannel","_shininessMaskInvert","_lightEmissionMask","_lightEmissionMaskChannel","_lightEmissionMaskInvert","_reflectionMask","_reflectionMaskChannel","_reflectionMaskInvert","_cullFace","_roughness","_roughnessMask","_roughnessMaskChannel","_roughnessMaskInvert","_unlit","diffuseR","diffuseG","diffuseB","diffuse","diffuseA","specularR","specularG","specularB","specular","specularA","shininess","lightEmission","refractionAmount","reflectionAmount","lightmap","normalMap","textureOffsetX","textureOffsetY","textureOffset","textureScaleX","textureScaleY","textureScale","lightmapOffsetX","lightmapOffsetY","lightmapOffset","lightmapScaleX","lightmapScaleY","lightmapScale","normalMapScaleX","normalMapScaleY","normalMapScale","normalMapOffsetX","normalMapOffsetY","normalMapOffset","castShadows","receiveShadows","alphaCutoff","shininessMask","shininessMaskChannel","invertShininessMask","shininessMaskInvert","lightEmissionMask","lightEmissionMaskChannel","invertLightEmissionMask","lightEmissionMaskInvert","reflectionMask","reflectionMaskChannel","invertReflectionMask","reflectionMaskInvert","roughness","roughnessMask","roughnessMaskChannel","invertRoughnessMask","roughnessMaskInvert","unlit","flag","newVal","setEnabled","MaterialFlag","mod","mask","cullFace","loadTexture","FromImage","channelVector","channel","readVector","Material","_selectMode","ligthmapOffset","tryadd","mat","resourcePath","isEnabled","getTexture","modifierMask","modifierFlags","getPath","lightEmissionMaskInver","def","basePath","description","texPromises","readTexture","mergePath","textures","images","Bg2matLoaderPlugin","matData","FromMaterialDefinition","VideoTextureLoaderPlugin","s_bg_base_imageTools","base64Images","imageTools","isAbsolutePath","mergePaths","component","texturePath","texData","property","hash","fullPath","TextureUnit","TEXTURE_0","TEXTURE_1","TEXTURE_2","TEXTURE_3","TEXTURE_4","TEXTURE_5","TEXTURE_6","TEXTURE_7","TEXTURE_8","TEXTURE_9","TEXTURE_10","TEXTURE_11","TEXTURE_12","TEXTURE_13","TEXTURE_14","TEXTURE_15","TEXTURE_16","TEXTURE_17","TEXTURE_18","TEXTURE_19","TEXTURE_20","TEXTURE_21","TEXTURE_22","TEXTURE_23","TEXTURE_24","TEXTURE_25","TEXTURE_26","TEXTURE_27","TEXTURE_28","TEXTURE_29","TEXTURE_30","Bounds","back","front","abs","Quaternion","lenght","clone","initWithMatrix3","initWithMatrix4","initWithValues","q","w4","math","PI_2","PI_4","PI_8","TWO_PI","FLOAT_MAX","equals","degreesToRadians","radiansToDegrees","cotan","atan","atan2","j","atan2f","max","lerp","from","to","square","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","enumerable","chunkId","reduce","globalThis","Function","hmd","children","prop","prototype","hasOwnProperty","call","done","script","needAttach","scripts","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","fn","head","toStringTag","value","scriptUrl","importScripts","location","currentScript","installedChunks","installedChunkData","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal"],"sourceRoot":""}