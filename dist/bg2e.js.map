{"version":3,"file":"bg2e.js","mappings":"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","sources":["webpack://bg2e/webpack/universalModuleDefinition","webpack://bg2e/webpack/runtime/load script","webpack://bg2e/./node_modules/@babel/runtime/regenerator/index.js","webpack://bg2e/./src/js/utils/WebGLUtils.js","webpack://bg2e/./src/js/utils/UserAgent.js","webpack://bg2e/./src/js/utils/Path.js","webpack://bg2e/./src/js/utils/ResourceProvider.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://bg2e/./src/js/utils/HTTPResourceProvider.js","webpack://bg2e/./src/js/utils/Resource.js","webpack://bg2e/./src/js/utils/Engine.js","webpack://bg2e/./src/js/utils/LifeCycle.js","webpack://bg2e/./src/js/utils/md5.js","webpack://bg2e/./src/js/utils/index.js","webpack://bg2e/./src/js/utils/endianness.js","webpack://bg2e/./src/js/app/Canvas.js","webpack://bg2e/./src/js/app/ContextObject.js","webpack://bg2e/./src/js/app/EventBase.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://bg2e/./src/js/app/KeyboardEvent.js","webpack://bg2e/./src/js/app/MouseEvent.js","webpack://bg2e/./src/js/app/TouchEvent.js","webpack://bg2e/./src/js/app/Mouse.js","webpack://bg2e/./src/js/app/MainLoop.js","webpack://bg2e/./src/js/app/WindowController.js","webpack://bg2e/./src/js/app/index.js","webpack://bg2e/./src/js/base/Shader.js","webpack://bg2e/./src/js/base/Effect.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://bg2e/./src/js/base/Loader.js","webpack://bg2e/./src/js/math/constants.js","webpack://bg2e/./src/js/math/Vector.js","webpack://bg2e/./src/js/math/Matrix3.js","webpack://bg2e/./src/js/math/functions.js","webpack://bg2e/./src/js/math/Matrix4.js","webpack://bg2e/./src/js/base/PolyList.js","webpack://bg2e/./src/js/base/ShaderLibrary.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://bg2e/./src/js/base/ShaderSource.js","webpack://bg2e/./src/js/base/TextureCache.js","webpack://bg2e/./src/js/base/TextureLoaderPlugin.js","webpack://bg2e/./src/js/base/Texture.js","webpack://bg2e/./src/js/base/TextureEffect.js","webpack://bg2e/./src/js/base/MaterialFlag.js","webpack://bg2e/./src/js/base/MaterialModifier.js","webpack://bg2e/./src/js/base/Material.js","webpack://bg2e/./src/js/base/Bg2matLoaderPlugin.js","webpack://bg2e/./src/js/base/VideoTextureLoaderPlugin.js","webpack://bg2e/./src/js/base/imageTools.js","webpack://bg2e/./src/js/base/index.js","webpack://bg2e/./src/js/math/Bounds.js","webpack://bg2e/./src/js/math/Quaternion.js","webpack://bg2e/./src/index.js","webpack://bg2e/./src/js/math/index.js","webpack://bg2e/./src/js/utils/Electron.js","webpack://bg2e/./node_modules/regenerator-runtime/runtime.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://bg2e/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://bg2e/webpack/bootstrap","webpack://bg2e/webpack/runtime/compat get default export","webpack://bg2e/webpack/runtime/define property getters","webpack://bg2e/webpack/runtime/ensure chunk","webpack://bg2e/webpack/runtime/get javascript chunk filename","webpack://bg2e/webpack/runtime/global","webpack://bg2e/webpack/runtime/harmony module decorator","webpack://bg2e/webpack/runtime/hasOwnProperty shorthand","webpack://bg2e/webpack/runtime/make namespace object","webpack://bg2e/webpack/runtime/publicPath","webpack://bg2e/webpack/runtime/jsonp chunk loading","webpack://bg2e/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bg2e\"] = factory();\n\telse\n\t\troot[\"bg2e\"] = factory();\n})(self, function() {\nreturn ","var inProgress = {};\nvar dataWebpackPrefix = \"bg2e:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","module.exports = require(\"regenerator-runtime\");\n","\nexport const setupRequestAnimFrame = () => {\n    window.requestAnimFrame = (function() {\n        return window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame ||\n            function(callback) { window.setTimeout(callback,1000/60); };\n    })();    \n}\n\nexport const initWebGLContext = (canvas) => {\n    let context = {\n        gl:null,\n        supported:false,\n        experimental:false\n    }\n    try {\n        context.gl = canvas.getContext(\"webgl\",{ preserveDrawingBuffer:true });\n        context.supported = context.gl!=null;\n    }\n    catch (e) {\n        context.supported = false;\n    }\n    \n    if (!context.supported) {\n        try {\n            context.gl = canvas.getContext(\"experimental-webgl\", { preserveDrawingBuffer:true });\n            context.supported = context.gl!=null;\n            context.experimental = true;\n        }\n        catch(e) {\n        }\n    }\n    \n    if (context) {\n        context.gl.uuid = Symbol(context.gl);\n    }\n    return context;\n}\n\n\n","\n\nexport default class UserAgent {\n    constructor(userAgentString) {\n        this.system = {};\n        this.browser = {};\n        \n        if (!userAgentString) {\n            userAgentString = navigator.userAgent;\n        }\n        this.parseOperatingSystem(userAgentString);\n        this.parseBrowser(userAgentString);\n    }\n\n    parseOperatingSystem(userAgentString) {\n        this.system.OSX = /Macintosh/.test(userAgentString);\n        this.system.Windows = /Windows/.test(userAgentString);\n        this.system.iPhone = /iPhone/.test(userAgentString);\n        this.system.iPodTouch = /iPod/.test(userAgentString);\n        this.system.iPad = /iPad/.test(userAgentString);\n        this.system.iOS = this.system.iPhone || this.system.iPad || this.system.iPodTouch;\n        this.system.Android = /Android/.test(userAgentString);\n        this.system.Linux = (this.system.Android) ? false:/Linux/.test(userAgentString);\n\n        if (this.system.OSX) {\n            this.system.OSName = \"OS X\";\n            this.parseOSXVersion(userAgentString);\n        }\n        else if (this.system.Windows) {\n            this.system.OSName = \"Windows\";\n            this.parseWindowsVersion(userAgentString);\n        }\n        else if (this.system.Linux) {\n            this.system.OSName = \"Linux\";\n            this.parseLinuxVersion(userAgentString);\n        }\n        else if (this.system.iOS) {\n            this.system.OSName = \"iOS\";\n            this.parseIOSVersion(userAgentString);\n        }\n        else if (this.system.Android) {\n            this.system.OSName = \"Android\";\n            this.parseAndroidVersion(userAgentString);\n        }\n    }\n\n    parseBrowser(userAgentString) {\n        // Safari: Version/X.X.X Safari/XXX\n        // Chrome: Chrome/XX.X.XX.XX Safari/XXX\n        // Opera: Opera/X.XX\n        // Firefox: Gecko/XXXXXX Firefox/XX.XX.XX\n        // Explorer: MSIE X.X\n        this.browser.Version = {};\n        this.browser.Safari = /Version\\/([\\d\\.]+) Safari\\//.test(userAgentString);\n        if (this.browser.Safari) {\n            this.browser.Name = \"Safari\";\n            this.browser.Vendor = \"Apple\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Chrome = /Chrome\\/([\\d\\.]+) Safari\\//.test(userAgentString);\n        if (this.browser.Chrome) {\n            this.browser.Name = \"Chrome\";\n            this.browser.Vendor = \"Google\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Opera = /Opera\\/[\\d\\.]+/.test(userAgentString);\n        if (this.browser.Opera) {\n            this.browser.Name = \"Opera\";\n            this.browser.Vendor = \"Opera Software\";\n            var versionString = /Version\\/([\\d\\.]+)/.test(userAgentString);\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Firefox = /Gecko\\/[\\d\\.]+ Firefox\\/([\\d\\.]+)/.test(userAgentString);\n        if (this.browser.Firefox) {\n            this.browser.Name = \"Firefox\";\n            this.browser.Vendor = \"Mozilla Foundation\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        this.browser.Edge = /Edge\\/(.*)/.test(userAgentString);\n        if (this.browser.Edge) {\n            var result = /Edge\\/(.*)/.exec(userAgentString);\n            this.browser.Name = \"Edge\";\n            this.browser.Chrome = false;\n            this.browser.Vendor = \"Microsoft\";\n            this.browser.Version.versionString = result[1];\n        } \n\n        this.browser.Explorer = /MSIE ([\\d\\.]+)/.test(userAgentString);\n        if (!this.browser.Explorer) {\n            var re = /\\Mozilla\\/5.0 \\(([^)]+)\\) like Gecko/\n            var matches = re.exec(userAgentString);\n            if (matches) {\n                re = /rv:(.*)/\n                var version = re.exec(matches[1]);\n                this.browser.Explorer = true;\n                this.browser.Name = \"Internet Explorer\";\n                this.browser.Vendor = \"Microsoft\";\n                if (version) {\n                    this.browser.Version.versionString = version[1];\n                }\n                else {\n                    this.browser.Version.versionString = \"unknown\";\n                }\n            }\n        }\n        else {\n            this.browser.Name = \"Internet Explorer\";\n            this.browser.Vendor = \"Microsoft\";\n            this.browser.Version.versionString = RegExp.$1;\n        }\n\n        if (this.system.iOS) {\n            this.browser.IsMobileVersion = true;\n            this.browser.MobileSafari = /Version\\/([\\d\\.]+) Mobile/.test(userAgentString);\n            if (this.browser.MobileSafari) {\n                this.browser.Name = \"Mobile Safari\";\n                this.browser.Vendor = \"Apple\";\n                this.browser.Version.versionString = RegExp.$1;\n            }\n            this.browser.Android = false;\n        }\n        else if (this.system.Android) {\n            this.browser.IsMobileVersion = true;\n            this.browser.Android = /Version\\/([\\d\\.]+) Mobile/.test(userAgentString);\n            if (this.browser.MobileSafari) {\n                this.browser.Name = \"Android Browser\";\n                this.browser.Vendor = \"Google\";\n                this.browser.Version.versionString = RegExp.$1;\n            }\n            else {\n                this.browser.Chrome = /Chrome\\/([\\d\\.]+)/.test(userAgentString);\n                this.browser.Name = \"Chrome\";\n                this.browser.Vendor = \"Google\";\n                this.browser.Version.versionString = RegExp.$1;\n            }\n\n            this.browser.Safari = false;\n        }\n        else {\n            this.browser.IsMobileVersion = false;\n        }\n\n        this.parseBrowserVersion(userAgentString);\n    }\n\n    parseBrowserVersion(userAgentString) {\n        if (/([\\d]+)\\.([\\d]+)\\.*([\\d]*)/.test(this.browser.Version.versionString)) {\n            this.browser.Version.major = Number(RegExp.$1);\n            this.browser.Version.minor = Number(RegExp.$2);\n            this.browser.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n        }\n    }\n\n    parseOSXVersion(userAgentString) {\n        var versionString = (/Mac OS X (\\d+_\\d+_*\\d*)/.test(userAgentString)) ? RegExp.$1:'';\n        this.system.Version = {};\n        // Safari/Chrome\n        if (versionString!='') {\n            if (/(\\d+)_(\\d+)_*(\\d*)/.test(versionString)) {\n                this.system.Version.major = Number(RegExp.$1);\n                this.system.Version.minor = Number(RegExp.$2);\n                this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            }\n        }\n        // Firefox/Opera\n        else {\n            versionString = (/Mac OS X (\\d+\\.\\d+\\.*\\d*)/.test(userAgentString)) ? RegExp.$1:'Unknown';\n            if (/(\\d+)\\.(\\d+)\\.*(\\d*)/.test(versionString)) {\n                this.system.Version.major = Number(RegExp.$1);\n                this.system.Version.minor = Number(RegExp.$2);\n                this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            }\n        }\n        if (!this.system.Version.major) {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.revision = 0;\n        }\n        this.system.Version.stringValue = this.system.Version.major + '.' + this.system.Version.minor + '.' + this.system.Version.revision;\n        switch (this.system.Version.minor) {\n            case 0:\n                this.system.Version.name = \"Cheetah\";\n                break;\n            case 1:\n                this.system.Version.name = \"Puma\";\n                break;\n            case 2:\n                this.system.Version.name = \"Jaguar\";\n                break;\n            case 3:\n                this.system.Version.name = \"Panther\";\n                break;\n            case 4:\n                this.system.Version.name = \"Tiger\";\n                break;\n            case 5:\n                this.system.Version.name = \"Leopard\";\n                break;\n            case 6:\n                this.system.Version.name = \"Snow Leopard\";\n                break;\n            case 7:\n                this.system.Version.name = \"Lion\";\n                break;\n            case 8:\n                this.system.Version.name = \"Mountain Lion\";\n                break;\n        }\n    }\n\n    parseWindowsVersion(userAgentString) {\n        this.system.Version = {};\n        if (/NT (\\d+)\\.(\\d*)/.test(userAgentString)) {\n            this.system.Version.major = Number(RegExp.$1);\n            this.system.Version.minor = Number(RegExp.$2);\n            this.system.Version.revision = 0;\t// Solo por compatibilidad\n            this.system.Version.stringValue = \"NT \" + this.system.Version.major + \".\" + this.system.Version.minor;\n            var major = this.system.Version.major;\n            var minor = this.system.Version.minor;\n            var name = 'undefined';\n            if (major==5) {\n                if (minor==0) this.system.Version.name = '2000';\n                else this.system.Version.name = 'XP';\n            }\n            else if (major==6) {\n                if (minor==0) this.system.Version.name = 'Vista';\n                else if (minor==1) this.system.Version.name = '7';\n                else if (minor==2) this.system.Version.name = '8';\n            }\n        }\n        else {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.name = \"Unknown\";\n            this.system.Version.stringValue = \"Unknown\";\n        }\n    }\n\n    parseLinuxVersion(userAgentString) {\n        this.system.Version = {};\n        this.system.Version.major = 0;\n        this.system.Version.minor = 0;\n        this.system.Version.revision = 0;\n        this.system.Version.name = \"\";\n        this.system.Version.stringValue = \"Unknown distribution\";\n    }\n\n    parseIOSVersion(userAgentString) {\n        this.system.Version = {};\n        if (/iPhone OS (\\d+)_(\\d+)_*(\\d*)/i.test(userAgentString)) {\n            this.system.Version.major = Number(RegExp.$1);\n            this.system.Version.minor = Number(RegExp.$2);\n            this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            this.system.Version.stringValue = this.system.Version.major + \".\" + this.system.Version.minor + '.' + this.system.Version.revision;\n            this.system.Version.name = \"iOS\";\n        }\n        else {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.name = \"Unknown\";\n            this.system.Version.stringValue = \"Unknown\";\n        }\n    }\n\n    parseAndroidVersion(userAgentString) {\n        this.system.Version = {};\n        if (/Android (\\d+)\\.(\\d+)\\.*(\\d*)/.test(userAgentString)) {\n            this.system.Version.major = Number(RegExp.$1);\n            this.system.Version.minor = Number(RegExp.$2);\n            this.system.Version.revision = (RegExp.$3) ? Number(RegExp.$3):0;\n            this.system.Version.stringValue = this.system.Version.major + \".\" + this.system.Version.minor + '.' + this.system.Version.revision;\n        }\n        else {\n            this.system.Version.major = 0;\n            this.system.Version.minor = 0;\n            this.system.Version.revision = 0;\n        }\n        if (/Build\\/([a-zA-Z]+)/.test(userAgentString)) {\n            this.system.Version.name = RegExp.$1;\n        }\n        else {\n            this.system.Version.name = \"Unknown version\";\n        }\n        this.system.Version.stringValue = this.system.Version.major + \".\" + this.system.Version.minor + '.' + this.system.Version.revision;\n    }\n\n    getInfoString() {\n        return navigator.userAgent;\n    }\n}\n","\nexport default class Path {\n    get sep() { return \"/\"; }\n\n    join(a,b) {\n        if (a.lastIndexOf(this.sep)!=a.length-1) {\n            return a + this.sep + b;\n        }\n        else {\n            return a + b;\n        }\n    }\n\n    extension(path) {\n        return path.split(\".\").pop();\n    }\n\n    fileName(path) {\n        return path.split(this.sep).pop();\n    }\n\n    removeFileName(path) {\n        let result = path.split(this.sep);\n        result.pop();\n        return result.join(this.sep);\n    }\n}\n","window.s_bg_utils_preventImageDump = window.s_bg_utils_preventImageDump || [];\nwindow.s_bg_utils_preventVideoDump = window.s_bg_utils_preventVideoDump || [];\n\nexport const beginImageLoad = (img) => {\n    window.s_bg_utils_preventImageDump.push(img);\n}\n\nexport const endImageLoad = (img) => {\n    const index = window.s_bg_utils_preventImageDump.indexOf(img);\n    if (index !== -1) {\n        window.s_bg_utils_preventImageDump.splice(index, 1);\n    }\n}\n\nexport const beginVideoLoad = (video) => {\n    window.s_bg_utils_preventVideoDump.push(video);\n}\n\nexport const endVideoLoad = (video) => {\n    const index = window.s_bg_utils_preventVideoDump.indexOf(video);\n    if (index !== -1) {\n        window.s_bg_utils_preventVideoDump.splice(index, 1);\n    }\n}\n\nexport default class ResourceProvider {\n    getRequest(url,onSuccess,onFail,onProgress) {}\n    loadImage(url,onSucces,onFail) {}\n    loadVideo(url,onSuccess,onFail) {}\n}\n\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","\nimport ResourceProvider, {\n    beginVideoLoad,\n    endVideoLoad,\n    beginImageLoad,\n    endImageLoad\n} from \"./ResourceProvider\";\n\nwindow.s_bg_utils_videoLoaders = window.s_bg_utils_videoLoaders || {};\nwindow.s_bg_utils_videoLoaders[\"mp4\"] = function(url,onSuccess,onFail) {\n    const video = document.createElement('video');\n    beginVideoLoad(video);\n    video.crossOrigin = \"\";\n    video.autoplay = true;\n    video.setAttribute(\"playsinline\",null);\n    video.addEventListener('canplay',(evt) => {\n        endVideoLoad(evt.target);\n        onSuccess(evt.target);\n    });\n    video.addEventListener(\"error\",(evt) => {\n        onFail(new Error(`Error loading video: ${url}`));\n    });\n    video.addEventListener(\"abort\",(evt) => {\n        onFail(new Error(`Error loading video: ${url}`));\n    });\n    video.src = url;\n}\nwindow.s_bg_utils_videoLoaders[\"m4v\"] = window.s_bg_utils_videoLoaders[\"mp4\"];\n\nexport default class HTTPResourceProvider extends ResourceProvider {\n    static AddVideoLoader(type,callback) {\n        window.s_bg_utils_videoLoaders[type] = callback;\n    }\n\n    static GetVideoLoaderForType(type) {\n        return window.s_bg_utils_videoLoaders[type];\n    }\n\n    static GetCompatibleVideoFormats() {\n        return Object.keys(window.s_bg_utils_videoLoaders);\n    }\n\n    static IsVideoCompatible(videoUrl) {\n        let ext = Resource.GetExtension(videoUrl);\n        return bg.utils.HTTPResourceProvider.GetCompatibleVideoFormats().indexOf(ext)!=-1;\n    }\n\n    getRequest(url,onSuccess,onFail,onProgress) {\n        var req = new XMLHttpRequest();\n        if (!onProgress) {\n            onProgress = function(progress) {\n                console.log(`Loading ${ progress.file }: ${ progress.loaded / progress.total * 100 } %`);\n            }\n        }\n        req.open(\"GET\",url,true);\n        req.addEventListener(\"load\", function() {\n            if (req.status===200) {\n                onSuccess(req);\n            }\n            else {\n                onFail(new Error(`Error receiving data: ${req.status}, url: ${url}`));\n            }\n        }, false);\n        req.addEventListener(\"error\", function() {\n            onFail(new Error(`Cannot make AJAX request. Url: ${url}`));\n        }, false);\n        req.addEventListener(\"progress\", function(evt) {\n            onProgress({ file:url, loaded:evt.loaded, total:evt.total });\n        }, false);\n        return req;\n    }\n\n    loadImage(url,onSuccess,onFail) {\n        var img = new Image();\n        beginImageLoad(img);\n        img.crossOrigin = \"\";\n        img.addEventListener(\"load\",function(event) {\n            endImageLoad(event.target);\n            onSuccess(event.target);\n        });\n        img.addEventListener(\"error\",function(event) {\n            onFail(new Error(`Error loading image: ${url}`));\n        });\n        img.addEventListener(\"abort\",function(event) {\n            onFail(new Error(`Image load aborted: ${url}`));\n        });\n        img.src = url + '?' + bg.utils.generateUUID();\n    }\n\n    loadVideo(url,onSuccess,onFail) {\n        let ext = Resource.GetExtension(url);\n        let loader = bg.utils.HTTPResourceProvider.GetVideoLoaderForType(ext);\n        if (loader) {\n            loader.apply(this,[url,onSuccess,onFail]);\n        }\n        else {\n            onFail(new Error(`Could not find video loader for resource: ${ url }`));\n        }\n    }\n}","\nimport HTTPResourceProvider from \"./HTTPResourceProvider\";\n\nlet g_resourceProvider = new HTTPResourceProvider();\n\nexport const IMG_LOAD_EVENT_NAME = \"bg2e:image-load\";\n\nexport const emitImageLoadEvent = (img) => {\n    const event = new CustomEvent(IMG_LOAD_EVENT_NAME, { image: img });\n    document.dispatchEvent(event);\n}\n\nexport const bindImageLoadEvent = (callback) => {\n    return document.addEventListener(IMG_LOAD_EVENT_NAME, callback);\n}\n\nexport const requireGlobal = (src) => {\n    const s = document.createElement('script');\n    s.src = src;\n    s.type = \"text/javascript\";\n    s.async = false;\n    document.getElementsByTagName('head')[0].appendChild(s);\n}\n\nexport default class Resource {\n    static SetResourceProvider(provider) {\n        g_resourceProvider = provider;\n    }\n\n    static GetResourceProvider() {\n        return g_resourceProvider;\n    }\n\n    static GetExtension(url) {\n        let match = /\\.([a-z0-9-_]*)(\\?.*)?(\\#.*)?$/i.exec(url);\n        return (match && match[1].toLowerCase()) || \"\";\n    }\n    \n    static JoinUrl(url,path) {\n        if (url.length==0) return path;\n        if (path.length==0) return url;\n        return /\\/$/.test(url) ? url + path : url + \"/\" + path;\n    }\n    \n    static IsFormat(url,formats) {\n        return formats.find(function(fmt) {\n                return fmt==this;\n            },Resource.GetExtension(url))!=null;\n    }\n    \n    static IsImage(url) {\n        return Resource.IsFormat(url,[\"jpg\",\"jpeg\",\"gif\",\"png\"]);\n    }\n    \n    static IsBinary(url,binaryFormats = [\"vwglb\",\"bg2\"]) {\n        return Resource.IsFormat(url,binaryFormats);\n    }\n\n    static IsVideo(url,videoFormats = [\"mp4\",\"m4v\",\"ogg\",\"ogv\",\"m3u8\",\"webm\"]) {\n        return Resource.IsFormat(url,videoFormats);\n    }\n    \n    static LoadMultiple(urlArray,onProgress) {\n        let progressFiles = {}\n\n        let progressFunc = function(progress) {\n            progressFiles[progress.file] = progress;\n            let total = 0;\n            let loaded = 0;\n            for (let key in progressFiles) {\n                let file = progressFiles[key];\n                total += file.total;\n                loaded += file.loaded;\n            }\n            if (onProgress) {\n                onProgress({ fileList:urlArray, total:total, loaded:loaded });\n            }\n            else {\n                console.log(`Loading ${ Object.keys(progressFiles).length } files: ${ loaded / total * 100}% completed`);\n            }\n        }\n\n        let resources = [];\n        urlArray.forEach(function(url) {\n            resources.push(Resource.Load(url,progressFunc));\n        });\n\n        let resolvingPromises = resources.map(function(promise) {\n            return new Promise(function(resolve) {\n                let payload = new Array(2);\n                promise.then(function(result) {\n                    payload[0] = result;\n                })\n                .catch(function(error) {\n                    payload[1] = error;\n                })\n                .then(function() {\n                    resolve(payload);\n                });\n            });\n        });\n\n        let errors = [];\n        let results = [];\n\n        return Promise.all(resolvingPromises)\n            .then(function(loadedData) {\n                let result = {};\n                urlArray.forEach(function(url,index) {\n                    let pl = loadedData[index];\n                    result[url] = pl[1] ? null : pl[0];\n                });\n                return result;\n            });\n    }\n    \n    static Load(url,onProgress) {\n        let loader = null;\n        switch (true) {\n            case url.constructor===Array:\n                loader = Resource.LoadMultiple;\n                break;\n            case Resource.IsImage(url):\n                loader = Resource.LoadImage;\n                break;\n            case Resource.IsBinary(url):\n                loader = Resource.LoadBinary;\n                break;\n            case Resource.IsVideo(url):\n                loader = Resource.LoadVideo;\n                break;\n            case Resource.GetExtension(url)=='json':\n                loader = Resource.LoadJson;\n                break;\n            default:\n                loader = Resource.LoadText;\n        }\n        return loader(url,onProgress);\n    }\n    \n    static LoadText(url,onProgress) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.getRequest(url,\n                function(req) {\n                    resolve(req.responseText);\n                },\n                function(error) {\n                    reject(error);\n                },onProgress).send();\n        });\n    }\n\n    static LoadVideo(url,onProgress) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.loadVideo(\n                url,\n                (target) => {\n                    resolve(target);\n                    emitImageLoadEvent(target);\n                },\n                (err) => {\n                    reject(err);\n                }\n            );\n        });\n    }\n    \n    static LoadBinary(url,onProgress) {\n        return new Promise(function(resolve,reject) {\n            var req = g_resourceProvider.getRequest(url,\n                    function(req) {\n                        resolve(req.response);\n                    },\n                    function(error) {\n                        reject(error);\n                    },onProgress);\n            req.responseType = \"arraybuffer\";\n            req.send();\n        });\n    }\n    \n    static LoadImage(url) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.loadImage(\n                url,\n                (target) => {\n                    resolve(target);\n                    emitImageLoadEvent(target);\n                },\n                (err) => {\n                    reject(err);\n                }\n            );\n        });\n    }\n    \n    static LoadJson(url) {\n        return new Promise(function(resolve,reject) {\n            g_resourceProvider.getRequest(url,\n                function(req) {\n                    try {\n                        resolve(JSON.parse(req.responseText));\n                    }\n                    catch(e) {\n                        reject(new Error(\"Error parsing JSON data\"));\n                    }\n                },\n                function(error) {\n                    reject(error);\n                }).send();\n        });\n    }\n}","\nwindow.s_bg_utils_Engine = null;\n\nexport default class Engine {\n    static Set(engine) {\n        window.s_bg_utils_Engine = engine;\n    }\n    \n    static Get() {\n        return window.s_bg_utils_Engine;\n    }\n\n    constructor() {\n        this._shaderLibrary = {\n            inputs: {},\n            functions: {}\n        }\n    }\n    \n    get id() { return this._engineId; }\n    \n    get texture() { return this._texture; }\n    get pipeline() { return this._pipeline; }\n    get polyList() { return this._polyList; }\n    get shader() { return this._shader; }\n    get colorBuffer() { return this._colorBuffer; }\n    get textureBuffer() { return this._textureBuffer; }\n    get shaderSource() { return this._shaderSource; }\n    get cubemapCapture() { return this._cubemapCapture; }\n    get textureMerger() { return this._textureMerger; }\n}\n","\nexport default class LifeCycle {\n    init() {}\n    frame(delta) {}\n\n    displayGizmo(pipeline,matrixState) {}\n    \n    ////// Direct rendering methods: will be deprecated soon\n    willDisplay(pipeline,matrixState) {}\n    display(pipeline,matrixState,forceDraw=false) {}\n    didDisplay(pipeline,matrixState) {}\n    ////// End direct rendering methods\n\n    ////// Render queue methods\n    willUpdate(modelMatrixStack,viewMatrixStack,projectionMatrixStack) {}\n    draw(renderQueue,modelMatrixStack,viewMatrixStack,projectionMatrixStack) {}\n    didUpdate(modelMatrixStack,viewMatrixStack,projectionMatrixStack) {}\n    ////// End render queue methods\n\n    reshape(pipeline,matrixState,width,height) {}\n    keyDown(evt) {}\n    keyUp(evt) {}\n    mouseUp(evt) {}\n    mouseDown(evt) {}\n    mouseMove(evt) {}\n    mouseOut(evt) {}\n    mouseDrag(evt) {}\n    mouseWheel(evt) {}\n    touchStart(evt) {}\n    touchMove(evt) {}\n    touchEnd(evt) {}\n\n    // Utility functions: do not override\n    // 4 frames to ensure that the reflections are fully updated\n    postRedisplay(frames=4) {\n        bg.app.MainLoop.singleton.postRedisplay(frames);\n    }\n\n    postReshape() {\n        bg.app.MainLoop.singleton.postReshape();\n    }\n}\n","!function(r){function n(r){for(var n=\"\",t=\"\",o=0,e=0,a=0,i=r.length;i>a;a++){var f=r.charCodeAt(a);128>f?e++:(t=2048>f?String.fromCharCode(f>>6|192,63&f|128):String.fromCharCode(f>>12|224,f>>6&63|128,63&f|128),e>o&&(n+=r.slice(o,e)),n+=t,o=e=a+1)}return e>o&&(n+=r.slice(o,i)),n}function t(r){var n,t;if(r+=\"\",s=!1,v=w=r.length,w>63){for(o(r.substring(0,64)),i(A),s=!0,n=128;w>=n;n+=64)o(r.substring(n-64,n)),f(A);r=r.substring(n-64),w=r.length}for(d[0]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,n=0;w>n;n++)t=3&n,0===t?d[n>>2]=r.charCodeAt(n):d[n>>2]|=r.charCodeAt(n)<<C[t];return d[n>>2]|=h[3&n],n>55?(s?f(d):(i(d),s=!0),f([0,0,0,0,0,0,0,0,0,0,0,0,0,0,v<<3,0])):(d[14]=v<<3,void(s?f(d):i(d)))}function o(r){for(var n=16;n--;){var t=n<<2;A[n]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24)}}function e(r,o,e){t(o?r:n(r));var a=g[0];return u[1]=l[15&a],u[0]=l[15&(a>>=4)],u[3]=l[15&(a>>=4)],u[2]=l[15&(a>>=4)],u[5]=l[15&(a>>=4)],u[4]=l[15&(a>>=4)],u[7]=l[15&(a>>=4)],u[6]=l[15&(a>>=4)],a=g[1],u[9]=l[15&a],u[8]=l[15&(a>>=4)],u[11]=l[15&(a>>=4)],u[10]=l[15&(a>>=4)],u[13]=l[15&(a>>=4)],u[12]=l[15&(a>>=4)],u[15]=l[15&(a>>=4)],u[14]=l[15&(a>>=4)],a=g[2],u[17]=l[15&a],u[16]=l[15&(a>>=4)],u[19]=l[15&(a>>=4)],u[18]=l[15&(a>>=4)],u[21]=l[15&(a>>=4)],u[20]=l[15&(a>>=4)],u[23]=l[15&(a>>=4)],u[22]=l[15&(a>>=4)],a=g[3],u[25]=l[15&a],u[24]=l[15&(a>>=4)],u[27]=l[15&(a>>=4)],u[26]=l[15&(a>>=4)],u[29]=l[15&(a>>=4)],u[28]=l[15&(a>>=4)],u[31]=l[15&(a>>=4)],u[30]=l[15&(a>>=4)],e?u:u.join(\"\")}function a(r,n,t,o,e,a,i){return n+=r+o+i,(n<<e|n>>>a)+t<<0}function i(r){c(0,0,0,0,r),g[0]=y[0]+1732584193<<0,g[1]=y[1]-271733879<<0,g[2]=y[2]-1732584194<<0,g[3]=y[3]+271733878<<0}function f(r){c(g[0],g[1],g[2],g[3],r),g[0]=y[0]+g[0]<<0,g[1]=y[1]+g[1]<<0,g[2]=y[2]+g[2]<<0,g[3]=y[3]+g[3]<<0}function c(r,n,t,o,e){var i,f;s?(r=a((t^o)&n^o,r,n,e[0],7,25,-680876936),o=a((n^t)&r^t,o,r,e[1],12,20,-389564586),t=a((r^n)&o^n,t,o,e[2],17,15,606105819),n=a((o^r)&t^r,n,t,e[3],22,10,-1044525330)):(r=e[0]-680876937,r=(r<<7|r>>>25)-271733879<<0,o=e[1]-117830708+(2004318071&r^-1732584194),o=(o<<12|o>>>20)+r<<0,t=e[2]-1126478375+((-271733879^r)&o^-271733879),t=(t<<17|t>>>15)+o<<0,n=e[3]-1316259209+((o^r)&t^r),n=(n<<22|n>>>10)+t<<0),r=a((t^o)&n^o,r,n,e[4],7,25,-176418897),o=a((n^t)&r^t,o,r,e[5],12,20,1200080426),t=a((r^n)&o^n,t,o,e[6],17,15,-1473231341),n=a((o^r)&t^r,n,t,e[7],22,10,-45705983),r=a((t^o)&n^o,r,n,e[8],7,25,1770035416),o=a((n^t)&r^t,o,r,e[9],12,20,-1958414417),t=a((r^n)&o^n,t,o,e[10],17,15,-42063),n=a((o^r)&t^r,n,t,e[11],22,10,-1990404162),r=a((t^o)&n^o,r,n,e[12],7,25,1804603682),o=a((n^t)&r^t,o,r,e[13],12,20,-40341101),t=a((r^n)&o^n,t,o,e[14],17,15,-1502002290),n=a((o^r)&t^r,n,t,e[15],22,10,1236535329),r=a((n^t)&o^t,r,n,e[1],5,27,-165796510),o=a((r^n)&t^n,o,r,e[6],9,23,-1069501632),t=a((o^r)&n^r,t,o,e[11],14,18,643717713),n=a((t^o)&r^o,n,t,e[0],20,12,-373897302),r=a((n^t)&o^t,r,n,e[5],5,27,-701558691),o=a((r^n)&t^n,o,r,e[10],9,23,38016083),t=a((o^r)&n^r,t,o,e[15],14,18,-660478335),n=a((t^o)&r^o,n,t,e[4],20,12,-405537848),r=a((n^t)&o^t,r,n,e[9],5,27,568446438),o=a((r^n)&t^n,o,r,e[14],9,23,-1019803690),t=a((o^r)&n^r,t,o,e[3],14,18,-187363961),n=a((t^o)&r^o,n,t,e[8],20,12,1163531501),r=a((n^t)&o^t,r,n,e[13],5,27,-1444681467),o=a((r^n)&t^n,o,r,e[2],9,23,-51403784),t=a((o^r)&n^r,t,o,e[7],14,18,1735328473),n=a((t^o)&r^o,n,t,e[12],20,12,-1926607734),i=n^t,r=a(i^o,r,n,e[5],4,28,-378558),o=a(i^r,o,r,e[8],11,21,-2022574463),f=o^r,t=a(f^n,t,o,e[11],16,16,1839030562),n=a(f^t,n,t,e[14],23,9,-35309556),i=n^t,r=a(i^o,r,n,e[1],4,28,-1530992060),o=a(i^r,o,r,e[4],11,21,1272893353),f=o^r,t=a(f^n,t,o,e[7],16,16,-155497632),n=a(f^t,n,t,e[10],23,9,-1094730640),i=n^t,r=a(i^o,r,n,e[13],4,28,681279174),o=a(i^r,o,r,e[0],11,21,-358537222),f=o^r,t=a(f^n,t,o,e[3],16,16,-722521979),n=a(f^t,n,t,e[6],23,9,76029189),i=n^t,r=a(i^o,r,n,e[9],4,28,-640364487),o=a(i^r,o,r,e[12],11,21,-421815835),f=o^r,t=a(f^n,t,o,e[15],16,16,530742520),n=a(f^t,n,t,e[2],23,9,-995338651),r=a(t^(n|~o),r,n,e[0],6,26,-198630844),o=a(n^(r|~t),o,r,e[7],10,22,1126891415),t=a(r^(o|~n),t,o,e[14],15,17,-1416354905),n=a(o^(t|~r),n,t,e[5],21,11,-57434055),r=a(t^(n|~o),r,n,e[12],6,26,1700485571),o=a(n^(r|~t),o,r,e[3],10,22,-1894986606),t=a(r^(o|~n),t,o,e[10],15,17,-1051523),n=a(o^(t|~r),n,t,e[1],21,11,-2054922799),r=a(t^(n|~o),r,n,e[8],6,26,1873313359),o=a(n^(r|~t),o,r,e[15],10,22,-30611744),t=a(r^(o|~n),t,o,e[6],15,17,-1560198380),n=a(o^(t|~r),n,t,e[13],21,11,1309151649),r=a(t^(n|~o),r,n,e[4],6,26,-145523070),o=a(n^(r|~t),o,r,e[11],10,22,-1120210379),t=a(r^(o|~n),t,o,e[2],15,17,718787259),n=a(o^(t|~r),n,t,e[9],21,11,-343485551),y[0]=r,y[1]=n,y[2]=t,y[3]=o}var u=[],d=[],A=[],h=[],l=\"0123456789abcdef\".split(\"\"),C=[],g=[],s=!1,v=0,w=0,y=[];if(r.Int32Array)d=new Int32Array(16),A=new Int32Array(16),h=new Int32Array(4),C=new Int32Array(4),g=new Int32Array(4),y=new Int32Array(4);else{var I;for(I=0;16>I;I++)d[I]=A[I]=0;for(I=0;4>I;I++)h[I]=C[I]=g[I]=y[I]=0}h[0]=128,h[1]=32768,h[2]=8388608,h[3]=-2147483648,C[0]=0,C[1]=8,C[2]=16,C[3]=24,r.md5=r.md5||e}(\"undefined\"==typeof global?window:global);\n\nexport default md5;\n\nexport const generateUUID = () => {\n    let d = new Date().getTime();\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function'){\n        d += performance.now(); //use high-precision timer if available\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\n","import version from \"./version\";\nimport { setupRequestAnimFrame, initWebGLContext } from \"./WebGLUtils\";\nimport { isBigEndian, isLittleEndian } from \"./endianness\";\nimport UserAgent from \"./UserAgent\";\nimport Path from \"./Path\";\nimport ResourceProvider, {\n    beginImageLoad,\n    endImageLoad,\n    beginVideoLoad,\n    endVideoLoad\n} from \"./ResourceProvider\";\nimport HTTPResourceProvider from \"./HTTPResourceProvider\";\nimport Resource, {\n    IMG_LOAD_EVENT_NAME,\n    emitImageLoadEvent,\n    bindImageLoadEvent,\n    requireGlobal\n } from \"./Resource\";\nimport Engine from \"./Engine\";\nimport LifeCycle from \"./LifeCycle\";\nimport md5, {\n    generateUUID \n} from \"./md5\";\nimport Electron from \"./Electron\";\n\nconst utils = {\n    version,\n    setupRequestAnimFrame,\n    initWebGLContext,\n    isBigEndian,\n    isLittleEndian,\n    UserAgent,\n    userAgent: new UserAgent(),\n    Path,\n    path: new Path(),\n    ResourceProvider,\n    beginImageLoad,\n    endImageLoad,\n    beginVideoLoad,\n    endVideoLoad,\n    HTTPResourceProvider,\n    Resource,\n    IMG_LOAD_EVENT_NAME,\n    emitImageLoadEvent,\n    bindImageLoadEvent,\n    requireGlobal,\n    Engine,\n    LifeCycle,\n    md5,\n    generateUUID,\n    electron: new Electron()\n}\n\nexport default utils;\n","\nexport const isBigEndian = () => {\n    let arr32 = new Uint32Array(1);\n    let arr8 = new Uint8Array(arr32.buffer);\n    arr32[0] = 255;\n    return arr32[3]==255;\n};\n\nexport const isLittleEndian = () => {\n    let arr32 = new Uint32Array(1);\n    let arr8 = new Uint8Array(arr32.buffer);\n    arr32[0] = 255;\n    return arr32[0]==255;\n};\n\n","\nimport { initWebGLContext } from '../utils/WebGLUtils';\n\nexport default class Canvas {\n    constructor(domElem) {\t\t\n        let initContext = () => {\n            this._context = initWebGLContext(domElem);\n            return this._context.supported;\n        }\n        \n                    \n        // Attributes\n        this._domElem = domElem;\n        this._domElem.style.MozUserSelect = 'none';\n        this._domElem.style.WebkitUserSelect = 'none';\n        this._domElem.setAttribute(\"onselectstart\",\"return false\");\n\n        this._multisample = 1.0;\n        \n        // Initialization\n        if (!initContext()) {\n            throw new Error(\"Sorry, your browser does not support WebGL.\");\n        }\n    }\n\n    get multisample() {\n        return this._multisample;\n    }\n\n    set multisample(ms) {\n        this._multisample = ms;\n    }\n    \n    get context() {\n        return this._context;\n    }\n    \n    get domElement() {\n        return this._domElem;\n    }\n    \n    get width() {\n        return this._domElem.clientWidth;\n    }\n    \n    get height() {\n        return this._domElem.clientHeight;\n    }\n\n    screenshot(format, width, height) {\n        let canvasStyle = \"\";\n        let prevSize = {}\n        if (width) {\n            height = height ? height:width;\n            canvasStyle = this.domElement.style.cssText;\n            prevSize.width = this.domElement.width;\n            prevSize.height = this.domElement.height;\n\n            this.domElement.style.cssText = \"top:auto;left:auto;bottom:auto;right:auto;width:\" + width + \"px;height:\" + height + \"px;\";\n            this.domElement.width = width;\n            this.domElement.height = height;\n//           bg.app.MainLoop.singleton.windowController.reshape(width,height);\n//           bg.app.MainLoop.singleton.windowController.postRedisplay();\n//           bg.app.MainLoop.singleton.windowController.display();\n        }\n        var data = this.domElement.toDataURL(format);\n        if (width) {\n            this.domElement.style.cssText = canvasStyle;\n            this.domElement.width = prevSize.width;\n            this.domElement.height = prevSize.height;\n//            bg.app.MainLoop.singleton.windowController.reshape(prevSize.width,prevSize.height);\n//            bg.app.MainLoop.singleton.windowController.postRedisplay();\n//            bg.app.MainLoop.singleton.windowController.display();\n        }\n        return data;\n    }\n}\n","export default class ContextObject {\n    constructor(context) {\n        this._context = context;\n    }\n    \n    get context() { return this._context; }\n    set context(c) { this._context = c; }\n}\n","\nexport default class EventBase {\n    constructor() {\n        this._executeDefault = false;\n    }\n\n    get executeDefault() { return this._executeDefault; }\n    set executeDefault(d) { this._executeDefault = d; }\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import EventBase from \"./EventBase\";\n\nexport const SpecialKey = {\n    BACKSPACE: \"Backspace\",\n    TAB: \"Tab\",\n    ENTER: \"Enter\",\n    SHIFT: \"Shift\",\n    SHIFT_LEFT: \"ShiftLeft\",\n    SHIFT_RIGHT: \"ShiftRight\",\n    CTRL: \"Control\",\n    CTRL_LEFT: \"ControlLeft\",\n    CTRL_LEFT: \"ControlRight\",\n    ALT: \"Alt\",\n    ALT_LEFT: \"AltLeft\",\n    ALT_RIGHT: \"AltRight\",\n    PAUSE: \"Pause\",\n    CAPS_LOCK: \"CapsLock\",\n    ESCAPE: \"Escape\",\n    PAGE_UP: \"PageUp\",\n    PAGEDOWN: \"PageDown\",\n    END: \"End\",\n    HOME: \"Home\",\n    LEFT_ARROW: \"ArrowLeft\",\n    UP_ARROW: \"ArrowUp\",\n    RIGHT_ARROW: \"ArrowRight\",\n    DOWN_ARROW: \"ArrowDown\",\n    INSERT: \"Insert\",\n    DELETE: \"Delete\"\n};\n\nexport default class KeyboardEvent extends EventBase {\n    static IsSpecialKey(event) {\n        return SpecialKey[event.code]!=null;\n    }\n    \n    constructor(key,event) {\n        super();\n        this.key = key;\n        this.event = event;\n    }\n    \n    isSpecialKey() {\n        return KeyboardEvent.IsSpecialKey(this.event);\n    }\n}\n","import EventBase from \"./EventBase\";\n\nexport const MouseButton = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2,\n    NONE: -1\n};\n\nexport default class MouseEvent extends EventBase {\n\t\t\n    constructor(button = MouseButton.NONE, x=-1, y=-1, delta=0,event=null) {\n        super();\n\n        this.button = button;\n        this.x = x;\n        this.y = y;\n        this.delta = delta;\n        this.event = event;\n    }\n}\n","import EventBase from \"./EventBase\";\n\nexport default class TouchEvent extends EventBase  {\n    constructor(touches,event) {\n        super();\n        this.touches = touches;\n        this.event = event;\n    }\n}\n","\nwindow.s_bg_app_mouseStatus = {\n    leftButton:false,\n    middleButton:false,\n    rightButton:false,\n    pos: {\n        x:-1,\n        y:-1\n    }\t\n}\nObject.defineProperty(s_bg_app_mouseStatus, \"anyButton\", {\n    get: function() {\n        return this.leftButton || this.middleButton || this.rightButton;\n    }\n});\n\nexport default class Mouse {\n    static LeftButton() { return s_bg_app_mouseStatus.leftButton; }\n    static MiddleButton() { return s_bg_app_mouseStatus.middleButton; }\n    static RightButton() { return s_bg_app_mouseStatus.rightButton; }\n    static Position() { return s_bg_app_mouseStatus.pos; }\n    static AnyButton() { return s_bg_app_mouseStatus.anyButton; }\n\n    static SetLeftButton(s) { s_bg_app_mouseStatus.leftButton = s; return s_bg_app_mouseStatus.leftButton; }\n    static SetMiddleButton(s) { s_bg_app_mouseStatus.middleButton = s; return s_bg_app_mouseStatus.middleButton; }\n    static SetRightButton(s) { s_bg_app_mouseStatus.rightButton = s; return s_bg_app_mouseStatus.rightButton; }\n    static SetPosition(x,y) { s_bg_app_mouseStatus.pos = { x, y }; return s_bg_app_mouseStatus.pos; }\n}\n","import Canvas from \"./Canvas\";\nimport { setupRequestAnimFrame } from \"../utils/WebGLUtils\";\nimport Mouse from \"./Mouse\";\nimport MouseEvent, { MouseButton } from \"./MouseEvent\";\nimport KeyboardEvent from \"./KeyboardEvent\";\nimport TouchEvent from \"./TouchEvent\";\nimport { bindImageLoadEvent } from \"../utils/Resource\";\n\nwindow.s_bg_app_mainLoop = null;\n\nexport const FrameUpdate = {\n    AUTO: 0,\n    MANUAL: 1\n};\n\nlet lastTime = 0;\nfunction animationLoop(totalTime) {\n    totalTime = totalTime || 0;\n    if (!window.requestAnimFrame) {\n        setupRequestAnimFrame();\n    }\n    requestAnimFrame(animationLoop);\n    let elapsed = totalTime - lastTime;\n    lastTime = totalTime;\n    onUpdate(elapsed);\n}\n\nfunction initEvents() {\n    onResize();\n    \n    window.addEventListener(\"resize\", function() { onResize(); });\n    \n    if (s_bg_app_mainLoop.canvas) {\n        let c = s_bg_app_mainLoop.canvas.domElement;\n        c.addEventListener(\"mousedown\", function(evt) {\n            if (!onMouseDown(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mousemove\", function(evt) {\n            if (!onMouseMove(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mouseout\", function(evt) {\n            if (!onMouseOut(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mouseover\", function(evt) {\n            if (!onMouseOver(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"mouseup\", function(evt) {\n            if (!onMouseUp(evt).executeDefault) { \n                evt.preventDefault();\n                return false;\n            }\n        });\n        \n        c.addEventListener(\"touchstart\", function(evt) {\n            if (!onTouchStart(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"touchmove\", function(evt) {\n            if (!onTouchMove(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        c.addEventListener(\"touchend\", function(evt) {\n            if (!onTouchEnd(evt).executeDefault) { \n                evt.preventDefault();\n                return false;\n            }\n        });\n        \n        let mouseWheelEvt = (/Firefox/i.test(navigator.userAgent))? \"DOMMouseScroll\" : \"mousewheel\";\n        c.addEventListener(mouseWheelEvt, function(evt) {\n            if (!onMouseWheel(evt).executeDefault) {\n                evt.preventDefault();\n                return false;\n            }\n        });\n        \n        window.addEventListener(\"keydown\", function(evt) { onKeyDown(evt); });\n        window.addEventListener(\"keyup\", function(evt) { onKeyUp(evt); });\n        \n        c.oncontextmenu = function(e) { return false; };\n    }\n    else {\n        throw new Error(\"Configuration error in MainLoop: no canvas defined\");\n    }\n}\n\nfunction onResize() {\n    if (s_bg_app_mainLoop.canvas && s_bg_app_mainLoop.windowController) {\n        const multisample = s_bg_app_mainLoop.canvas.multisample;\n        s_bg_app_mainLoop.canvas.domElement.width = s_bg_app_mainLoop.canvas.width * multisample;\n        s_bg_app_mainLoop.canvas.domElement.height = s_bg_app_mainLoop.canvas.height * multisample; \n        s_bg_app_mainLoop.windowController.reshape(s_bg_app_mainLoop.canvas.width * multisample, s_bg_app_mainLoop.canvas.height * multisample);\n    }\n}\n\nfunction onUpdate(elapsedTime) {\n    if (s_bg_app_mainLoop.redisplay) {\n        s_bg_app_mainLoop.windowController.frame(elapsedTime);\n        if (s_bg_app_mainLoop.updateMode==FrameUpdate.AUTO) {\n            s_bg_app_mainLoop._redisplayFrames = 1;\n        }\n        else {\n            s_bg_app_mainLoop._redisplayFrames--;\n        }\n        s_bg_app_mainLoop.windowController.display();\n    }\n}\n\nfunction onMouseDown(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.Position();\n    pos.x = (event.clientX - offset.left) * multisample;\n    pos.y = (event.clientY - offset.top) * multisample;\n    switch (event.button) {\n        case MouseButton.LEFT:\n            Mouse.SetLeftButton(true);\n            break;\n        case MouseButton.MIDDLE:\n            Mouse.SetMiddleButton(true);\n            break;\n        case MouseButton.RIGHT:\n            Mouse.SetRightButton(true);\n            break;\n    }\n\n    const bgEvent = new MouseEvent(event.button,pos.x,pos.y,0,event);\n    s_bg_app_mainLoop.windowController.mouseDown(bgEvent);\n    return bgEvent;\n}\n\nfunction onMouseMove(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.SetPosition(\n        (event.clientX - offset.left) * multisample,\n        (event.clientY - offset.top) * multisampl\n    );\n    \n    const evt = new MouseEvent(MouseButton.NONE,\n                                    pos.x,\n                                    pos.y,\n                                    0,\n                                    event);\n    s_bg_app_mainLoop.windowController.mouseMove(evt);\n    if (Mouse.AnyButton()) {\n        s_bg_app_mainLoop.windowController.mouseDrag(evt);\n    }\n    return evt;\n}\n\nfunction onMouseOut() {\n    const pos = Mouse.Position();\n    let bgEvt = new MouseEvent(MouseButton.NONE,pos.x,pos.y,0,{});\n    s_bg_app_mainLoop.windowController.mouseOut(bgEvt);\n    if (Mouse.LeftButton()) {\n        Mouse.SetLeftButton(false);\n        bgEvt = new MouseEvent(MouseButton.LEFT,pos.x,pos.y,0,{});\n        s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    }\n    if (Mouse.MiddleButton()) {\n        Mouse.SetMiddleButton(false);\n        bgEvt = new MouseEvent(MouseButton.MIDDLE,pos.x,pos.y,0,{});\n        s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    }\n    if (Mouse.RightButton()) {\n        Mouse.SetRightButton(false);\n        bgEvt = new MouseEvent(MouseButton.RIGHT,pos.x,pos.y,0,{});\n        s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    }\n    return bgEvt;\n}\n\nfunction onMouseOver(event) {\n    return onMouseMove(event);\n}\n\nfunction onMouseUp(event) {\n    switch (event.button) {\n        case MouseButton.LEFT:\n            Mouse.SetLeftButton(false);\n            break;\n        case MouseButton.MIDDLE:\n            Mouse.SetMiddleButton(false);\n            break;\n        case MouseButton.RIGHT:\n            Mouse.SetRightButton(false);\n            break;\n    }\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.SetPosition(\n        (event.clientX - offset.left) * multisample,\n        (event.clientY - offset.top) * multisample);\n    const bgEvt = new MouseEvent(event.button,pos.x,pos.y,0,event)\n    s_bg_app_mainLoop.windowController.mouseUp(bgEvt);\n    return bgEvt;\n}\n\nfunction onMouseWheel(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const multisample = s_bg_app_mainLoop.canvas.multisample;\n    const pos = Mouse.SetPosition(\n        (event.clientX - offset.left) * multisample,\n        (event.clientY - offset.top) * multisample);\n    const delta = event.wheelDelta ? event.wheelDelta * -1:event.detail * 10;\n    const bgEvt = new MouseEvent(MouseButton.NONE,pos.x,pos.y,delta,event)\n    s_bg_app_mainLoop.windowController.mouseWheel(bgEvt);\n    return bgEvt;\n}\n\nfunction getTouchEvent(event) {\n    const offset = s_bg_app_mainLoop.canvas.domElement.getBoundingClientRect();\n    const touches = [];\n    for (let i=0; i<event.touches.length; ++i) {\n        let touch = event.touches[i];\n        touches.push({\n            identifier: touch.identifier,\n            x: touch.clientX - offset.left,\n            y: touch.clientY - offset.top,\n            force: touch.force,\n            rotationAngle: touch.rotationAngle,\n            radiusX: touch.radiusX,\n            radiusY: touch.radiusY\n        });\n    }\n    return new TouchEvent(touches,event);\n}\n\nfunction onTouchStart(event) {\n    const bgEvt = getTouchEvent(event)\n    s_bg_app_mainLoop.windowController.touchStart(bgEvt);\n    return bgEvt;\n}\n\nfunction onTouchMove(event) {\n    const bgEvt = getTouchEvent(event)\n    s_bg_app_mainLoop.windowController.touchMove(bgEvt);\n    return bgEvt;\n}\n\nfunction onTouchEnd(event) {\n    const bgEvt = getTouchEvent(event)\n    s_bg_app_mainLoop.windowController.touchEnd(bgEvt);\n    return bgEvt;\n}\n\nfunction onKeyDown(event) {\n    const code = KeyboardEvent.IsSpecialKey(event) ? \tevent.keyCode:\n                                                        event.code;\n    s_bg_app_mainLoop.windowController.keyDown(new KeyboardEvent(code,event));\n}\n\nfunction onKeyUp(event) {\n    let code = KeyboardEvent.IsSpecialKey(event) ? \tevent.keyCode:\n                                                    event.code;\n    s_bg_app_mainLoop.windowController.keyUp(new KeyboardEvent(code,event));\n}\n\nexport default class MainLoop {\n    constructor() {\n        this._canvas = null;\n        this._windowController = null;\n        this._updateMode = FrameUpdate.AUTO;\n        this._redisplayFrames = 1;\n        \n        bindImageLoadEvent(() => {\n            this.postRedisplay();\n        });\n    }\n    \n    get canvas() { return this._canvas; }\n    set canvas(c) {\n        this._canvas = new Canvas(c);\n    }\n    get windowController() { return this._windowController; }\n    get updateMode() { return this._updateMode; }\n    set updateMode(m) {\n        this._updateMode = m;\n        if (this._updateMode==FrameUpdate.AUTO) {\n            this._redisplayFrames = 1;\n        }\n    }\n    get redisplay() { return this._redisplayFrames>0; }\n    get mouseButtonStatus() { return s_mouseStatus; }\n    \n    run(windowController) {\n        this._windowController = windowController;\n        this.postRedisplay();\n        this.windowController.init();\n        initEvents();\n        animationLoop();\n    }\n    \n    // 4 frames to ensure that the reflections are fully updated\n    postRedisplay(frames=4) {\n        this._redisplayFrames = frames;\n    }\n    \n    postReshape() {\n        onResize();\n    }\n}\n\nObject.defineProperty(MainLoop, \"singleton\", {\n    get: function() {\n        if (!s_bg_app_mainLoop) {\n            s_bg_app_mainLoop = new MainLoop();\n        }\n        return s_bg_app_mainLoop;\n    }\n});\n","\nimport LifeCycle from \"../utils/LifeCycle\";\nimport MainLoop from \"./MainLoop\";\n\nexport default class WindowController extends LifeCycle {\n    // Functions from LifeCycle:\n    // init()\n    // frame(delta)\n    // display()\n    // reshape(width,height)\n    // keyDown(evt)\n    // keyUp(evt)\n    // mouseUp(evt)\n    // mouseDown(evt)\n    // mouseMove(evt)\n    // mouseOut(evt)\n    // mouseDrag(evt)\n    // mouseWheel(evt)\n    // touchStart(evt)\n    // touchMove(evt)\n    // touchEnd(evt)\n    \n    // 4 frames to ensure that the reflections are fully updated\n    postRedisplay(frames=4) {\n        MainLoop.singleton.postRedisplay(frames);\n    }\n    \n    postReshape() {\n        MainLoop.singleton.postReshape();\n    }\n    \n    get canvas() {\n        return MainLoop.singleton.canvas;\n    }\n    \n    get context() {\n        return MainLoop.singleton.canvas.context;\n    }\n    \n    get gl() {\n        return MainLoop.singleton.canvas.context.gl;\n    }\n}\n","import Canvas from './Canvas';\nimport ContextObject from './ContextObject';\nimport EventBase from './EventBase';\nimport KeyboardEvent, { SpecialKey } from './KeyboardEvent';\nimport MouseEvent, { MouseButton } from './MouseEvent';\nimport TouchEvent from './TouchEvent';\nimport Mouse from './Mouse';\nimport MainLoop from './MainLoop';\nimport WindowController from './WindowController';\n\nconst app = {\n    Canvas,\n    ContextObject,\n    EventBase,\n    SpecialKey,\n    KeyboardEvent,\n    MouseEvent,\n    MouseButton,\n    TouchEvent,\n    Mouse,\n    MainLoop,\n    WindowController\n}\n\nexport default app;\n","import Engine from \"../utils/Engine\";\nimport ContextObject from \"../app/ContextObject\";\n\nexport class ShaderImpl {\n    constructor(context) {\n        this.initFlags(context);\n    }\n    \n    initFlags(context) {}\n    setActive(context,shaderProgram) {}\n    create(context) {}\n    addShaderSource(context,shaderProgram,shaderType,source) {}\n    link(context,shaderProgram) {}\n    initVars(context,shader,inputBufferVars,valueVars) {}\n    setInputBuffer(context,shader,varName,vertexBuffer,itemSize) {}\n    setValueInt(context,shader,name,v) {}\n    setValueIntPtr(context,shader,name,v) {}\n    setValueFloat(context,shader,name,v) {}\n    setValueFloatPtr(context,shader,name,v) {}\n    setValueVector2(context,shader,name,v) {}\n    setValueVector3(context,shader,name,v) {}\n    setValueVector4(context,shader,name,v) {}\n    setValueVector2v(context,shader,name,v) {}\n    setValueVector3v(context,shader,name,v) {}\n    setValueVector4v(context,shader,name,v) {}\n    setValueMatrix3(context,shader,name,traspose,v) {}\n    setValueMatrix4(context,shader,name,traspose,v) {}\n    setTexture(context,shader,name,texture,textureUnit) {}\n}\n\n\nexport const ShaderType = {\n    VERTEX: null,\n    FRAGMENT: null\n};\n\nfunction addLineNumbers(source) {\n    let result = \"\";\n    source.split(\"\\n\").forEach((line,index) => {\n        ++index;\n        let prefix = index<10 ? \"00\":index<100 ? \"0\":\"\";\n        result += prefix + index + \" | \" + line + \"\\n\";\n    });\n    return result;\n}\n\nwindow.s_bg_base_activeShader = null;\n\nexport default class Shader extends ContextObject {\n    static ClearActive(context) { Engine.Get().shader.setActive(context,null); }\n    static GetActiveShader() {\n        return window.s_bg_base_activeShader;\n    }\n\n    constructor(context) {\n        super(context);\n        \n        this._shader = Engine.Get().shader.create(context);\n        this._linked = false;\n        \n        this._compileError = null;\n        this._linkError = null;\n    }\n    \n    get shader() { return this._shader; }\n    get compileError() { return this._compileError; }\n    get compileErrorSource() { return this._compileErrorSource; }\n    get linkError() { return this._linkError; }\n    get status() { return this._compileError==null && this._linkError==null; }\n    \n    addShaderSource(shaderType, shaderSource) {\n        if (this._linked) {\n            this._compileError = \"Tying to attach a shader to a linked program\";\n        }\n        else if (!this._compileError) {\n            this._compileError = Engine.Get().shader.addShaderSource(\n                                                            this.context,\n                                                            this._shader,\n                                                            shaderType,shaderSource);\n            if (this._compileError) {\n                this._compileErrorSource = addLineNumbers(shaderSource);\n            }\n        }\n        return this._compileError==null;\n    }\n    \n    link() {\n        this._linkError = null;\n        if (this._linked) {\n            this._linkError = \"Shader already linked\";\n        }\n        else  {\n            this._linkError = Engine.Get().shader.link(this.context,this._shader);\n            this._linked = this._linkError==null;\n        }\n        return this._linked;\n    }\n    \n    setActive() {\n        Engine.Get().shader.setActive(this.context,this._shader);\n        g_window.s_bg_base_activeShader = this;\n    }\n    \n    clearActive() {\n        Shader.ClearActive(this.context);\n        g_window.s_bg_base_activeShader = null;\n    }\n    \n    initVars(inputBufferVars,valueVars) {\n        Engine.Get().shader.initVars(this.context,this._shader,inputBufferVars,valueVars);\n    }\n    \n    setInputBuffer(name,vbo,itemSize) {\n        Engine.Get().shader\n            .setInputBuffer(this.context,this._shader,name,vbo,itemSize);\n    }\n    \n    disableInputBuffer(name) {\n        Engine.Get().shader\n            .disableInputBuffer(this.context,this._shader,name);\n    }\n    \n    setValueInt(name,v) {\n        Engine.Get().shader\n            .setValueInt(this.context,this._shader,name,v);\n    }\n\n    setValueIntPtr(name,v) {\n        Engine.Get().shader\n            .setValueIntPtr(this.context,this._shader,name,v);\n    }\n    \n    setValueFloat(name,v) {\n        Engine.Get().shader\n            .setValueFloat(this.context,this._shader,name,v);\n    }\n\n    setValueFloatPtr(name,v) {\n        Engine.Get().shader\n            .setValueFloatPtr(this.context,this._shader,name,v);\n    }\n    \n    setVector2(name,v) {\n        Engine.Get().shader\n            .setValueVector2(this.context,this._shader,name,v);\n    }\n    \n    setVector3(name,v) {\n        Engine.Get().shader\n            .setValueVector3(this.context,this._shader,name,v);\t\t\t\n    }\n    \n    setVector4(name,v) {\n        Engine.Get().shader\n            .setValueVector4(this.context,this._shader,name,v);\n    }\n\n    setVector2Ptr(name,v) {\n        Engine.Get().shader\n            .setValueVector2v(this.context,this._shader,name,v);\n    }\n    \n    setVector3Ptr(name,v) {\n        Engine.Get().shader\n            .setValueVector3v(this.context,this._shader,name,v);\t\t\t\n    }\n    \n    setVector4Ptr(name,v) {\n        Engine.Get().shader\n            .setValueVector4v(this.context,this._shader,name,v);\n    }\n    \n    setMatrix3(name,v,traspose=false) {\n        Engine.Get().shader\n            .setValueMatrix3(this.context,this._shader,name,traspose,v);\n    }\n    \n    setMatrix4(name,v,traspose=false) {\n        Engine.Get().shader\n            .setValueMatrix4(this.context,this._shader,name,traspose,v);\n    }\n    \n    setTexture(name,texture,textureUnit) {\n        Engine.Get().shader\n            .setTexture(this.context,this._shader,name,texture,textureUnit);\n    }\n\n    \n    destroy() {\n        console.warn(\"TODO: Shader.destroy(): not implemented.\");\n    }\n}\n","\nimport ContextObject from \"../app/ContextObject\";\nimport Shader from \"./Shader\";\n\nexport default class Effect extends ContextObject {\n    constructor(context) {\n        super(context);\n        this._shader = null;\n        this._inputVars = [];\n        this._shaders = [];\n    }\n    \n    /*\n     * Override the following functions to create a custom effect:\n     * \tget inputVars(): returns an object with the input attribute for each\n     * \t\t\t\t\t vertex buffer in the shader\n     *  get shader(): \t create and initialize the shader if not exists\n     *  setupVars():\t bind the input vars in the shader\n     */\n    get inputVars() {\n        // Return the corresponding names for input vars\n        //this._inputVars = {\n        //\tvertex:null,\n        //\tnormal:null,\n        //\ttex0:null,\n        //\ttex1:null,\n        //\ttex2:null,\n        //\tcolor:null,\n        //\ttangent:null\n        //};\n        \n        return this._inputVars;\n    }\n\n    get numberOfShaders() {\n        return this._shaders.length;\n    }\n\n    setCurrentShader(i) {\n        this._shader = this._shaders[i];\n    }\n    \n    get shader() {\n        // Create and initialize the shader if not exists.\n        return this._shader;\n    }\n    \n    // Automatic method: with ShaderSource objects it isn't necesary to\n    // overrdide the previous functions\n    setupShaderSource(sourceArray,append=true) {\n        let shaderIndex = append ? this._shaders.length : 0;\n        let shader = new Shader(this.context);\n        this._inputVars = [];\n        let inputAttribs = [];\n        let inputVars = [];\n        \n        sourceArray.forEach((source) => {\n            source.params.forEach((param) => {\n                if (param) {\n                    if (param.role==\"buffer\") {\n                        this._inputVars[param.target] = param.name;\n                        inputAttribs.push(param.name);\n                    }\n                    else if (param.role==\"value\") {\n                        inputVars.push(param.name);\n                    }\n                }\n            });\n            \n            shader.addShaderSource(source.type,source.toString());\n        });\n        shader.link();\n        if (!shader.status) {\n            console.error(shader.compileError);\n            if (shader.compileErrorSource) {\n                console.error(\"Shader source:\");\n                console.error(shader.compileErrorSource);\n            }\n            console.error(shader.linkError);\n        }\n        else {\n            shader.initVars(inputAttribs,inputVars);\n        }\n\n        if (append) {\n            this._shaders.push(shader);\n            if (!this._shader) {\n                this._shader = shader;\n            }\n        }\n        else {\n            this._shaders = [shader];\n            this._shader = shader;\n        }\n        return shaderIndex;\n    }\n    \n    // This function is used to setup shader variables that are the same for all\n    // scene object, such as lights or color correction\n    beginDraw() {\n        \n    }\n    \n    // This function is called before draw each polyList. The material properties will be\n    // set in this.material\n    setupVars() {\n        // pass the input vars values to this.shader\n    }\n    \n    setActive() {\n        this.shader.setActive();\n        this.beginDraw();\n    }\n    \n    clearActive() {\n        this.shader.clearActive();\n    }\n    \n    bindPolyList(plist) {\n        var s = this.shader;\t\t\t\n        if (this.inputVars.vertex) {\n            s.setInputBuffer(this.inputVars.vertex, plist.vertexBuffer, 3);\n        }\n        if (this.inputVars.normal) {\n            s.setInputBuffer(this.inputVars.normal, plist.normalBuffer, 3);\n        }\n        if (this.inputVars.tex0) {\n            s.setInputBuffer(this.inputVars.tex0, plist.texCoord0Buffer, 2);\n        }\n        if (this.inputVars.tex1) {\n            s.setInputBuffer(this.inputVars.tex1, plist.texCoord1Buffer, 2);\n        }\n        if (this.inputVars.tex2) {\n            s.setInputBuffer(this.inputVars.tex2, plist.texCoord2Buffer, 2);\n        }\n        if (this.inputVars.color) {\n            s.setInputBuffer(this.inputVars.color, plist.colorBuffer, 4);\n        }\n        if (this.inputVars.tangent) {\n            s.setInputBuffer(this.inputVars.tangent, plist.tangentBuffer, 3);\n        }\n        this.setupVars();\n    }\n    \n    unbind() {\n        var s = this.shader;\t\n        if (this.inputVars.vertex) {\n            s.disableInputBuffer(this.inputVars.vertex);\n        }\n        if (this.inputVars.normal) {\n            s.disableInputBuffer(this.inputVars.normal);\n        }\n        if (this.inputVars.tex0) {\n            s.disableInputBuffer(this.inputVars.tex0);\n        }\n        if (this.inputVars.tex1) {\n            s.disableInputBuffer(this.inputVars.tex1);\n        }\n        if (this.inputVars.tex2) {\n            s.disableInputBuffer(this.inputVars.tex2);\n        }\n        if (this.inputVars.color) {\n            s.disableInputBuffer(this.inputVars.color);\n        }\n        if (this.inputVars.tangent) {\n            s.disableInputBuffer(this.inputVars.tangent);\n        }\n    }\t\t\n}\n\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","\n\nimport Resource from \"../utils/Resource\";\n\nexport class LoaderPlugin {            \n    acceptType(url,data) { return false; }\n\n    async load(context,url,data) {\n        return new Error(\"Not implemented\");\n    }\n    \n}\n\nwindow.s_bg_base_loaderPlugins = window.s_bg_base_loaderPlugins ||[];\n\nfunction loadUrl(context,url,onProgress = null,extraData = null) {\n    return new Promise((accept,reject) => {\n        Resource.Load(url,onProgress)\n            .then(function(data) {\n                return Loader.LoadData(context,url,data,extraData);\n            })\n            \n            .then((result,extendedData) => {\n                accept(result,extendedData);\n            })\n            \n            .catch(function(err) {\n                reject(err);\n            });\n    });\n}\n\nfunction loadUrlArray(context,url,onProgress = null,extraData = null) {\n    return new Promise((accept,reject) => {\n        Resource.LoadMultiple(url,onProgress)\n            .then((result) => {\n                let promises = [];\n\n                for (let itemUrl in result) {\n                    let data = result[itemUrl];\n                    promises.push(loadData(context,itemUrl,data,extraData));\n                }\n\n                return Promise.all(promises);\n            })\n            .then((loadedResults) => {\n                let resolvedData = {}\n                url.forEach((itemUrl,index) => {\n                    resolvedData[itemUrl] = loadedResults[index];\n                })\n                accept(resolvedData);\n            })\n            .catch((err) => {\n                reject(err);\n            })\n    })\n}\n\nfunction loadData(context,url,data,extraData = null) {\n    return new Promise((accept,reject) => {\n        let selectedPlugin = null;\n        s_loaderPlugins.some((plugin) => {\n            if (plugin.acceptType(url,data)) {\n                selectedPlugin = plugin;\n                return true;\n            }\n        })\n        \n        if (selectedPlugin) {\n            if (!extraData) {\n                extraData = {};\n            }\n            accept(selectedPlugin.load(context,url,data,extraData));\n        }\n        else {\n            return reject(new Error(\"No suitable plugin found for load \" + url));\n        }\n    });\n}\n\nexport default class Loader {\n    static RegisterPlugin(p) { window.s_bg_base_loaderPlugins.push(p); }\n    \n    static Load(context,url,onProgress = null,extraData = null) {\n        if (Array.isArray(url)) {\n            return loadUrlArray(context,url,onProgress,extraData);\n        }\n        else {\n            return loadUrl(context,url,onProgress,extraData);\n        }\n    }\n    \n    static LoadData(context,url,data,extraData = null) {\n        return loadData(context,url,data,extraData);\n    }\n}\n","\nexport const Axis = {\n\tNONE: 0,\n\tX: 1,\n\tY: 2,\n\tZ: 3,\n    name: (axis) => {\n        switch (axis) {\n        case Axis.NONE:\n            return \"NONE\";\n        case Axis.X:\n            return \"X\";\n        case Axis.Y:\n            return \"Y\";\n        case Axis.Z:\n            return \"Z\";\n        case Axis.W:\n            return \"W\";\n        default:\n            return \"UNKNOWN\"\n        };\n    }\n};\n\nexport const PI = 3.141592653589793;\nexport const DEG_TO_RAD = 0.01745329251994;\nexport const RAD_TO_DEG = 57.29577951308233;\nexport const PI_2 = 1.5707963267948966;\nexport const PI_4 = 0.785398163397448;\nexport const PI_8 = 0.392699081698724;\nexport const TWO_PI = 6.283185307179586;\nexport const EPSILON = 0.0000001;\n\n// Default array: 32 bits\nexport const NumericArray = Float32Array;\nexport const NumericArrayHighP = Array;\nexport const FLOAT_MAX = 3.402823e38;\n","import {\n    NumericArray,\n    NumericArrayHighP\n} from \"./constants\";\n\nexport class Vector {\n    static MinComponents(v1,v2) {\n        let length = Math.min(v1.length, v2.length);\n        let result = null;\n        switch (length) {\n        case 2:\n            result = new Vector2();\n            break;\n        case 3:\n            result = new Vector3();\n            break;\n        case 4:\n            result = new Vector4();\n            break;\n        }\n\n        for (let i=0; i<length; ++i) {\n            result._v[i] = v1._v[i]<v2._v[i] ? v1._v[i] : v2._v[i];\n        }\n        return result;\n    }\n\n    static MaxComponents(v1,v2) {\n        let length = Math.min(v1.length, v2.length);\n        let result = null;\n        switch (length) {\n        case 2:\n            result = new Vector2();\n            break;\n        case 3:\n            result = new Vector3();\n            break;\n        case 4:\n            result = new Vector4();\n            break;\n        }\n\n        for (let i=0; i<length; ++i) {\n            result._v[i] = v1._v[i]>v2._v[i] ? v1._v[i] : v2._v[i];\n        }\n        return result;\n    }\n\n    constructor(v) {\n        this._v = v;\n    }\n    \n    get v() { return this._v; }\n    \n    get length() { return this._v.length; }\n    \n    get x() { return this._v[0]; }\n    set x(v) { this._v[0] = v; }\n    get y() { return this._v[1]; }\n    set y(v) { this._v[1] = v; }\n\n    get module() { return this.magnitude(); }\n\n    toArray() {\n        let result = [];\n        for (let i=0; i<this.v.length; ++i) {\n            result.push(this.v[i]);\n        }\n        return result;\n    }\n}\n\nexport class Vector2 extends Vector {\n    static Add(v1,v2) {\n        return new Vector2(v1.x + v2.x, v1.y + v2.y);\n    }\n\n    static Sub(v1,v2) {\n        return new Vector2(v1.x - v2.x, v1.y - v2.y);\n    }\n\n    static Distance(a,b) {\n        return (new Vector2(a._v[0] - b._v[0], a._v[1] - b._v[1])).magnitude();\n    }\n\n    static Dot(v1,v2) {\n        return v1._v[0] * v2._v[0] + v1._v[1] * v2._v[1];\n    }\n\n    static Cross(v1,v2) {\n        let x = v1._v[1] * v2._v[2] - v1._v[2] * v2._v[1];\n        let y = v1._v[2] * v2._v[0] - v1._v[0] * v2._v[2];\n        let z = v1._v[0] * v2._v[1] - v1._v[1] * v2._v[0];\n        return new Vector3(x, y, z);\n    }\n\n    constructor(x = 0,y) {\n        super(new NumericArrayHighP(2));\n        if (x instanceof Vector2) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n        }\n        else if (Array.isArray(x) && x.length>=2) {\n            this._v[0] = x[0];\n            this._v[1] = x[1];\n        }\n        else {\n            if (y===undefined) y=x;\n            this._v[0] = x;\n            this._v[1] = y;\n        }\n    }\n\n    distance(other) {\n        let v3 = new Vector2(this._v[0] - other._v[0],\n                                  this._v[1] - other._v[1]);\n        return v3.magnitude();\n    }\n\n    normalize() {\n        let m = this.magnitude();\n        this._v[0] = this._v[0]/m; this._v[1]=this._v[1]/m;\n        return this;\n    }\n\n    add(v2) {\n        this._v[0] += v2._v[0];\n        this._v[1] += v2._v[1];\n        return this;\n    }\n\n    sub(v2) {\n        this._v[0] -= v2._v[0];\n        this._v[1] -= v2._v[1];\n        return this;\n    }\n\n    dot(v2) {\n        return this._v[0] * v2._v[0] + this._v[1] * v2._v[1];\n    }\n\n    scale(scale) {\n        this._v[0] *= scale; this._v[1] *= scale;\n        return this;\n    }\n\n    magnitude() {\n        return Math.sqrt(\n            this._v[0] * this._v[0] +\n            this._v[1] * this._v[1]\n        )\n    }\n\n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; }\n\n    set(x, y) {\n        if (y===undefined) y = x;\n        this._v[0] = x; this._v[1] = y;\n    }\n\n    get width() { return this._v[0]; }\n    get height() { return this._v[1]; }\n    set width(v) { this._v[0] = v; }\n    set height(v) { this._v[1] = v; }\n\n    get aspectRatio() { return this._v[0]/this._v[1]; }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n}\n\nexport class Vector3 extends Vector {\n    static Add(v1,v2) {\n        return new Vector3(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z);\n    }\n\n    static Sub(v1,v2) {\n        return new Vector3(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z);\n    }\n\n    static Distance(a,b) {\n        return (new Vector3(a._v[0] - b._v[0], a._v[1] - b._v[1], a._v[2] - b._v[2])).magnitude();\n    }\n\n    static Dot(v1,v2) {\n        return v1._v[0] * v2._v[0] + v1._v[1] * v2._v[1] + v1._v[2] * v2._v[2];\n    }\n\n    static Cross(v1,v2) {\n        let x = v1._v[1] * v2._v[2] - v1._v[2] * v2._v[1];\n        let y = v1._v[2] * v2._v[0] - v1._v[0] * v2._v[2];\n        let z = v1._v[0] * v2._v[1] - v1._v[1] * v2._v[0];\n        return new Vector3(x, y, z);\n    }\n\n\n    constructor(x = 0, y = 0, z = 0) {\n        super(new NumericArrayHighP(3));\n        if (x instanceof Vector2) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = y;\n        }\n        else if (x instanceof Vector3) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = x._v[2];\n        }\n        else if (Array.isArray(x) && x.length>=3) {\n            this._v[0] = x[0];\n            this._v[1] = x[1];\n            this._v[2] = x[2];\n        }\n        else {\n            if (y===undefined) y=x;\n            if (z===undefined) z=y;\n            this._v[0] = x;\n            this._v[1] = y;\n            this._v[2] = z;\n        }\n    }\n    \n    get z() { return this._v[2]; }\n    set z(v) { this._v[2] = v; }\n\n    magnitude() {\n        return Math.sqrt(\n            this._v[0] * this._v[0] +\n            this._v[1] * this._v[1] +\n            this._v[2] * this._v[2]\n        );\n    }\n    \n    normalize() {\n        let m = this.magnitude();\n        this._v[0] = this._v[0]/m; this._v[1]=this._v[1]/m; this._v[2]=this._v[2]/m;\n        return this;\n    }\n\n    distance(other) {\n        let v3 = new Vector3(this._v[0] - other._v[0],\n                                  this._v[1] - other._v[1],\n                                  this._v[2] - other._v[2]);\n        return v3.magnitude();\n    }\n\n    add(v2) {\n        this._v[0] += v2._v[0];\n        this._v[1] += v2._v[1];\n        this._v[2] += v2._v[2];\n        return this;\n    }\n\n    sub(v2) {\n        this._v[0] -= v2._v[0];\n        this._v[1] -= v2._v[1];\n        this._v[2] -= v2._v[2];\n        return this;\n    }\n\n    dot(v2) {\n        return this._v[0] * v2._v[0] + this._v[1] * v2._v[1] + this._v[2] * v2._v[2];\n    }\n\n    scale(scale) {\n        this._v[0] *= scale; this._v[1] *= scale; this._v[2] *= scale;\n        return this;\n    }\n\n    cross(/* Vector3 */ v2) {\n        let x = this._v[1] * v2._v[2] - this._v[2] * v2._v[1];\n        let y = this._v[2] * v2._v[0] - this._v[0] * v2._v[2];\n        let z = this._v[0] * v2._v[1] - this._v[1] * v2._v[0];\n        this._v[0]=x; this._v[1]=y; this._v[2]=z;\n        return this;\n    }\n\n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1] && this._v[2]==v._v[2]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1] || this._v[2]!=v._v[2]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; if (v._v.length>=3) this._v[2]=v._v[2]; }\n\n    set(x, y, z) {\n        this._v[0] = x;\n        this._v[1] = (y===undefined) ? x:y;\n        this._v[2] = (y===undefined) ? x:(z===undefined ? y:z);\n    }\n\n    get width() { return this._v[0]; }\n    get height() { return this._v[1]; }\n    get depth() { return this._v[2]; }\n    \n    set width(v) { this._v[0] = v; }\n    set height(v) { this._v[1] = v; }\n    set depth(v) { this._v[2] = v; }\n\n    get xy() { return new Vector2(this._v[0],this._v[1]); }\n    get yz() { return new Vector2(this._v[1],this._v[2]); }\n    get xz() { return new Vector2(this._v[0],this._v[2]); }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]) || isNaN(this._v[2]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n}\n\nexport class Vector4 extends Vector {\n    static Add(v1,v2) {\n        return new Vector4(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z, v1.w + v2.w);\n    }\n\n    static Sub(v1,v2) {\n        return new Vector4(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z, v1.w - v2.w);\n    }\n\n    static Yellow() { return new Vector4(1.0,1.0,0.0,1.0); }\n    static Orange() { return new Vector4(1.0,0.5,0.0,1.0); }\n    static Red() { return new Vector4(1.0,0.0,0.0,1.0); }\n    static Violet() { return new Vector4(0.5,0.0,1.0,1.0); }\n    static Blue() { return new Vector4(0.0,0.0,1.0,1.0); }\n    static Green() { return new Vector4(0.0,1.0,0.0,1.0); }\n    static White() { return new Vector4(1.0,1.0,1.0,1.0); }\n    static LightGray() { return new Vector4(0.8,0.8,0.8,1.0); }\n    static Gray() { return new Vector4(0.5,0.5,0.5,1.0); }\n    static DarkGray() { return new Vector4(0.2,0.2,0.2,1.0); }\n    static Black() { return new Vector4(0.0,0.0,0.0,1.0); }\n    static Brown() { return new Vector4(0.4,0.2,0.0,1.0); }\n    static Transparent() { return new Vector4(0,0,0,0); }\n    \n    constructor(x = 0, y = 0, z = 0, w = 0) {\n        super(new NumericArrayHighP(4));\n        if (x instanceof Vector2) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = y\n            this._v[3] = z;\n        }\n        else if (x instanceof Vector3) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = x._v[2];\n            this._v[3] = y;\n        }\n        else if (x instanceof Vector4) {\n            this._v[0] = x._v[0];\n            this._v[1] = x._v[1];\n            this._v[2] = x._v[2];\n            this._v[3] = x._v[3];\n        }\n        else if (Array.isArray(x) && x.length>=4) {\n            this._v[0] = x[0];\n            this._v[1] = x[1];\n            this._v[2] = x[2];\n            this._v[3] = x[3];\n        }\n        else {\n            if (y===undefined) y=x;\n            if (z===undefined) z=y;\n            if (w===undefined) w=z;\n            this._v[0] = x;\n            this._v[1] = y;\n            this._v[2] = z;\n            this._v[3] = w;\n        }\n    }\n    \n    get z() { return this._v[2]; }\n    set z(v) { this._v[2] = v; }\n    get w() { return this._v[3]; }\n    set w(v) { this._v[3] = v; }\n    \n    magnitude() {\n        return Math.sqrt(\n            this._v[0] * this._v[0] +\n            this._v[1] * this._v[1] +\n            this._v[2] * this._v[2] +\n            this._v[3] * this._v[3]\n        );\n    }\n\n    normalize() {\n        let m = this.magnitude();\n        this._v[0] = this._v[0]/m;\n        this._v[1]=this._v[1]/m;\n        this._v[2]=this._v[2]/m;\n        this._v[3]=this._v[3]/m;\n        return this;\n    }\n\n    distance(other) {\n        let v3 = new Vector4(this._v[0] - other._v[0],\n                                  this._v[1] - other._v[1],\n                                  this._v[2] - other._v[2],\n                                  this._v[3] - other._v[3]);\n        return v3.magnitude();\n    }\n\n    add(v2) {\n        this._v[0] += v2._v[0];\n        this._v[1] += v2._v[1];\n        this._v[2] += v2._v[2];\n        this._v[3] += v2._v[3];\n        return this;\n    }\n\n    sub(v2) {\n        this._v[0] -= v2._v[0];\n        this._v[1] -= v2._v[1];\n        this._v[2] -= v2._v[2];\n        this._v[3] -= v2._v[3];\n        return this;\n    }\n\n    dot(v2) {\n        return this._v[0] * v2._v[0] + this._v[1] * v2._v[1] + this._v[2] * v2._v[2] + this._v[3] * v2._v[3];\n    }\n\n    scale(scale) {\n        this._v[0] *= scale; this._v[1] *= scale; this._v[2] *= scale; this._v[3] *= scale;\n        return this;\n    }\n\n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1] && this._v[2]==v._v[2] && this._v[3]==v._v[3]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1] || this._v[2]!=v._v[2] || this._v[3]!=v._v[3]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; if (v._v.length>=3) this._v[2]=v._v[2]; if (v._v.length==4) this._v[3]=v._v[3]; }\n\n    set(x, y, z, w) {\n        this._v[0] = x;\n        this._v[1] = (y===undefined) ? x:y;\n        this._v[2] = (y===undefined) ? x:(z===undefined ? y:z);\n        this._v[3] = (y===undefined) ? x:(z===undefined ? y:(w===undefined ? z:w));\n    }\n\n    get r() { return this._v[0]; }\n    get g() { return this._v[1]; }\n    get b() { return this._v[2]; }\n    get a() { return this._v[3]; }\n    \n    set r(v) { this._v[0] = v; }\n    set g(v) { this._v[1] = v; }\n    set b(v) { this._v[2] = v; }\n    set a(v) { this._v[3] = v; }\n\n    get xy() { return new Vector2(this._v[0],this._v[1]); }\n    get yz() { return new Vector2(this._v[1],this._v[2]); }\n    get xz() { return new Vector2(this._v[0],this._v[2]); }\n    get xyz() { return new Vector3(this._v[0],this._v[1],this._v[2]); }\n\n    get width() { return this._v[2]; }\n    get height() { return this._v[3]; }\n    \n    set width(v) { this._v[2] = v; }\n    set height(v) { this._v[3] = v; }\n    \n    get aspectRatio() { return this._v[3]!=0 ? this._v[2]/this._v[3]:1.0; }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]) || isNaN(this._v[2]) || isNaN(this._v[3]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n}\n\nexport const Size2D = Vector2;\nexport const Size3D = Vector3;\nexport const Position2D = Vector2;\nexport const Viewport = Vector4;\nexport const Color = Vector4;\n\n","\nimport { Vector3, Vector4 } from \"./Vector\";\nimport { NumericArray, NumericArrayHighP } from \"./constants\";\n\nexport default class Matrix3 {\n\tstatic Identity() {\n\t\treturn new Matrix3(1,0,0, 0,1,0, 0,0,1);\n\t}\n\t\n\tconstructor(v00=1,v01=0,v02=0,v10=0,v11=1,v12=0,v20=0,v21=0,v22=1) {\n\t\tthis._m = new NumericArray(9);\n\t\tif (Array.isArray(typeof(v00))) {\n\t\t\tthis._m[0] = v00[0]; this._m[1] = v00[1]; this._m[2] = v00[0];\n\t\t\tthis._m[3] = v00[3]; this._m[4] = v00[4]; this._m[5] = v00[5];\n\t\t\tthis._m[6] = v00[6]; this._m[7] = v00[7]; this._m[8] = v00[8];\n\t\t}\n\t\telse if (typeof(v00)==\"number\") {\n\t\t\tthis._m[0] = v00; this._m[1] = v01; this._m[2] = v02;\n\t\t\tthis._m[3] = v10; this._m[4] = v11; this._m[5] = v12;\n\t\t\tthis._m[6] = v20; this._m[7] = v21; this._m[8] = v22;\n\t\t}\n\t\telse {\n\t\t\tthis.assign(v00);\n\t\t}\n\t}\n\t\n\tget m() { return this._m; }\n\n\ttoArray() {\n\t\treturn [\n\t\t\tthis._m[0], this._m[1], this._m[2],\n\t\t\tthis._m[3], this._m[4], this._m[5],\n\t\t\tthis._m[6], this._m[7], this._m[8]\n\t\t]\n\t}\n\t\n\tget m00() { return this._m[0]; }\n\tget m01() { return this._m[1]; }\n\tget m02() { return this._m[2]; }\n\tget m10() { return this._m[3]; }\n\tget m11() { return this._m[4]; }\n\tget m12() { return this._m[5]; }\n\tget m20() { return this._m[6]; }\n\tget m21() { return this._m[7]; }\n\tget m22() { return this._m[8]; }\n\t\n\tset m00(v) { this._m[0] = v; }\n\tset m01(v) { this._m[1] = v; }\n\tset m02(v) { this._m[2] = v; }\n\tset m10(v) { this._m[3] = v; }\n\tset m11(v) { this._m[4] = v; }\n\tset m12(v) { this._m[5] = v; }\n\tset m20(v) { this._m[6] = v; }\n\tset m21(v) { this._m[7] = v; }\n\tset m22(v) { this._m[8] = v; }\n\t\n\tzero() {\n\t\tthis._m[0] = this._m[1] = this._m[2] =\n\t\tthis._m[3] = this._m[4] = this._m[5] =\n\t\tthis._m[6] = this._m[7] = this._m[8] = 0;\n\t\treturn this;\n\t}\n\n\tidentity() {\n\t\tthis._m[0] = 1; this._m[1] = 0; this._m[2] = 0;\n\t\tthis._m[3] = 0; this._m[4] = 1; this._m[5] = 0;\n\t\tthis._m[6] = 0; this._m[7] = 0; this._m[8] = 1;\n\t\treturn this;\n\t}\n\t\n\tisZero() {\n\t\treturn\tthis._m[0]==0.0 && this._m[1]==0.0 && this._m[2]==0.0 &&\n\t\t\t\tthis._m[3]==0.0 && this._m[4]==0.0 && this._m[5]==0.0 &&\n\t\t\t\tthis._m[6]==0.0 && this._m[7]==0.0 && this._m[8]==0.0;\n\t}\n\t\n\tisIdentity() {\n\t\treturn\tthis._m[0]==1.0 && this._m[1]==0.0 && this._m[2]==0.0 &&\n\t\t\t\tthis._m[3]==0.0 && this._m[4]==1.0 && this._m[5]==0.0 &&\n\t\t\t\tthis._m[6]==0.0 && this._m[7]==0.0 && this._m[8]==1.0;\n\t}\n\n\trow(i) { return new Vector3(this._m[i*3], this._m[i*3 + 1], this._m[i*3 + 2]); }\n\tsetRow(i, row) { this._m[i*3]=row._v[0]; this._m[i*3 + 1]=row._v[1]; this._m[i*3 + 2]=row._v[2]; return this; }\n\n\tsetScale(x,y,z) { \n\t\tlet rx = new Vector3(this._m[0], this._m[3], this._m[6]).normalize().scale(x);\n\t\tlet ry = new Vector3(this._m[1], this._m[4], this._m[7]).normalize().scale(y);\n\t\tlet rz = new Vector3(this._m[2], this._m[5], this._m[8]).normalize().scale(z);\n\t\tthis._m[0] = rx.x; this._m[3] = rx.y; this._m[6] = rx.z;\n\t\tthis._m[1] = ry.x; this._m[4] = ry.y; this._m[7] = ry.z;\n\t\tthis._m[2] = rz.x; this._m[5] = rz.y; this._m[8] = rz.z;\n\t\treturn this;\n\t}\n\tgetScale() {\n\t\treturn new Vector3(\n\t\t\tnew Vector3(this._m[0], this._m[3], this._m[6]).module,\n\t\t\tnew Vector3(this._m[1], this._m[4], this._m[7]).module,\n\t\t\tnew Vector3(this._m[2], this._m[5], this._m[8]).module\n\t\t);\n\t}\n\t\n\tget length() { return this._m.length; }\n\t\n\ttraspose() {\n\t\tlet r0 = new Vector3(this._m[0], this._m[3], this._m[6]);\n\t\tlet r1 = new Vector3(this._m[1], this._m[4], this._m[7]);\n\t\tlet r2 = new Vector3(this._m[2], this._m[5], this._m[8]);\n\t\t\n\t\tthis.setRow(0, r0);\n\t\tthis.setRow(1, r1);\n\t\tthis.setRow(2, r2);\n\n\t\treturn this;\n\t}\n\t\n\telemAtIndex(i) { return this._m[i]; }\n\tassign(a) {\n\t\tif (a.length==9) {\n\t\t\tthis._m[0] = a._m[0]; this._m[1] = a._m[1]; this._m[2] = a._m[2];\n\t\t\tthis._m[3] = a._m[3]; this._m[4] = a._m[4]; this._m[5] = a._m[5];\n\t\t\tthis._m[6] = a._m[6]; this._m[7] = a._m[7]; this._m[8] = a._m[8];\n\t\t}\n\t\telse if (a.length==16) {\n\t\t\tthis._m[0] = a._m[0]; this._m[1] = a._m[1]; this._m[2] = a._m[2];\n\t\t\tthis._m[3] = a._m[4]; this._m[4] = a._m[5]; this._m[5] = a._m[6];\n\t\t\tthis._m[6] = a._m[8]; this._m[7] = a._m[9]; this._m[8] = a._m[10];\n\t\t}\n\t\treturn this;\n\t}\n\t\n\tequals(m) {\n\t\treturn\tthis._m[0] == m._m[0] && this._m[1] == m._m[1]  && this._m[2] == m._m[2] &&\n\t\t\t\tthis._m[3] == m._m[3] && this._m[4] == m._m[4]  && this._m[5] == m._m[5] &&\n\t\t\t\tthis._m[6] == m._m[6] && this._m[7] == m._m[7]  && this._m[8] == m._m[8];\n\t}\n\n\tnotEquals(m) {\n\t\treturn\tthis._m[0] != m._m[0] || this._m[1] != m._m[1]  || this._m[2] != m._m[2] &&\n\t\t\t\tthis._m[3] != m._m[3] || this._m[4] != m._m[4]  || this._m[5] != m._m[5] &&\n\t\t\t\tthis._m[6] != m._m[6] || this._m[7] != m._m[7]  || this._m[8] != m._m[8];\n\t}\n\t\t\n\tmult(a) {\n\t\tif (typeof(a)==\"number\") {\n\t\t\tthis._m[0] *= a; this._m[1] *= a; this._m[2] *= a;\n\t\t\tthis._m[3] *= a; this._m[4] *= a; this._m[5] *= a;\n\t\t\tthis._m[6] *= a; this._m[7] *= a; this._m[8] *= a;\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tlet rm = this._m;\n\t\t\tlet lm = a._m;\n\t\t\t\n\t\t\tlet res = new NumericArray(9);\n\t\t\tres[0] = lm[0] * rm[0] + lm[1] * rm[1] + lm[2] * rm[2];\n\t\t\tres[1] = lm[0] * rm[1] + lm[1] * rm[4] + lm[2] * rm[7];\n\t\t\tres[2] = lm[0] * rm[2] + lm[1] * rm[5] + lm[2] * rm[8];\n\t\t\t\n\t\t\tres[3] = lm[3] * rm[0] + lm[4] * rm[3] + lm[5] * rm[6];\n\t\t\tres[4] = lm[3] * rm[1] + lm[4] * rm[4] + lm[5] * rm[7];\n\t\t\tres[5] = lm[3] * rm[2] + lm[4] * rm[5] + lm[5] * rm[8];\n\t\t\t\n\t\t\tres[6]= lm[6] * rm[0] + lm[7] * rm[3] + lm[8] * rm[6];\n\t\t\tres[7] = lm[6] * rm[1] + lm[7] * rm[4] + lm[8] * rm[7];\n\t\t\tres[8] = lm[6] * rm[2] + lm[7] * rm[5] + lm[8] * rm[8];\n\t\t\tthis._m = res;\n\t\t}\n\t\treturn this;\n\t}\n\n\tmultVector(vec) {\n\t\tif (typeof(vec)=='object' && vec._v && vec._v.length>=2) {\n\t\t\tvec = vec._v;\n\t\t}\n\t\tlet x=vec[0];\n\t\tlet y=vec[1];\n\t\tlet z=1.0;\n\t\n\t\treturn new Vector3(\tthis._m[0]*x + this._m[3]*y + this._m[6]*z,\n\t\t\t\t\t\t\t\tthis._m[1]*x + this._m[4]*y + this._m[7]*z,\n\t\t\t\t\t\t\t\tthis._m[2]*x + this._m[5]*y + this._m[8]*z);\n\t}\n\t\t\n\tisNan() {\n\t\treturn\t!isNaN(_m[0]) && !isNaN(_m[1]) && !isNaN(_m[2]) &&\n\t\t\t\t!isNaN(_m[3]) && !isNaN(_m[4]) && !isNaN(_m[5]) &&\n\t\t\t\t!isNaN(_m[6]) && !isNaN(_m[7]) && !isNaN(_m[8]);\n\t}\n\n\ttoString() {\n\t\treturn \"[\" + this._m[0] + \", \" + this._m[1] + \", \" + this._m[2] + \"]\\n\" +\n\t\t\t   \" [\" + this._m[3] + \", \" + this._m[4] + \", \" + this._m[5] + \"]\\n\" +\n\t\t\t   \" [\" + this._m[6] + \", \" + this._m[7] + \", \" + this._m[8] + \"]\";\n\t}\n}\n","\nimport {\n    EPSILON,\n    DEG_TO_RAD,\n    RAD_TO_DEG\n} from './constants';\n\nlet s_bg_math_seed = Date.now();\n\nexport const checkPowerOfTwo = (n) => {\n    if (typeof n !== 'number') {\n        return false;\n    }\n    else {\n        return n && (n & (n - 1)) === 0;\n    }  \n}\n\nexport const checkZero = (v) => {\n    return v>-EPSILON && v<EPSILON ? 0:v;\n}\n\nexport const equals = (a,b) => {\n    return Math.abs(a - b) < EPSILON;\n}\n\nexport const degreesToRadians = (d) => {\n    return Math.fround(checkZero(d * DEG_TO_RAD));\n}\n\nexport const radiansToDegrees = (r) => {\n    return Math.fround(checkZero(r * RAD_TO_DEG));\n}\n\nexport const sin = (val) => {\n    return Math.fround(checkZero(Math.sin(val)));\n}\n\nexport const cos = (val) => {\n    return Math.fround(checkZero(Math.cos(val)));\n}\n\nexport const tan = (val) => {\n    return Math.fround(checkZero(Math.tan(val)));\n}\n\nexport const cotan = (val) => {\n    return Math.fround(checkZero(1.0 / tan(val)));\n}\n\nexport const atan = (val) => {\n    return Math.fround(checkZero(Math.atan(val)));\n}\n\nexport const atan2 = (i, j) => {\n    return Math.fround(checkZero(Math.atan2f(i, j)));\n}\n\nexport const random = () => {\n    return Math.random();\n}\n\nexport const seededRandom = () => {\n    const max = 1;\n    const min = 0;\n \n    s_bg_math_seed = (s_bg_math_seed * 9301 + 49297) % 233280;\n    const rnd = s_bg_math_seed / 233280;\n \n    return min + rnd * (max - min);\n}\n\nexport const max = (a,b) => {\n    return Math.fround(Math.max(a,b));\n}\n\nexport const min = (a,b) => {\n    return Math.fround(Math.min(a,b));\n}\n\nexport const abs = (val) => {\n    return Math.fround(Math.abs(val));\n}\n\nexport const sqrt = (val) => {\n    return Math.fround(Math.sqrt(val));\n}\n\nexport const lerp = (from, to, t) => {\n    return Math.fround((1.0 - t) * from + t * to);\n}\n\nexport const square = (n) => {\n    return Math.fround(n * n);\n}\n","import { Vector3, Vector4 } from \"./Vector\";\nimport { sin, cos, tan } from \"./functions\";\nimport { NumericArray, PI } from \"./constants\";\n\nexport default class Matrix4 {\n\tstatic Unproject(x, y, depth, mvMat, pMat, viewport) {\n\t\tlet mvp = new Matrix4(pMat);\n\t\tmvp.mult(mvMat);\n\t\tmvp.invert();\n\n\t\tlet vin = new Vector4(((x - viewport.y) / viewport.width) * 2.0 - 1.0,\n\t\t\t\t\t\t\t\t((y - viewport.x) / viewport.height) * 2.0 - 1.0,\n\t\t\t\t\t\t\t\tdepth * 2.0 - 1.0,\n\t\t\t\t\t\t\t\t1.0);\n\t\t\n\t\tlet result = new Vector4(mvp.multVector(vin));\n\t\tif (result.z==0) {\n\t\t\tresult.set(0);\n\t\t}\n\t\telse {\n\t\t\tresult.set(\tresult.x/result.w,\n\t\t\t\t\t\tresult.y/result.w,\n\t\t\t\t\t\tresult.z/result.w,\n\t\t\t\t\t\tresult.w/result.w);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tstatic Identity() {\n\t\treturn new Matrix4(1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1);\n\t}\n\t\t\n\tstatic Perspective(fovy, aspect, nearPlane, farPlane) {\n\t\tlet fovy2 = tan(fovy * PI / 360.0) * nearPlane;\n\t\tlet fovy2aspect = fovy2 * aspect;\n\n\t\treturn Matrix4.Frustum(-fovy2aspect,fovy2aspect,-fovy2,fovy2,nearPlane,farPlane);\n\t}\n\n\tstatic Frustum(left, right, bottom, top, nearPlane, farPlane) {\n\t\tlet res = new Matrix4();\n\t\tlet A = right-left;\n\t\tlet B = top-bottom;\n\t\tlet C = farPlane-nearPlane;\n\t\t\n\t\tres.setRow(0, new Vector4(nearPlane*2.0/A,\t0.0,\t0.0,\t0.0));\n\t\tres.setRow(1, new Vector4(0.0,\tnearPlane*2.0/B,\t0.0,\t0.0));\n\t\tres.setRow(2, new Vector4((right+left)/A,\t(top+bottom)/B,\t-(farPlane+nearPlane)/C,\t-1.0));\n\t\tres.setRow(3, new Vector4(0.0,\t0.0,\t-(farPlane*nearPlane*2.0)/C,\t0.0));\n\t\t\n\t\treturn res;\n\t}\n\n\tstatic Ortho(left, right, bottom, top, nearPlane, farPlane) {\n\t\tlet p = new Matrix4();\n\t\t\n\t\tlet m = right-left;\n\t\tlet l = top-bottom;\n\t\tlet k = farPlane-nearPlane;;\n\t\t\n\t\tp._m[0] = 2/m; p._m[1] = 0;   p._m[2] = 0;     p._m[3] = 0;\n\t\tp._m[4] = 0;   p._m[5] = 2/l; p._m[6] = 0;     p._m[7] = 0;\n\t\tp._m[8] = 0;   p._m[9] = 0;   p._m[10] = -2/k; p._m[11]= 0;\n\t\tp._m[12]=-(left+right)/m; p._m[13] = -(top+bottom)/l; p._m[14] = -(farPlane+nearPlane)/k; p._m[15]=1;\n\n\t\treturn p;\n\t}\n\t\t\n\tstatic LookAt(p_eye, p_center, p_up) {\n\t\tlet result = Matrix4.Identity();\n\t\tlet y = new Vector3(p_up);\n\t\tlet z = Vector3.Sub(p_eye,p_center);\n\t\tz.normalize();\n\t\tlet x = Vector3.Cross(y,z);\n\t\tx.normalize();\n\t\ty.normalize();\n\n\t\tresult.m00 = x.x;\n\t\tresult.m10 = x.y;\n\t\tresult.m20 = x.z;\n\t\tresult.m30 = -x.dot( p_eye );\n\t\tresult.m01 = y.x;\n\t\tresult.m11 = y.y;\n\t\tresult.m21 = y.z;\n\t\tresult.m31 = -y.dot( p_eye );\n\t\tresult.m02 = z.x;\n\t\tresult.m12 = z.y;\n\t\tresult.m22 = z.z;\n\t\tresult.m32 = -z.dot( p_eye );\n\t\tresult.m03 = 0;\n\t\tresult.m13 = 0;\n\t\tresult.m23 = 0;\n\t\tresult.m33 = 1;\n\t\n\t\treturn result;\n\t}\n\n\tstatic Translation(x, y, z) {\n\t\tif (typeof(x)=='object' && x._v && x._v.length>=3) {\n\t\t\ty = x._v[1];\n\t\t\tz = x._v[2];\n\t\t\tx = x._v[0];\n\t\t}\n\t\treturn new Matrix4(\n\t\t\t1.0, 0.0, 0.0, 0.0,\n\t\t\t0.0, 1.0, 0.0, 0.0,\n\t\t\t0.0, 0.0, 1.0, 0.0,\n\t\t\t  x,   y,   z, 1.0\n\t\t);\n\t}\n\t\t\n\tstatic Rotation(alpha, x, y, z) {\n\t\tlet axis = new Vector3(x,y,z);\n\t\taxis.normalize();\n\t\tlet rot = new Matrix4(1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1);\n\t\t\t\t\n\t\tvar cosAlpha = cos(alpha);\n\t\tvar acosAlpha = 1.0 - cosAlpha;\n\t\tvar sinAlpha = sin(alpha);\n\t\t\n\t\treturn new Matrix4(\n\t\t\taxis.x * axis.x * acosAlpha + cosAlpha, axis.x * axis.y * acosAlpha + axis.z * sinAlpha, axis.x * axis.z * acosAlpha - axis.y * sinAlpha, 0,\n\t\t\taxis.y * axis.x * acosAlpha - axis.z * sinAlpha, axis.y * axis.y * acosAlpha + cosAlpha, axis.y * axis.z * acosAlpha + axis.x * sinAlpha, 0,\n\t\t\taxis.z * axis.x * acosAlpha + axis.y * sinAlpha, axis.z * axis.y * acosAlpha - axis.x * sinAlpha, axis.z * axis.z * acosAlpha + cosAlpha, 0,\n\t\t\t0,0,0,1\n\t\t);\n\t}\n\n\tstatic Scale(x, y, z) {\n\t\tif (typeof(x)=='object' && x._v && x._v.length>=3) {\n\t\t\tx = x._v[0];\n\t\t\ty = x._v[1];\n\t\t\tz = x._v[2];\n\t\t}\n\t\treturn new Matrix4(\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\t\t)\n\t}\n\t\n\tconstructor(m00=0,m01=0,m02=0,m03=0, m10=0,m11=0,m12=0,m13=0, m20=0,m21=0,m22=0,m23=0, m30=0,m31=0,m32=0,m33=0) {\n\t\tthis._m = new NumericArray(16);\n\t\tif (Array.isArray(m00)) {\n\t\t\tthis._m[ 0] =  m00[0]; this._m[ 1] =  m00[1]; this._m[ 2] =  m00[2]; this._m[ 3] =  m00[3];\n\t\t\tthis._m[ 4] =  m00[4]; this._m[ 5] =  m00[5]; this._m[ 6] =  m00[6]; this._m[ 7] =  m00[7];\n\t\t\tthis._m[ 8] =  m00[8]; this._m[ 9] =  m00[9]; this._m[10] = m00[10]; this._m[11] = m00[11];\n\t\t\tthis._m[12] = m00[12]; this._m[13] = m00[13]; this._m[14] = m00[14]; this._m[15] = m00[15];\n\t\t}\n\t\telse if (typeof(m00)==\"number\") {\n\t\t\tthis._m[ 0] = m00; this._m[ 1] = m01; this._m[ 2] = m02; this._m[ 3] = m03;\n\t\t\tthis._m[ 4] = m10; this._m[ 5] = m11; this._m[ 6] = m12; this._m[ 7] = m13;\n\t\t\tthis._m[ 8] = m20; this._m[ 9] = m21; this._m[10] = m22; this._m[11] = m23;\n\t\t\tthis._m[12] = m30; this._m[13] = m31; this._m[14] = m32; this._m[15] = m33;\n\t\t}\n\t\telse {\n\t\t\tthis.assign(m00);\n\t\t}\n\t}\n\t\n\tget m() { return this._m; }\n\n\ttoArray() {\n\t\treturn [\n\t\t\tthis._m[ 0], this._m[ 1], this._m[ 2], this._m[ 3],\n\t\t\tthis._m[ 4], this._m[ 5], this._m[ 6], this._m[ 7],\n\t\t\tthis._m[ 8], this._m[ 9], this._m[10], this._m[11],\n\t\t\tthis._m[12], this._m[13], this._m[14], this._m[15]\n\t\t]\n\t}\n\t\n\tget m00() { return this._m[0]; }\n\tget m01() { return this._m[1]; }\n\tget m02() { return this._m[2]; }\n\tget m03() { return this._m[3]; }\n\tget m10() { return this._m[4]; }\n\tget m11() { return this._m[5]; }\n\tget m12() { return this._m[6]; }\n\tget m13() { return this._m[7]; }\n\tget m20() { return this._m[8]; }\n\tget m21() { return this._m[9]; }\n\tget m22() { return this._m[10]; }\n\tget m23() { return this._m[11]; }\n\tget m30() { return this._m[12]; }\n\tget m31() { return this._m[13]; }\n\tget m32() { return this._m[14]; }\n\tget m33() { return this._m[15]; }\n\t\n\tset m00(v) { this._m[0] = v; }\n\tset m01(v) { this._m[1] = v; }\n\tset m02(v) { this._m[2] = v; }\n\tset m03(v) { this._m[3] = v; }\n\tset m10(v) { this._m[4] = v; }\n\tset m11(v) { this._m[5] = v; }\n\tset m12(v) { this._m[6] = v; }\n\tset m13(v) { this._m[7] = v; }\n\tset m20(v) { this._m[8] = v; }\n\tset m21(v) { this._m[9] = v; }\n\tset m22(v) { this._m[10] = v; }\n\tset m23(v) { this._m[11] = v; }\n\tset m30(v) { this._m[12] = v; }\n\tset m31(v) { this._m[13] = v; }\n\tset m32(v) { this._m[14] = v; }\n\tset m33(v) { this._m[15] = v; }\n\n\tzero() {\n\t\tthis._m[ 0] = 0; this._m[ 1] = 0; this._m[ 2] = 0; this._m[ 3] = 0;\n\t\tthis._m[ 4] = 0; this._m[ 5] = 0; this._m[ 6] = 0; this._m[ 7] = 0;\n\t\tthis._m[ 8] = 0; this._m[ 9] = 0; this._m[10] = 0; this._m[11] = 0;\n\t\tthis._m[12] = 0; this._m[13] = 0; this._m[14] = 0; this._m[15] = 0;\n\t\treturn this;\n\t}\n\n\tidentity() {\n\t\tthis._m[ 0] = 1; this._m[ 1] = 0; this._m[ 2] = 0; this._m[ 3] = 0;\n\t\tthis._m[ 4] = 0; this._m[ 5] = 1; this._m[ 6] = 0; this._m[ 7] = 0;\n\t\tthis._m[ 8] = 0; this._m[ 9] = 0; this._m[10] = 1; this._m[11] = 0;\n\t\tthis._m[12] = 0; this._m[13] = 0; this._m[14] = 0; this._m[15] = 1;\n\t\treturn this;\n\t}\n\t\n\tisZero() {\n\t\treturn\tthis._m[ 0]==0 && this._m[ 1]==0 && this._m[ 2]==0 && this._m[ 3]==0 &&\n\t\t\t\tthis._m[ 4]==0 && this._m[ 5]==0 && this._m[ 6]==0 && this._m[ 7]==0 &&\n\t\t\t\tthis._m[ 8]==0 && this._m[ 9]==0 && this._m[10]==0 && this._m[11]==0 &&\n\t\t\t\tthis._m[12]==0 && this._m[13]==0 && this._m[14]==0 && this._m[15]==0;\n\t}\n\t\n\tisIdentity() {\n\t\treturn\tthis._m[ 0]==1 && this._m[ 1]==0 && this._m[ 2]==0 && this._m[ 3]==0 &&\n\t\t\t\tthis._m[ 4]==0 && this._m[ 5]==1 && this._m[ 6]==0 && this._m[ 7]==0 &&\n\t\t\t\tthis._m[ 8]==0 && this._m[ 9]==0 && this._m[10]==1 && this._m[11]==0 &&\n\t\t\t\tthis._m[12]==0 && this._m[13]==0 && this._m[14]==0 && this._m[15]==1;\n\t}\n\n\trow(i) { return new Vector4(this._m[i*4],this._m[i*4 + 1],this._m[i*4 + 2],this._m[i*4 + 3]); }\n\tsetRow(i, row) { this._m[i*4]=row._v[0]; this._m[i*4 + 1]=row._v[1]; this._m[i*4 + 2]=row._v[2]; this._m[i*4 + 3]=row._v[3]; return this; }\n\tsetScale(x,y,z) {\n\t\tlet rx = new Vector3(this._m[0], this._m[4], this._m[8]).normalize().scale(x);\n\t\tlet ry = new Vector3(this._m[1], this._m[5], this._m[9]).normalize().scale(y);\n\t\tlet rz = new Vector3(this._m[2], this._m[6], this._m[10]).normalize().scale(z);\n\t\tthis._m[0] = rx.x; this._m[4] = rx.y; this._m[8] = rx.z;\n\t\tthis._m[1] = ry.x; this._m[5] = ry.y; this._m[9] = ry.z;\n\t\tthis._m[2] = rz.x; this._m[6] = rz.y; this._m[10] = rz.z;\n\t\treturn this;\n\t}\n\tgetScale() {\n\t\treturn new Vector3(\n\t\t\tnew Vector3(this._m[0], this._m[4], this._m[8]).module,\n\t\t\tnew Vector3(this._m[1], this._m[5], this._m[9]).module,\n\t\t\tnew Vector3(this._m[2], this._m[6], this._m[10]).module\n\t\t);\n\t}\n\n\tsetPosition(pos,y,z) {\n\t\tif (typeof(pos)==\"number\") {\n\t\t\tthis._m[12] = pos;\n\t\t\tthis._m[13] = y;\n\t\t\tthis._m[14] = z;\n\t\t}\n\t\telse {\n\t\t\tthis._m[12] = pos.x;\n\t\t\tthis._m[13] = pos.y;\n\t\t\tthis._m[14] = pos.z;\n\t\t}\n\t\treturn this;\n\t}\n\n\tget rotation() {\n\t\tlet scale = this.getScale();\n\t\treturn new Matrix4(\n\t\t\t\tthis._m[0]/scale.x, this._m[1]/scale.y, this._m[ 2]/scale.z, 0,\n\t\t\t\tthis._m[4]/scale.x, this._m[5]/scale.y, this._m[ 6]/scale.z, 0,\n\t\t\t\tthis._m[8]/scale.x, this._m[9]/scale.y, this._m[10]/scale.z, 0,\n\t\t\t\t0,\t   0,\t  0, \t1\n\t\t\t);\n\t}\n\n\tget position() {\n\t\treturn new Vector3(this._m[12], this._m[13], this._m[14]);\n\t}\n\t\n\tget length() { return this._m.length; }\n\t\n\tgetMatrix3() {\n\t\treturn new Matrix3(this._m[0], this._m[1], this._m[ 2],\n\t\t\t\t\t\t\t\tthis._m[4], this._m[5], this._m[ 6],\n\t\t\t\t\t\t\t\tthis._m[8], this._m[9], this._m[10]);\n\t}\n\t\n\tperspective(fovy, aspect, nearPlane, farPlane) {\n\t\tthis.assign(Matrix4.Perspective(fovy, aspect, nearPlane, farPlane));\n\t\treturn this;\n\t}\n\t\n\tfrustum(left, right, bottom, top, nearPlane, farPlane) {\n\t\tthis.assign(Matrix4.Frustum(left, right, bottom, top, nearPlane, farPlane));\n\t\treturn this;\n\t}\n\t\n\tortho(left, right, bottom, top, nearPlane, farPlane) {\n\t\tthis.assign(Matrix4.Ortho(left, right, bottom, top, nearPlane, farPlane));\n\t\treturn this;\n\t}\n\n\tlookAt(origin, target, up) {\n\t\tthis.assign(Matrix4.LookAt(origin,target,up));\n\t\treturn this;\n\t}\n\n\ttranslate(x, y, z) {\n\t\tthis.mult(Matrix4.Translation(x, y, z));\n\t\treturn this;\n\t}\n\n\trotate(alpha, x, y, z) {\n\t\tthis.mult(Matrix4.Rotation(alpha, x, y, z));\n\t\treturn this;\n\t}\n\t\n\tscale(x, y, z) {\n\t\tthis.mult(Matrix4.Scale(x, y, z));\n\t\treturn this;\n\t}\n\n\telemAtIndex(i) { return this._m[i]; }\n\n\tassign(a) {\n\t\tif (a.length==9) {\n\t\t\tthis._m[0]  = a._m[0]; this._m[1]  = a._m[1]; this._m[2]  = a._m[2]; this._m[3]  = 0;\n\t\t\tthis._m[4]  = a._m[3]; this._m[5]  = a._m[4]; this._m[6]  = a._m[5]; this._m[7]  = 0;\n\t\t\tthis._m[8]  = a._m[6]; this._m[9]  = a._m[7]; this._m[10] = a._m[8]; this._m[11] = 0;\n\t\t\tthis._m[12] = 0;\t   this._m[13] = 0;\t\t  this._m[14] = 0;\t\t this._m[15] = 1;\n\t\t}\n\t\telse if (a.length==16) {\n\t\t\tthis._m[0]  = a._m[0];  this._m[1]  = a._m[1];  this._m[2]  = a._m[2];  this._m[3]  = a._m[3];\n\t\t\tthis._m[4]  = a._m[4];  this._m[5]  = a._m[5];  this._m[6]  = a._m[6];  this._m[7]  = a._m[7];\n\t\t\tthis._m[8]  = a._m[8];  this._m[9]  = a._m[9];  this._m[10] = a._m[10]; this._m[11] = a._m[11];\n\t\t\tthis._m[12] = a._m[12]; this._m[13] = a._m[13];\tthis._m[14] = a._m[14];\tthis._m[15] = a._m[15];\n\t\t}\n\t\treturn this;\n\t}\n\t\n\tequals(m) {\n\t\treturn\tthis._m[ 0]==m._m[ 0] && this._m[ 1]==m._m[ 1] && this._m[ 2]==m._m[ 2] && this._m[ 3]==m._m[ 3] &&\n\t\t\t\tthis._m[ 4]==m._m[ 4] && this._m[ 5]==m._m[ 5] && this._m[ 6]==m._m[ 6] && this._m[ 7]==m._m[ 7] &&\n\t\t\t\tthis._m[ 8]==m._m[ 8] && this._m[ 9]==m._m[ 9] && this._m[10]==m._m[10] && this._m[11]==m._m[11] &&\n\t\t\t\tthis._m[12]==m._m[12] && this._m[13]==m._m[13] && this._m[14]==m._m[14] && this._m[15]==m._m[15];\n\t}\n\t\n\tnotEquals(m) {\n\t\treturn\tthis._m[ 0]!=m._m[ 0] || this._m[ 1]!=m._m[ 1] || this._m[ 2]!=m._m[ 2] || this._m[ 3]!=m._m[ 3] ||\n\t\t\t\tthis._m[ 4]!=m._m[ 4] || this._m[ 5]!=m._m[ 5] || this._m[ 6]!=m._m[ 6] || this._m[ 7]!=m._m[ 7] ||\n\t\t\t\tthis._m[ 8]!=m._m[ 8] || this._m[ 9]!=m._m[ 9] || this._m[10]!=m._m[10] || this._m[11]!=m._m[11] ||\n\t\t\t\tthis._m[12]!=m._m[12] || this._m[13]!=m._m[13] || this._m[14]!=m._m[14] || this._m[15]!=m._m[15];\n\t}\n\t\n\tmult(a) {\n\t\tif (typeof(a)=='number') {\n\t\t\tthis._m[ 0] *= a; this._m[ 1] *= a; this._m[ 2] *= a; this._m[ 3] *= a;\n\t\t\tthis._m[ 4] *= a; this._m[ 5] *= a; this._m[ 6] *= a; this._m[ 7] *= a;\n\t\t\tthis._m[ 8] *= a; this._m[ 9] *= a; this._m[10] *= a; this._m[11] *= a;\n\t\t\tthis._m[12] *= a; this._m[13] *= a; this._m[14] *= a; this._m[15] *= a;\n\t\t\treturn this;\n\t\t}\n\n\t\tvar rm = this._m;\n\t\tvar lm = a._m;\n\t\tvar res = new NumericArray(16);\n\t\n\t\tres[0] = lm[ 0] * rm[ 0] + lm[ 1] * rm[ 4] + lm[ 2] * rm[ 8] + lm[ 3] * rm[12];\n\t\tres[1] = lm[ 0] * rm[ 1] + lm[ 1] * rm[ 5] + lm[ 2] * rm[ 9] + lm[ 3] * rm[13];\n\t\tres[2] = lm[ 0] * rm[ 2] + lm[ 1] * rm[ 6] + lm[ 2] * rm[10] + lm[ 3] * rm[14];\n\t\tres[3] = lm[ 0] * rm[ 3] + lm[ 1] * rm[ 7] + lm[ 2] * rm[11] + lm[ 3] * rm[15];\n\t\t\n\t\tres[4] = lm[ 4] * rm[ 0] + lm[ 5] * rm[ 4] + lm[ 6] * rm[ 8] + lm[ 7] * rm[12];\n\t\tres[5] = lm[ 4] * rm[ 1] + lm[ 5] * rm[ 5] + lm[ 6] * rm[ 9] + lm[ 7] * rm[13];\n\t\tres[6] = lm[ 4] * rm[ 2] + lm[ 5] * rm[ 6] + lm[ 6] * rm[10] + lm[ 7] * rm[14];\n\t\tres[7] = lm[ 4] * rm[ 3] + lm[ 5] * rm[ 7] + lm[ 6] * rm[11] + lm[ 7] * rm[15];\n\t\t\n\t\tres[8]  = lm[ 8] * rm[ 0] + lm[ 9] * rm[ 4] + lm[10] * rm[ 8] + lm[11] * rm[12];\n\t\tres[9]  = lm[ 8] * rm[ 1] + lm[ 9] * rm[ 5] + lm[10] * rm[ 9] + lm[11] * rm[13];\n\t\tres[10] = lm[ 8] * rm[ 2] + lm[ 9] * rm[ 6] + lm[10] * rm[10] + lm[11] * rm[14];\n\t\tres[11] = lm[ 8] * rm[ 3] + lm[ 9] * rm[ 7] + lm[10] * rm[11] + lm[11] * rm[15];\n\t\t\n\t\tres[12] = lm[12] * rm[ 0] + lm[13] * rm[ 4] + lm[14] * rm[ 8] + lm[15] * rm[12];\n\t\tres[13] = lm[12] * rm[ 1] + lm[13] * rm[ 5] + lm[14] * rm[ 9] + lm[15] * rm[13];\n\t\tres[14] = lm[12] * rm[ 2] + lm[13] * rm[ 6] + lm[14] * rm[10] + lm[15] * rm[14];\n\t\tres[15] = lm[12] * rm[ 3] + lm[13] * rm[ 7] + lm[14] * rm[11] + lm[15] * rm[15];\n\t\n\t\tthis._m = res;\n\t\treturn this;\n\t}\n\n\tmultVector(vec) {\n\t\tif (typeof(vec)=='object' && vec._v && vec._v.length>=3) {\n\t\t\tvec = vec._v;\n\t\t}\n\t\tlet x=vec[0];\n\t\tlet y=vec[1];\n\t\tlet z=vec[2];\n\t\tlet w=1.0;\n\t\n\t\treturn new Vector4(this._m[0]*x + this._m[4]*y + this._m[ 8]*z + this._m[12]*w,\n\t\t\t\t\t\t\t\tthis._m[1]*x + this._m[5]*y + this._m[ 9]*z + this._m[13]*w,\n\t\t\t\t\t\t\t\tthis._m[2]*x + this._m[6]*y + this._m[10]*z + this._m[14]*w,\n\t\t\t\t\t\t\t\tthis._m[3]*x + this._m[7]*y + this._m[11]*z + this._m[15]*w);\n\t}\n\t\n\tinvert() {\n\t\tlet a00 = this._m[0],  a01 = this._m[1],  a02 = this._m[2],  a03 = this._m[3],\n\t        a10 = this._m[4],  a11 = this._m[5],  a12 = this._m[6],  a13 = this._m[7],\n\t        a20 = this._m[8],  a21 = this._m[9],  a22 = this._m[10], a23 = this._m[11],\n\t        a30 = this._m[12], a31 = this._m[13], a32 = this._m[14], a33 = this._m[15];\n\n\t    let b00 = a00 * a11 - a01 * a10,\n\t        b01 = a00 * a12 - a02 * a10,\n\t        b02 = a00 * a13 - a03 * a10,\n\t        b03 = a01 * a12 - a02 * a11,\n\t        b04 = a01 * a13 - a03 * a11,\n\t        b05 = a02 * a13 - a03 * a12,\n\t        b06 = a20 * a31 - a21 * a30,\n\t        b07 = a20 * a32 - a22 * a30,\n\t        b08 = a20 * a33 - a23 * a30,\n\t        b09 = a21 * a32 - a22 * a31,\n\t        b10 = a21 * a33 - a23 * a31,\n\t        b11 = a22 * a33 - a23 * a32;\n\n\t    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n\t    if (!det) {\n\t\t\tthis.zero();\n\t        return this;\n\t    }\n\t\telse {\n\t\t\tdet = 1.0 / det;\n\n\t\t\tthis._m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n\t\t\tthis._m[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n\t\t\tthis._m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n\t\t\tthis._m[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n\t\t\tthis._m[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n\t\t\tthis._m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n\t\t\tthis._m[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n\t\t\tthis._m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n\t\t\tthis._m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\t\t\tthis._m[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\t\t\tthis._m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\t\t\tthis._m[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n\t\t\tthis._m[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n\t\t\tthis._m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n\t\t\tthis._m[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n\t\t\tthis._m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\t\t\treturn this;\n\t\t}\n\t}\n\t\n\ttraspose() {\n\t\tlet r0 = new Vector4(this._m[0], this._m[4], this._m[ 8], this._m[12]);\n\t\tlet r1 = new Vector4(this._m[1], this._m[5], this._m[ 9], this._m[13]);\n\t\tlet r2 = new Vector4(this._m[2], this._m[6], this._m[10], this._m[14]);\n\t\tlet r3 = new Vector4(this._m[3], this._m[7], this._m[11], this._m[15]);\n\t\n\t\tthis.setRow(0, r0);\n\t\tthis.setRow(1, r1);\n\t\tthis.setRow(2, r2);\n\t\tthis.setRow(3, r3);\n\t\treturn this;\n\t}\n\t\n\ttransformDirection(/* Vector3 */ dir) {\n\t\tlet direction = new Vector3(dir);\n\t\tlet trx = new Matrix4(this);\n\t\ttrx.setRow(3, new Vector4(0.0, 0.0, 0.0, 1.0));\n\t\tdirection.assign(trx.multVector(direction).xyz);\n\t\tdirection.normalize();\n\t\treturn direction;\n\t}\n\t\n\tget forwardVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, 0.0, 1.0));\n\t}\n\t\n\tget rightVector() {\n\t\treturn this.transformDirection(new Vector3(1.0, 0.0, 0.0));\n\t}\n\t\n\tget upVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, 1.0, 0.0));\n\t}\n\t\n\tget backwardVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, 0.0, -1.0));\n\t}\n\t\n\tget leftVector() {\n\t\treturn this.transformDirection(new Vector3(-1.0, 0.0, 0.0));\n\t}\n\t\n\tget downVector() {\n\t\treturn this.transformDirection(new Vector3(0.0, -1.0, 0.0));\n\t}\n\t\n\tisNan() {\n\t\treturn\tNumber.isNaN(this._m[ 0]) || Number.isNaN(this._m[ 1]) || Number.isNaN(this._m[ 2]) || Number.isNaN(this._m[ 3]) ||\n\t\t\t\tNumber.isNaN(this._m[ 4]) || Number.isNaN(this._m[ 5]) || Number.isNaN(this._m[ 6]) || Number.isNaN(this._m[ 7]) ||\n\t\t\t\tNumber.isNaN(this._m[ 8]) || Number.isNaN(this._m[ 9]) || Number.isNaN(this._m[10]) || Number.isNaN(this._m[11]) ||\n\t\t\t\tNumber.isNaN(this._m[12]) || Number.isNaN(this._m[13]) || Number.isNaN(this._m[14]) || Number.isNaN(this._m[15]);\n\t}\n\t\n\tgetOrthoValues() {\n\t\treturn [ (1+get23())/get22(),\n\t\t\t\t-(1-get23())/get22(),\n\t\t\t\t (1-get13())/get11(),\n\t\t\t\t-(1+get13())/get11(),\n\t\t\t\t-(1+get03())/get00(),\n\t\t\t\t (1-get03())/get00() ];\n\t}\n\n\tgetPerspectiveValues() {\n\t\treturn [ get23()/(get22()-1),\n\t\t\t\t get23()/(get22()+1),\n\t\t\t\t near * (get12()-1)/get11(),\n\t\t\t\t near * (get12()+1)/get11(),\n\t\t\t\t near * (get02()-1)/get00(),\n\t\t\t\t near * (get02()+1)/get00() ];\n\t}\n\n\ttoString() {\n\t\treturn \"[\" + this._m[ 0] + \", \" + this._m[ 1] + \", \" + this._m[ 2] + \", \" + this._m[ 3] + \"]\\n\" +\n\t\t\t  \" [\" + this._m[ 4] + \", \" + this._m[ 5] + \", \" + this._m[ 6] + \", \" + this._m[ 7] + \"]\\n\" +\n\t\t\t  \" [\" + this._m[ 8] + \", \" + this._m[ 9] + \", \" + this._m[10] + \", \" + this._m[11] + \"]\\n\" +\n\t\t\t  \" [\" + this._m[12] + \", \" + this._m[13] + \", \" + this._m[14] + \", \" + this._m[15] + \"]\";\n\t}\n}","import ContextObject from \"../app/ContextObject\";\nimport { Vector2, Vector3 } from \"../math/Vector\";\nimport Matrix3 from \"../math/Matrix3\";\nimport Matrix4 from \"../math/Matrix4\";\nimport Engine from \"../utils/Engine\";\n\nexport const BufferType = {\n    VERTEX:\t\t1 << 0,\n    NORMAL:\t\t1 << 1,\n    TEX_COORD_0:\t\t1 << 2,\n    TEX_COORD_1:\t\t1 << 3,\n    TEX_COORD_2:\t\t1 << 4,\n    COLOR:\t\t1 << 5,\n    TANGENT:\t1 << 6,\n    INDEX:\t\t1 << 7\n};\n\nexport const DrawMode = {\n    TRIANGLES: null,\n    TRIANGLE_FAN: null,\n    TRIANGLE_STRIP: null,\n    LINES: null,\n    LINE_STRIP: null\n};\n\nexport class PolyListImpl {\n    constructor(context) {\n        this.initFlags(context);\n    }\n    \n    initFlags(context) {}\n    create(context) {}\n    build(context,plist,vert,norm,t0,t1,t2,col,tan,index) { return false; }\n    draw(context,plist,drawMode,numberOfIndex) {}\n    destroy(context,plist) {}\n\n    // NOTE: the new buffer data must have the same size as the old one\n    update(context,plist,bufferType,newData) {}\n}\n\nfunction createTangents(plist) {\n    if (!plist.texCoord0 || !plist.vertex) return;\n    plist._tangent = [];\n    \n    let result = [];\n    let generatedIndexes = {};\n    let invalidUV = false;\n    if (plist.index.length%3==0) {\n        for (let i=0; i<plist.index.length - 2; i+=3) {\n            let v0i = plist.index[i] * 3;\n            let v1i = plist.index[i + 1] * 3;\n            let v2i = plist.index[i + 2] * 3;\n            \n            let t0i = plist.index[i] * 2;\n            let t1i = plist.index[i + 1] * 2;\n            let t2i = plist.index[i + 2] * 2;\n            \n            let v0 = new Vector3(plist.vertex[v0i], plist.vertex[v0i + 1], plist.vertex[v0i + 2]);\n            let v1 = new Vector3(plist.vertex[v1i], plist.vertex[v1i + 1], plist.vertex[v1i + 2]);\n            let v2 = new Vector3(plist.vertex[v2i], plist.vertex[v2i + 1], plist.vertex[v2i + 2]);\n            \n            let t0 = new Vector2(plist.texCoord0[t0i], plist.texCoord0[t0i + 1]);\n            let t1 = new Vector2(plist.texCoord0[t1i], plist.texCoord0[t1i + 1]);\n            let t2 = new Vector2(plist.texCoord0[t2i], plist.texCoord0[t2i + 1]);\n            \n            let edge1 = (new Vector3(v1)).sub(v0);\n            let edge2 = (new Vector3(v2)).sub(v0);\n            \n            let deltaU1 = t1.x - t0.x;\n            let deltaV1 = t1.y - t0.y;\n            let deltaU2 = t2.x - t0.x;\n            let deltaV2 = t2.y - t0.y;\n            \n            let den = (deltaU1 * deltaV2 - deltaU2 * deltaV1);\n            let tangent = null;\n            if (den==0) {\n                let n = new Vector3(plist.normal[v0i], plist.normal[v0i + 1], plist.normal[v0i + 2]);\n\n                invalidUV = true;\n                tangent = new Vector3(n.y, n.z, n.x);\n            }\n            else {\n                let f = 1 / den;\n            \n                tangent = new Vector3(f * (deltaV2 * edge1.x - deltaV1 * edge2.x),\n                                               f * (deltaV2 * edge1.y - deltaV1 * edge2.y),\n                                               f * (deltaV2 * edge1.z - deltaV1 * edge2.z));\n                tangent.normalize();\n            }\n            \n            if (generatedIndexes[v0i]===undefined) {\n                result.push(tangent.x);\n                result.push(tangent.y);\n                result.push(tangent.z);\n                generatedIndexes[v0i] = tangent;\n            }\n            \n            if (generatedIndexes[v1i]===undefined) {\n                result.push(tangent.x);\n                result.push(tangent.y);\n                result.push(tangent.z);\n                generatedIndexes[v1i] = tangent;\n            }\n            \n            if (generatedIndexes[v2i]===undefined) {\n                result.push(tangent.x);\n                result.push(tangent.y);\n                result.push(tangent.z);\n                generatedIndexes[v2i] = tangent;\n            }\n        }\n    }\n    else {\t// other draw modes: lines, line_strip\n        for (let i=0; i<plist.vertex.length; i+=3) {\n            plist._tangent.push(0,0,1);\n        }\n    }\n    if (invalidUV) {\n        console.warn(\"Invalid UV texture coords found. Some objects may present artifacts in the lighting, and not display textures properly.\")\n    }\n    return result;\n}\n\nexport default class PolyList extends ContextObject {\n    constructor(context) {\n        super(context);\n        \n        this._plist = null;\n        \n        this._drawMode = DrawMode.TRIANGLES;\n        \n        this._name = \"\";\n        this._groupName = \"\";\n        this._visible = true;\n        this._visibleToShadows = true;\n        \n        this._vertex = [];\n        this._normal = [];\n        this._texCoord0 = [];\n        this._texCoord1 = [];\n        this._texCoord2 = [];\n        this._color = [];\n        this._tangent = [];\n        this._index = [];\n    }\n    \n    clone() {\n        let pl2 = new PolyList(this.context);\n        \n        let copy = function(src,dst) {\n            src.forEach(function(item) {\n                dst.push(item);\n            });\n        };\n        \n        pl2.name = this.name + \" clone\";\n        pl2.groupName = this.groupName;\n        pl2.visible = this.visible;\n        pl2.visibleToShadows = this.visibleToShadows;\n        pl2.drawMode = this.drawMode;\n        \n        copy(this.vertex,pl2.vertex);\n        copy(this.normal,pl2.normal);\n        copy(this.texCoord0,pl2.texCoord0);\n        copy(this.texCoord1,pl2.texCoord1);\n        copy(this.texCoord2,pl2.texCoord02);\n        copy(this.color,pl2.color);\n        copy(this.index,pl2.index);\n        pl2.build();\n        \n        return pl2;\n    }\n    \n    get name() { return this._name; }\n    set name(n) { this._name = n; }\n    \n    get groupName() { return this._groupName; }\n    set groupName(n) { this._groupName = n; }\n    \n    get visible() { return this._visible; }\n    set visible(v) { this._visible = v; }\n\n    get visibleToShadows() { return this._visibleToShadows; }\n    set visibleToShadows(v) { this._visibleToShadows = v; }\n    \n    get drawMode() { return this._drawMode; }\n    set drawMode(m) { this._drawMode = m; }\n    \n    set vertex(v) { this._vertex = v; }\n    set normal(n) { this._normal = n; }\n    set texCoord0(t) { this._texCoord0 = t; }\n    set texCoord1(t) { this._texCoord1 = t; }\n    set texCoord2(t) { this._texCoord2 = t; }\n    set color(c) { this._color = c; }\n    //  Tangent buffer is calculated from normal buffer\n    set index(i) { this._index = i; }\n    \n    get vertex() { return this._vertex; }\n    get normal() { return this._normal; }\n    get texCoord0() { return this._texCoord0; }\n    get texCoord1() { return this._texCoord1; }\n    get texCoord2() { return this._texCoord2; }\n    get color() { return this._color; }\n    get tangent() { return this._tangent; }\n    get index() { return this._index; }\n    \n    get vertexBuffer() { return this._plist.vertexBuffer; }\n    get normalBuffer() { return this._plist.normalBuffer; }\n    get texCoord0Buffer() { return this._plist.tex0Buffer; }\n    get texCoord1Buffer() { return this._plist.tex1Buffer; }\n    get texCoord2Buffer() { return this._plist.tex2Buffer; }\n    get colorBuffer() { return this._plist.colorBuffer; }\n    get tangentBuffer() { return this._plist.tangentBuffer; }\n    get indexBuffer() { return this._plist.indexBuffer; }\n\n    // Note that the new buffer must have the same size as the old one, this\n    // function is intended to be used only to replace the buffer values\n    updateBuffer(bufferType,newData) {\n        let status = false;\n        switch (bufferType) {\n        case BufferType.VERTEX:\n            status = this.vertex.length==newData.length;\n            break;\n        case BufferType.NORMAL:\n            status = this.normal.length==newData.length;\n            break;\n        case BufferType.TEX_COORD_0:\n            status = this.texCoord0.length==newData.length;\n            break;\n        case BufferType.TEX_COORD_1:\n            status = this.texCoord1.length==newData.length;\n            break;\n        case BufferType.TEX_COORD_2:\n            status = this.texCoord2.length==newData.length;\n            break;\n        case BufferType.COLOR:\n            status = this.color.length==newData.length;\n            break;\n        case BufferType.TANGENT:\n            status = this.tangent.length==newData.length;\n            break;\n        case BufferType.INDEX:\n            status = this.index.length==newData.length;\n            break;\n        }\n        if (!status) {\n            throw new Error(\"Error updating buffer: The new buffer have different size as the old one.\");\n        }\n        else {\n            Engine.Get().polyList.update(this.context,this._plist,bufferType,newData);\n        }\n    }\n    \n    build() {\n        if (this.color.length==0) {\n            // Ensure that the poly list have a color buffer\n            for (let i = 0; i<this.vertex.length; i+=3) {\n                this.color.push(1);\n                this.color.push(1);\n                this.color.push(1);\n                this.color.push(1);\n            }\n        }\n\n        let plistImpl = Engine.Get().polyList;\n        if (this._plist) {\n            plistImpl.destroy(this.context, this._plist);\n            this._tangent = [];\n        }\n        this._tangent = createTangents(this);\n        this._plist = plistImpl.create(this.context);\n        return plistImpl.build(this.context, this._plist,\n                        this._vertex,\n                        this._normal,\n                        this._texCoord0,\n                        this._texCoord1,\n                        this._texCoord2,\n                        this._color,\n                        this._tangent,\n                        this._index);\n    }\n    \n    draw() {\n        Engine.Get().polyList\n            .draw(this.context,this._plist,this.drawMode,this.index.length);\n    }\n    \n    destroy() {\n        if (this._plist) {\n            Engine.Get().polyList\n                .destroy(this.context, this._plist);\n        }\n        \n        this._plist = null;\n        \n        this._name = \"\";\n        this._vertex = [];\n        this._normal = [];\n        this._texCoord0 = [];\n        this._texCoord1 = [];\n        this._texCoord2 = [];\n        this._color = [];\n        this._tangent = [];\n        this._index = [];\n    }\n    \n    applyTransform(trx) {\n        var transform = new Matrix4(trx);\n        var rotation = new Matrix4(trx.getMatrix3());\n\n        if (this.normal.length>0 && this.normal.length!=this.vertex.length)\n            throw new Error(\"Unexpected number of normal coordinates found in polyList\");\n\n        for (let i=0;i<this.vertex.length-2;i+=3) {\n            let vertex = new Vector4(this.vertex[i],this.vertex[i+1], this.vertex[i+2], 1.0);\n            vertex = transform.multVector(vertex);\n            this.vertex[i] = vertex.x;\n            this.vertex[i+1] = vertex.y;\n            this.vertex[i+2] = vertex.z;\n    \n            if (this.normal.length) {\n                var normal = new Vector4(this.normal[i],this.normal[i+1], this.normal[i+2], 1.0);\n                normal = rotation.multVector(normal);\n                this.normal[i] = normal.x;\n                this.normal[i+1] = normal.y;\n                this.normal[i+2] = normal.z;\n            }\n        }\n        this.build();\n    }\n    \n    \n};","\nimport Engine from \"../utils/Engine\";\n\nlet s_shaderLibrary = null;\n\t\nfunction defineAll(obj) {\n    Reflect.defineProperty(obj,\"all\", {\n        get() {\n            if (!this._all) {\n                this._all = [];\n                for (let key in obj) {\n                    if (typeof(obj[key])==\"object\" && obj[key].name) {\n                        this._all.push(obj[key]);\n                    }\n                }\n            }\n            return this._all;\n        }\n    });\n}\n\nexport default class ShaderLibrary {\n    static Get() {\n        if (!s_shaderLibrary) {\n            s_shaderLibrary = new ShaderLibrary();\n        }\n        return s_shaderLibrary;\n    }\n    \n    constructor() {\n        let library = Engine.Get().shaderLibrary;\n        \n        for (let key in library) {\n            this[key] = library[key];\n        }\n        \n        defineAll(this.inputs.matrix);\n        Object.defineProperty(this.inputs.matrix,\"modelViewProjection\",{\n            get() {\n                return [\n                    this.model,\n                    this.view,\n                    this.projection\n                ]\n            }\n        });\n        defineAll(this.inputs.material);\n        defineAll(this.inputs.lighting);\n        defineAll(this.inputs.lightingForward);\n        defineAll(this.inputs.shadows);\n        defineAll(this.inputs.colorCorrection);\n        defineAll(this.functions.materials);\n        defineAll(this.functions.colorCorrection);\n        defineAll(this.functions.lighting);\n        defineAll(this.functions.utils);\n\n        // PBR materials\n        for (let key in this.inputs.pbr) {\n            defineAll(this.inputs.pbr[key]);\n        }\n        for (let key in this.functions.pbr) {\n            defineAll(this.functions.pbr[key]);\n        }\n    }\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import Engine from \"../utils/Engine\";\n\nexport class ShaderSourceImpl {\n    header(shaderType) { return \"\"; }\n    parameter(shaderType,paramData) { return paramData.name; }\n    func(shaderType,funcData) { return funcData.name; }\n}\n\nexport default class ShaderSource {\n    static FormatSource(src) {\n        let result = \"\";\n        let lines = src.replace(/^\\n*/,\"\").replace(/\\n*$/,\"\").split(\"\\n\");\n        let minTabs = 100;\n        lines.forEach((line) => {\n            let tabsInLine = /(\\t*)/.exec(line)[0].length;\n            if (minTabs>tabsInLine) {\n                minTabs = tabsInLine;\n            }\n        });\n        \n        lines.forEach((line) => {\n            let tabsInLine = /(\\t*)/.exec(line)[0].length;\n            let diff = tabsInLine - minTabs;\n            result += line.slice(tabsInLine - diff,line.length) + \"\\n\";\n        });\n        \n        return result.replace(/^\\n*/,\"\").replace(/\\n*$/,\"\");\n    }\n    \n    constructor(type) {\n        this._type = type;\n        this._params = [];\n        this._functions = [];\n        this._requiredExtensions = [];\n        this._header = \"\";\n        this._preprocessor = \"\";\n    }\n    \n    get type() { return this._type; }\n    get params() { return this._params; }\n    get header() { return this._header; }\n    get functions() { return this._functions; }\n    \n    addParameter(param) {\n        if (param instanceof Array) {\n            this._params = [...this._params, ...param];\n        }\n        else {\n            this._params.push(param);\n        }\n        this._params.push(null);\t// This will be translated into a new line character\n    }\n    \n    addFunction(func) {\n        if (func instanceof Array) {\n            this._functions = [...this._functions, ...func];\n        }\n        else {\n            this._functions.push(func);\n        }\n    }\n    \n    setMainBody(body) {\n        this.addFunction({\n            returnType:\"void\", name:\"main\", params:{}, body:body\n        });\n    }\n            \n    appendHeader(src) {\n        this._header += src + \"\\n\";\n    }\n\n    appendPreprocessor(src) {\n        this._preprocessor += src + \"\\n\";\n    }\n            \n    toString() {\n        let impl = Engine.Get().shaderSource;\n        // Build header\n        let src = this._preprocessor;\n        src += impl.header(this.type) + \"\\n\" + this._header + \"\\n\\n\";\n        \n        this.params.forEach((p) => {\n            src += impl.parameter(this.type,p) + \"\\n\";\n        });\n        \n        this.functions.forEach((f) => {\n            src += \"\\n\" + impl.func(this.type,f) + \"\\n\";\n        })\n        return src;\n    }\n}\n","\n\nimport Texture from \"./Texture\";\nimport { Vector2 } from \"../math/Vector\";\n\nwindow.s_bg_base_textureCache = {};\n\t\nlet COLOR_TEXTURE_SIZE = 8;\n\nconst s_whiteTexture = \"static-white-color-texture\";\nconst s_blackTexture = \"static-black-color-texture\";\nconst s_normalTexture = \"static-normal-color-texture\";\nconst s_randomTexture = \"static-random-color-texture\";\nconst s_whiteCubemap = \"static-white-cubemap-texture\";\nconst s_blackCubemap = \"static-white-cubemap-texture\";\n\nexport default class TextureCache {\n    static SetColorTextureSize(size) { COLOR_TEXTURE_SIZE = size; }\n    static GetColorTextureSize() { return COLOR_TEXTURE_SIZE; }\n\n    static WhiteCubemap(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_whiteCubemap);\n\n        if (!tex) {\n            tex = Texture.WhiteCubemap(context);\n            cache.register(s_whiteCubemap,tex);\n        }\n        return tex;\n    }\n\n    static BlackCubemap(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_blackCubemap);\n\n        if (!tex) {\n            tex = Texture.BlackCubemap(context);\n            cache.register(s_blackCubemap,tex);\n        }\n        return tex;\n    }\n    \n    static WhiteTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_whiteTexture);\n        \n        if (!tex) {\n            tex = Texture.WhiteTexture(context,new Vector2(COLOR_TEXTURE_SIZE));\n            cache.register(s_whiteTexture,tex);\n        }\n        \n        return tex;\n    }\n    \n    static BlackTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_blackTexture);\n        \n        if (!tex) {\n            tex = Texture.BlackTexture(context,new Vector2(COLOR_TEXTURE_SIZE));\n            cache.register(s_blackTexture,tex);\n        }\n        \n        return tex;\n    }\n    \n    static NormalTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_normalTexture);\n        \n        if (!tex) {\n            tex = Texture.NormalTexture(context,new Vector2(COLOR_TEXTURE_SIZE));\n            cache.register(s_normalTexture,tex);\n        }\n        \n        return tex;\n    }\n\n    static RandomTexture(context) {\n        let cache = TextureCache.Get(context);\n        let tex = cache.find(s_randomTexture);\n\n        if (!tex) {\n            tex = Texture.RandomTexture(context,new Vector2(64));\n            cache.register(s_randomTexture,tex);\n        }\n\n        return tex;\n    }\n    \n    static Get(context) {\n        if (!window.s_bg_base_textureCache[context.uuid]) {\n            window.s_bg_base_textureCache[context.uuid] = new TextureCache(context);\n        }\n        return window.s_bg_base_textureCache[context.uuid];\n    }\n\n    static PrecomputedBRDFLookupTexture(context) {\n        if (!window.s_bg_base_textureCache[\"_bg_base_brdfLutData_\"]) {\n            window.s_bg_base_textureCache[\"_bg_base_brdfLutData_\"] = Texture.PrecomputedBRDFLookupTexture(context);\n        }\n        return window.s_bg_base_textureCache[\"_bg_base_brdfLutData_\"];\n    }\n    \n    constructor(context) {\n        this._context = context;\n        this._textures = {};\n    }\n    \n    find(url) {\n        return this._textures[url];\n    }\n    \n    register(url,texture) {\n        if (texture instanceof Texture) {\n            this._textures[url] = texture;\n        }\n    }\n    \n    unregister(url) {\n        if (this._textures[url]) {\n            delete this._textures[url];\n        }\n    }\n    \n    clear() {\n        this._textures = {};\n    }\n}","\nimport Texture, { TextureWrap, TextureFilter } from \"./Texture\";\nimport TextureCache from \"./TextureCache\";\nimport Resource from \"../utils/Resource\";\nimport { LoaderPlugin } from \"./Loader\";\n\nwindow.s_bg_base_textureLoaderPlugin_wrapX = null;\nwindow.s_bg_base_textureLoaderPlugin_wrapY = null;\nwindow.s_bg_base_textureLoaderPlugin_minFilter = null;\nwindow.s_bg_base_textureLoaderPlugin_magFilter = null;\n\n/* Extra data:\n * \twrapX\n *  wrapY\n *  minFilter\n *  magFilter\n */\nexport default class TextureLoaderPlugin extends LoaderPlugin {\n    static GetWrapX() {\n        return window.s_bg_base_textureLoaderPlugin_wrapX || TextureWrap.REPEAT;\n    }\n\n    static GetWrapY() {\n        return window.s_bg_base_textureLoaderPlugin_wrapY || TextureWrap.REPEAT;\n    }\n\n    static GetMinFilter() {\n        return window.s_bg_base_textureLoaderPlugin_minFilter || TextureFilter.LINEAR_MIPMAP_NEAREST;\n    }\n\n    static GetMagFilter() {\n        return window.s_bg_base_textureLoaderPlugin_magFilter || TextureFilter.LINEAR;\n    }\n\n    static SetMinFilter(f) {\n        window.s_bg_base_textureLoaderPlugin_minFilter = f;\n    }\n\n    static SetMagFilter(f) {\n        window.s_bg_base_textureLoaderPlugin_magFilter = f;\n    }\n\n    static SetWrapX(w) {\n        window.s_bg_base_textureLoaderPlugin_wrapX = w;\n    }\n\n    static SetWrapY(w) {\n        window.s_bg_base_textureLoaderPlugin_wrapY = w;\n    }\n    \n    acceptType(url,data) {\n        return Resource.IsImage(url);\n    }\n    \n    load(context,url,data,extraData) {\n        return new Promise((accept,reject) => {\n            if (data) {\n                let texture = TextureCache.Get(context).find(url);\n                if (!texture) {\n                    console.log(`Texture ${url} not found. Loading texture`);\n                    texture = new Texture(context);\n                    texture.create();\n                    texture.bind();\n                    texture.wrapX = extraData.wrapX || TextureLoaderPlugin.GetWrapX();\n                    texture.wrapY = extraData.wrapY || TextureLoaderPlugin.GetWrapY();\n                    texture.minFilter = extraData.minFilter || TextureLoaderPlugin.GetMinFilter();\n                    texture.magFilter = extraData.magFilter || TextureLoaderPlugin.GetMagFilter();\n                    texture.setImage(data);\n                    texture.fileName = url;\n                    TextureCache.Get(context).register(url,texture);\n                }\n                accept(texture);\n            }\n            else {\n                reject(new Error(\"Error loading texture image data\"));\n            }\n        });\n    }\n}\n","import ContextObject from \"../app/ContextObject\";\nimport { seededRandom, checkPowerOfTwo } from \"../math/functions\";\nimport TextureCache from \"./TextureCache\";\nimport TextureLoaderPlugin from \"./TextureLoaderPlugin\";\nimport { emitImageLoadEvent } from \"../utils/Resource\";\nimport { Vector2, Vector3, Color } from \"../math/Vector\";\nimport Engine from \"../utils/Engine\";\n\nexport const TextureUnit = {\n    TEXTURE_0: 0,\n    TEXTURE_1: 1,\n    TEXTURE_2: 2,\n    TEXTURE_3: 3,\n    TEXTURE_4: 4,\n    TEXTURE_5: 5,\n    TEXTURE_6: 6,\n    TEXTURE_7: 7,\n    TEXTURE_8: 8,\n    TEXTURE_9: 9,\n    TEXTURE_10: 10,\n    TEXTURE_11: 11,\n    TEXTURE_12: 12,\n    TEXTURE_13: 13,\n    TEXTURE_14: 14,\n    TEXTURE_15: 15,\n    TEXTURE_16: 16,\n    TEXTURE_17: 17,\n    TEXTURE_18: 18,\n    TEXTURE_19: 19,\n    TEXTURE_20: 20,\n    TEXTURE_21: 21,\n    TEXTURE_22: 22,\n    TEXTURE_23: 23,\n    TEXTURE_24: 24,\n    TEXTURE_25: 25,\n    TEXTURE_26: 26,\n    TEXTURE_27: 27,\n    TEXTURE_28: 28,\n    TEXTURE_29: 29,\n    TEXTURE_30: 30\n};\n\nexport const TextureWrap = {\n    REPEAT: null,\n    CLAMP: null,\n    MIRRORED_REPEAT: null\n};\n\nexport const TextureFilter = {\n    NEAREST_MIPMAP_NEAREST: null,\n    LINEAR_MIPMAP_NEAREST: null,\n    NEAREST_MIPMAP_LINEAR: null,\n    LINEAR_MIPMAP_LINEAR: null,\n    NEAREST: null,\n    LINEAR: null\n};\n\nexport const TextureTarget = {\n    TEXTURE_2D: null,\n    CUBE_MAP: null,\n    POSITIVE_X_FACE: null,\n    NEGATIVE_X_FACE: null,\n    POSITIVE_Y_FACE: null,\n    NEGATIVE_Y_FACE: null,\n    POSITIVE_Z_FACE: null,\n    NEGATIVE_Z_FACE: null\n};\n    \nexport class TextureImpl {\n    constructor(context) {\n        this.initFlags(context);\n    }\n\n    initFlags(context) {\n        console.log(\"TextureImpl: initFlags() method not implemented\");\n    }\n    \n    create(context) {\n        console.log(\"TextureImpl: create() method not implemented\");\n        return null;\n    }\n    \n    setActive(context,texUnit) {\n        console.log(\"TextureImpl: setActive() method not implemented\");\n    }\n    \n    bind(context,target,texture) {\n        console.log(\"TextureImpl: bind() method not implemented\");\n    }\n    \n    unbind(context,target) {\n        console.log(\"TextureImpl: unbind() method not implemented\");\n    }\n    \n    setTextureWrapX(context,target,texture,wrap) {\n        console.log(\"TextureImpl: setTextureWrapX() method not implemented\");\n    }\n    \n    setTextureWrapY(context,target,texture,wrap) {\n        console.log(\"TextureImpl: setTextureWrapY() method not implemented\");\n    }\n    \n    setImage(context,target,minFilter,magFilter,texture,img,flipY) {\n        console.log(\"TextureImpl: setImage() method not implemented\");\n    }\n    \n    setImageRaw(context,target,minFilter,magFilter,texture,width,height,data) {\n        console.log(\"TextureImpl: setImageRaw() method not implemented\");\n    }\n\n    setTextureFilter(context,target,minFilter,magFilter) {\n        console.log(\"TextureImpl: setTextureFilter() method not implemented\");\n    }\n\n    setCubemapImage(context,face,image) {\n        console.log(\"TextureImpl: setCubemapImage() method not implemented\");\n    }\n\n    setCubemapRaw(context,face,rawImage,w,h) {\n        console.log(\"TextureImpl: setCubemapRaw() method not implemented\");\n    }\n\n    setVideo(context,target,texture,video,flipY) {\n        console.log(\"TextureImpl: setVideo() method not implemented\");\n    }\n\n    updateVideoData(context,target,texture,video) {\n        console.log(\"TextureImpl: updateVideoData() method not implemented\");\n    }\n\n    destroy(context,texture) {\n        console.log(\"TextureImpl: destroy() method not implemented\");\n    }\n}\n\n\nexport const TextureDataType = {\n    NONE: 0,\n    IMAGE: 1,\n    IMAGE_DATA: 2,\n    CUBEMAP: 3,\n    CUBEMAP_DATA: 4,\n    VIDEO: 5\n};\n\nwindow.s_bg_base_base64TexturePreventRemove = [];\n\nexport default class Texture extends ContextObject {\n    static IsPowerOfTwoImage(image) {\n        return checkPowerOfTwo(image.width) && checkPowerOfTwo(image.height);\n    }\n\n    static FromCanvas(context,canvas2d) {\n        return Texture.FromBase64Image(context,canvas2d.toDataURL(\"image/png\"));\n    }\n\n    static UpdateCanvasImage(texture,canvas2d) {\n        if (!texture.valid) {\n            return false;\n        }\n        let imageData = canvas2d.toDataURL(\"image/png\");\n        let recreate = false;\n        if (texture.img.width!=imageData.width || texture.img.height!=imageData.height) {\n            recreate = true;\n        }\n        texture.img = new Image();\n        window.s_bg_base_base64TexturePreventRemove.push(texture);\n        setTimeout(() => {\n            texture.bind();\n            if (Texture.IsPowerOfTwoImage(texture.img)) {\n                texture.minFilter = TextureLoaderPlugin.GetMinFilter();\n                texture.magFilter = TextureLoaderPlugin.GetMagFilter();\n            }\n            else {\n                texture.minFilter = TextureFilter.NEAREST;\n                texture.magFilter = TextureFilter.NEAREST;\n                texture.wrapX = TextureWrap.CLAMP;\n                texture.wrapY = TextureWrap.CLAMP;\n            }\n            texture.setImage(texture.img,true);\n            texture.unbind();\n            let index = window.s_bg_base_base64TexturePreventRemove.indexOf(texture);\n            if (index!=-1) {\n                window.s_bg_base_base64TexturePreventRemove.splice(index,1);\n            }\n            emitImageLoadEvent(texture.img);\n        },10);\n        texture.img.src = imageData;\n        \n        return texture;\n    }\n\n    static FromBase64Image(context,imgData) {\n        let tex = new Texture(context);\n        tex.img = new Image();\n        window.s_bg_base_base64TexturePreventRemove.push(tex);\n        setTimeout(() => {\n            tex.create();\n            tex.bind();\n            if (Texture.IsPowerOfTwoImage(tex.img)) {\n                tex.minFilter = TextureLoaderPlugin.GetMinFilter();\n                tex.magFilter = TextureLoaderPlugin.GetMagFilter();\n            }\n            else {\n                tex.minFilter = TextureFilter.NEAREST;\n                tex.magFilter = TextureFilter.NEAREST;\n                tex.wrapX = TextureWrap.CLAMP;\n                tex.wrapY = TextureWrap.CLAMP;\n            }\n            tex.setImage(tex.img,false);\t// Check this: flip base64 image?\n            tex.unbind();\n            let index = window.s_bg_base_base64TexturePreventRemove.indexOf(tex);\n            if (index!=-1) {\n                window.s_bg_base_base64TexturePreventRemove.splice(index,1);\n            }\n            emitImageLoadEvent(tex.img);\n        },10);\n        tex.img.src = imgData;\n        \n        return tex;\n    }\n    \n    static ColorTexture(context,color,size) {\n        let colorTexture = new Texture(context);\n        colorTexture.create();\n        colorTexture.bind();\n\n        var dataSize = size.width * size.height * 4;\n        var textureData = [];\n        for (var i = 0; i < dataSize; i+=4) {\n            textureData[i]   = color.r * 255;\n            textureData[i+1] = color.g * 255;\n            textureData[i+2] = color.b * 255;\n            textureData[i+3] = color.a * 255;\n        }\n        \n        textureData = new Uint8Array(textureData);\n\n        colorTexture.minFilter = TextureFilter.NEAREST;\n        colorTexture.magFilter = TextureFilter.NEAREST;\n        colorTexture.setImageRaw(size.width,size.height,textureData);\n        colorTexture.unbind();\n\n        return colorTexture;\n    }\n    \n    static WhiteTexture(context,size) {\n        return Texture.ColorTexture(context,Color.White(),size);\n    }\n\n    static WhiteCubemap(context) {\n        return Texture.ColorCubemap(context, Color.White());\n    }\n\n    static BlackCubemap(context) {\n        return Texture.ColorCubemap(context, Color.Black());\n    }\n\n    static ColorCubemap(context,color) {\n        let cm = new Texture(context);\n        cm.target = TextureTarget.CUBE_MAP;\n        cm.create();\n        cm.bind();\n\n        let dataSize = 32 * 32 * 4;\n        let textureData = [];\n        for (let i = 0; i<dataSize; i+=4) {\n            textureData[i] \t\t= color.r * 255;\n            textureData[i + 1] \t= color.g * 255;\n            textureData[i + 2] \t= color.b * 255;\n            textureData[i + 3] \t= color.a * 255;\n        }\n\n        textureData = new Uint8Array(textureData);\n\n        cm.setCubemapRaw(\n            32,\n            32,\n            textureData,\n            textureData,\n            textureData,\n            textureData,\n            textureData,\n            textureData\n        );\n\n        cm.unbind();\n        return cm;\n    }\n    \n    static NormalTexture(context,size) {\n        return Texture.ColorTexture(context,new Color(0.5,0.5,1,1),size);\n    }\n    \n    static BlackTexture(context,size) {\n        return Texture.ColorTexture(context,Color.Black(),size);\n    }\n\n    static RandomTexture(context,size) {\n        let colorTexture = new Texture(context);\n        colorTexture.create();\n        colorTexture.bind();\n\n        var dataSize = size.width * size.height * 4;\n        var textureData = [];\n        for (var i = 0; i < dataSize; i+=4) {\n            let randVector = new Vector3(seededRandom() * 2.0 - 1.0,\n                                        seededRandom() * 2.0 - 1.0,\n                                        0);\n            randVector.normalize();\n\n            textureData[i]   = randVector.x * 255;\n            textureData[i+1] = randVector.y * 255;\n            textureData[i+2] = randVector.z * 255;\n            textureData[i+3] = 1;\n        }\n        \n        textureData = new Uint8Array(textureData);\n\n        colorTexture.minFilter = TextureFilter.NEAREST;\n        colorTexture.magFilter = TextureFilter.NEAREST;\n        colorTexture.setImageRaw(size.width,size.height,textureData);\n        colorTexture.unbind();\n\n        return colorTexture;\n    }\n\n    /*\n     *\tPrecomputed BRDF, for using with PBR shaders\n     */\n    static PrecomputedBRDFLookupTexture(context) {\n        return new Promise((resolve) => {\n            import(/* webpackChunkName: \"brdfLUT\" */ \"./BRDFLutData\")\n                .then(brdf => {\n                    return Texture.FromBase64Image(context, brdf);\n                })\n                .then((tex) => {\n                    resolve(tex);\n                })\n                .catch(err => {\n                    console.error(\"Error loading BRDF lut data\");\n                    console.error(err);\n                });\n        });\n    }\n\n    /*\n     *\tCreate a texture using an image.\n     *\t\tcontext: the rendering context\n     *\t\timage: a valid image object (for example, an <image> tag)\n     *\t\turl: unique URL for this image, used as index for the texture cache\n     */\n    static FromImage(context,image,url) {\n        let texture = null;\n        if (image) {\n            texture = TextureCache.Get(context).find(url);\n            if (!texture) {\n                console.debug(`Texture ${url} not found. Loading texture`);\n                texture = new Texture(context);\n                texture.create();\n                texture.bind();\n                texture.minFilter = TextureLoaderPlugin.GetMinFilter();\n                texture.magFilter = TextureLoaderPlugin.GetMagFilter();\n                texture.setImage(image);\n                texture.fileName = url;\n                TextureCache.Get(context).register(url,texture);\n            }\n        }\n        return texture;\n    }\n    \n    static SetActive(context,textureUnit) {\n        Engine.Get().texture.setActive(context,textureUnit);\n    }\n    \n    static Unbind(context, target) {\n        if (!target) {\n            target = TextureTarget.TEXTURE_2D;\n        }\n        Engine.Get().texture.unbind(context,target);\n    }\n    \n    constructor(context) {\n        super(context);\n        \n        this._texture = null;\n        this._fileName = \"\";\n        this._size = new Vector2(0);\n        this._target = TextureTarget.TEXTURE_2D;\n        \n        this._minFilter = TextureFilter.LINEAR;\n        this._magFilter = TextureFilter.LINEAR;\n        \n        this._wrapX = TextureWrap.REPEAT;\n        this._wrapY = TextureWrap.REPEAT;\n\n        this._video = null;\n    }\n    \n    get texture() { return this._texture; }\n    get target() { return this._target; }\n    set target(t) { this._target = t; }\n    get fileName() { return this._fileName; }\n    set fileName(fileName) { this._fileName = fileName; }\n    set minFilter(f) { this._minFilter = f; }\n    set magFilter(f) { this._magFilter = f; }\n    get minFilter() { return this._minFilter; }\n    get magFilter() { return this._magFilter; }\n    set wrapX(w) { this._wrapX = w; }\n    set wrapY(w) { this._wrapY = w; }\n    get wrapX() { return this._wrapX; }\n    get wrapY() { return this._wrapY; }\n    get size() { return this._size; }\n    \n\n    // Access to image data structures\n    get image() { return this._image; }\n    get imageData() { return this._imageData; }\n    get cubeMapImages() { return this._cubeMapImages; }\n    get cubeMapData() { return this._cubeMapData; }\n    get video() { return this._video; }\n\n    get dataType() {\n        if (this._image) {\n            return TextureDataType.IMAGE;\n        }\n        else if (this._imageData) {\n            return TextureDataType.IMAGE_DATA;\n        }\n        else if (this._cubeMapImages) {\n            return TextureDataType.CUBEMAP;\n        }\n        else if (this._cubeMapData) {\n            return TextureDataType.CUBEMAP_DATA;\n        }\n        else if (this._video) {\n            return TextureDataType.VIDEO;\n        }\n        else {\n            return TextureDataType.NONE;\n        }\n    }\n\n    create() {\n        if (this._texture!==null) {\n            this.destroy()\n        }\n        this._texture = Engine.Get().texture.create(this.context);\n    }\n    \n    setActive(textureUnit) {\n        Engine.Get().texture.setActive(this.context,textureUnit);\n    }\n    \n    \n    bind() {\n        Engine.Get().texture.bind(this.context,this._target,this._texture);\n    }\n    \n    unbind() {\n        Texture.Unbind(this.context,this._target);\n    }\n    \n    setImage(img, flipY) {\n        if (flipY===undefined) flipY = true;\n        this._size.width = img.width;\n        this._size.height = img.height;\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapY(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setImage(this.context,this._target,this._minFilter,this._magFilter,this._texture,img,flipY);\n\n        this._image = img;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n        this._video = null;\n    }\n\n    updateImage(img, flipY) {\n        if (flipY===undefined) flipY = true;\n        this._size.width = img.width;\n        this._size.height = img.height;\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapY(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setImage(this.context,this._target,this._minFilter,this._magFilter,this._texture,img,flipY);\n\n        this._image = img;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n        this._video = null;\n    }\n    \n    setImageRaw(width,height,data,type,format) {\n        if (!type) {\n            type = this.context.RGBA;\n        }\n        if (!format) {\n            format = this.context.UNSIGNED_BYTE;\n        }\n        this._size.width = width;\n        this._size.height = height;\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapY(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setImageRaw(this.context,this._target,this._minFilter,this._magFilter,this._texture,width,height,data,type,format);\n\n        this._image = null;\n        this._imageData = data;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n        this._video = null;\n    }\n\n    setCubemap(posX,negX,posY,negY,posZ,negZ) {\n        Engine.Get().texture.bind(this.context,this._target,this._texture);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setTextureFilter(this.context,this._target,this._minFilter,this._magFilter);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.POSITIVE_X_FACE,posX);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.NEGATIVE_X_FACE,negX);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.POSITIVE_Y_FACE,posY);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.NEGATIVE_Y_FACE,negY);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.POSITIVE_Z_FACE,posZ);\n        Engine.Get().texture.setCubemapImage(this.context,TextureTarget.NEGATIVE_Z_FACE,negZ);\n\n        this._image = null;\n        this._imageData = null;\n        this._cubeMapImages = {\n            posX: posX,\n            negX: negX,\n            posY: posY,\n            negY: negY,\n            posZ: posZ,\n            negZ: negZ\n        };\n        this._cubeMapData = null;\n        this._video = null;\n    }\n\n    setCubemapRaw(w,h,posX,negX,posY,negY,posZ,negZ) {\n        Engine.Get().texture.bind(this.context,this._target,this._texture);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapX);\n        Engine.Get().texture.setTextureWrapX(this.context,this._target,this._texture,this._wrapY);\n        Engine.Get().texture.setTextureFilter(this.context,this._target,this._minFilter,this._magFilter);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.POSITIVE_X_FACE,posX,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.NEGATIVE_X_FACE,negX,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.POSITIVE_Y_FACE,posY,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.NEGATIVE_Y_FACE,negY,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.POSITIVE_Z_FACE,posZ,w,h);\n        Engine.Get().texture.setCubemapRaw(this.context,TextureTarget.NEGATIVE_Z_FACE,negZ,w,h);\n\n        this._image = null;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = {\n            width: w,\n            height: h,\n            posX:posX,\n            negX:negX,\n            posY:posY,\n            negY:negY,\n            posZ:posZ,\n            negZ:negZ\n        };\n        this._video = null;\n    }\n\n    setVideo(video, flipY) {\n        if (flipY===undefined) flipY = true;\n        this._size.width = video.videoWidth;\n        this._size.height = video.videoHeight;\n        Engine.Get().texture.setVideo(this.context,this._target,this._texture,video,flipY);\n        this._video = video;\n\n        this._image = null;\n        this._imageData = null;\n        this._cubeMapImages = null;\n        this._cubeMapData = null;\n    }\n\n    destroy() {\n        Engine.Get().texture.destroy(this.context,this._texture);\n        this._texture = null;\n        this._minFilter = null;\n        this._magFilter = null;\n        this._fileName = \"\";\n    }\n\n    valid() {\n        return this._texture!==null;\n    }\n\n    update() {\n        Engine.Get().texture.updateVideoData(this.context,this._target,this._texture,this._video);\n    }\n}\n","import Engine from \"../utils/Engine\";\nimport Effect from \"./Effect\";\nimport ShaderLibrary from \"./ShaderLibrary\";\nimport ShaderSource from \"./ShaderSource\";\nimport PolyList from \"./PolyList\";\nimport { ShaderType } from \"./Shader\";\n\nconst lib = () => {\n    return ShaderLibrary.Get();\n}\n\nexport default class TextureEffect extends Effect {\n    constructor(context) {\n        super(context);\n\n        this._frame = new PolyList(context);\n        \n        this._frame.vertex = [ 1, 1, 0, -1, 1, 0, -1,-1, 0,1,-1, 0 ];\n        this._frame.texCoord0 = [ 1, 1, 0, 1, 0, 0, 1, 0 ];\n        this._frame.index = [ 0, 1, 2,  2, 3, 0 ];\n        \n        this._frame.build();\n        \n        this.rebuildShaders();\n    }\n\n    rebuildShaders() {\n        this.setupShaderSource([\n            this.vertexShaderSource,\n            this.fragmentShaderSource\n        ]);\n    }\n    \n    get vertexShaderSource() {\n        if (!this._vertexShaderSource) {\n            this._vertexShaderSource = new ShaderSource(ShaderType.VERTEX);\n            this._vertexShaderSource.addParameter([\n                lib().inputs.buffers.vertex,\n                lib().inputs.buffers.tex0,\n                { name:\"fsTexCoord\", dataType:\"vec2\", role:\"out\" }\n            ]);\n            \n            if (Engine.Get().id==\"webgl1\") {\n                this._vertexShaderSource.setMainBody(`\n                gl_Position = vec4(inVertex,1.0);\n                fsTexCoord = inTex0;`);\n            }\n        }\n        return this._vertexShaderSource;\n    }\n    \n    get fragmentShaderSource() {\n        if (!this._fragmentShaderSource) {\n            this._fragmentShaderSource = new ShaderSource(ShaderType.FRAGMENT);\n            this._fragmentShaderSource.addParameter(\n                { name:\"fsTexCoord\", dataType:\"vec2\", role:\"in\" }\n            );\n            \n            if (Engine.Get().id==\"webgl1\") {\n                this._fragmentShaderSource.setMainBody(`\n                gl_FragColor = vec4(0.0,0.0,0.0,1.0);`);\n            }\n        }\n        return this._fragmentShaderSource;\n    }\n    \n    //setupVars() {\n    // this._surface contains the surface passed to drawSurface\n    //}\n\n    drawSurface(surface) {\n        this.setActive();\n        this._surface = surface;\n        this.bindPolyList(this._frame);\n        this._frame.draw();\n        this.unbind();\n        this.clearActive();\n    }    \n}\n","\nconst MaterialFlag = {\n    DIFFUSE\t\t\t\t\t\t\t: 1 << 0,\n    SPECULAR\t\t\t\t\t\t: 1 << 1,\n    SHININESS\t\t\t\t\t\t: 1 << 2,\n    LIGHT_EMISSION\t\t\t\t\t: 1 << 3,\n    REFRACTION_AMOUNT\t\t\t\t: 1 << 4,\n    REFLECTION_AMOUNT\t\t\t\t: 1 << 5,\n    TEXTURE\t\t\t\t\t\t\t: 1 << 6,\n    LIGHT_MAP\t\t\t\t\t\t: 1 << 7,\n    NORMAL_MAP\t\t\t\t\t\t: 1 << 8,\n    TEXTURE_OFFSET\t\t\t\t\t: 1 << 9,\n    TEXTURE_SCALE\t\t\t\t\t: 1 << 10,\n    LIGHT_MAP_OFFSET\t\t\t\t: 1 << 11,\n    LIGHT_MAP_SCALE\t\t\t\t\t: 1 << 12,\n    NORMAL_MAP_OFFSET\t\t\t\t: 1 << 13,\n    NORMAL_MAP_SCALE\t\t\t\t: 1 << 14,\n    CAST_SHADOWS\t\t\t\t\t: 1 << 15,\n    RECEIVE_SHADOWS\t\t\t\t\t: 1 << 16,\n    ALPHA_CUTOFF\t\t\t\t\t: 1 << 17,\n    SHININESS_MASK\t\t\t\t\t: 1 << 18,\n    SHININESS_MASK_CHANNEL\t\t\t: 1 << 19,\n    SHININESS_MASK_INVERT\t\t\t: 1 << 20,\n    LIGHT_EMISSION_MASK\t\t\t\t: 1 << 21,\n    LIGHT_EMISSION_MASK_CHANNEL\t\t: 1 << 22,\n    LIGHT_EMISSION_MASK_INVERT\t\t: 1 << 23,\n    REFLECTION_MASK\t\t\t\t\t: 1 << 24,\n    REFLECTION_MASK_CHANNEL\t\t\t: 1 << 25,\n    REFLECTION_MASK_INVERT\t\t\t: 1 << 26,\n    CULL_FACE\t\t\t\t\t\t: 1 << 27,\n    ROUGHNESS\t\t\t\t\t\t: 1 << 28,\t// All the roughness attributes are controlled by this flag\n    UNLIT\t\t\t\t\t\t\t: 1 << 29\n};\n\nexport default MaterialFlag;\n","\nimport { Vector2, Color } from \"../math/Vector\";\nimport MaterialFlag from \"./MaterialFlag\";\n\nexport default class MaterialModifier {\n    constructor(jsonData) {\n        this._modifierFlags = 0;\n\n        this._diffuse = Color.White();\n        this._specular = Color.White();\n        this._shininess = 0;\n        this._lightEmission = 0;\n        this._refractionAmount = 0;\n        this._reflectionAmount = 0;\n        this._texture = null;\n        this._lightmap = null;\n        this._normalMap = null;\n        this._textureOffset = new Vector2();\n        this._textureScale = new Vector2(1);\n        this._lightmapOffset = new Vector2();\n        this._lightmapScale = new Vector2(1);\n        this._normalMapOffset = new Vector2();\n        this._normalMapScale = new Vector2(1);\n        this._castShadows = true;\n        this._receiveShadows = true;\n        this._alphaCutoff = 0.5;\n        this._shininessMask = null;\n        this._shininessMaskChannel = 0;\n        this._shininessMaskInvert = false;\n        this._lightEmissionMask = null;\n        this._lightEmissionMaskChannel = 0;\n        this._lightEmissionMaskInvert = false;\n        this._reflectionMask = null;\n        this._reflectionMaskChannel = 0;\n        this._reflectionMaskInvert = false;\n        this._cullFace = true;\n        this._roughness = true;\n        this._roughnessMask = null;\n        this._roughnessMaskChannel = 0;\n        this._roughnessMaskInvert = false;\n        this._unlit = false;\n\n        if (jsonData) {\n            if (jsonData.diffuseR!==undefined && jsonData.diffuseG!==undefined && jsonData.diffuseB!==undefined) {\n                this.diffuse = new Color(jsonData.diffuseR,\n                                              jsonData.diffuseG,\n                                              jsonData.diffuseB,\n                                              jsonData.diffuseA ? jsonData.diffuseA : 1.0);\n            }\n            if (jsonData.specularR!==undefined && jsonData.specularG!==undefined && jsonData.specularB!==undefined) {\n                this.specular = new Color(jsonData.specularR,\n                                               jsonData.specularG,\n                                               jsonData.specularB,\n                                               jsonData.specularA ? jsonData.specularA : 1.0);\n            }\n\n            if (jsonData.shininess!==undefined) {\n                this.shininess = jsonData.shininess;\n            }\n\n            if (jsonData.lightEmission!==undefined) {\n                this.lightEmission = jsonData.lightEmission;\n            }\n\n            if (jsonData.refractionAmount!==undefined) {\n                this.refractionAmount = jsonData.refractionAmount;\n            }\n\n            if (jsonData.reflectionAmount!==undefined) {\n                this.reflectionAmount = jsonData.reflectionAmount;\n            }\n\n            if (jsonData.texture!==undefined) {\n                this.texture = jsonData.texture;\n            }\n\n            if (jsonData.lightmap!==undefined) {\n                this.lightmap = jsonData.lightmap;\n            }\n\n\n            if (jsonData.normalMap!==undefined) {\n                this.normalMap = jsonData.normalMap;\n            }\n        \n            if (jsonData.textureOffsetX!==undefined && jsonData.textureOffsetY!==undefined) {\n                this.textureOffset = new Vector2(jsonData.textureOffsetX,\n                                                    jsonData.textureOffsetY);\n            }\n\n            if (jsonData.textureScaleX!==undefined && jsonData.textureScaleY!==undefined) {\n                this.textureScale = new Vector2(jsonData.textureScaleX,\n                                                    jsonData.textureScaleY);\n            }\n\n            if (jsonData.lightmapOffsetX!==undefined && jsonData.lightmapOffsetY!==undefined) {\n                this.lightmapOffset = new Vector2(jsonData.lightmapOffsetX,\n                                                     jsonData.lightmapOffsetY);\n            }\n\n            if (jsonData.lightmapScaleX!==undefined && jsonData.lightmapScaleY!==undefined) {\n                this.lightmapScale = new Vector2(jsonData.lightmapScaleX,\n                                                     jsonData.lightmapScaleY);\n            }\n\n            if (jsonData.normalMapScaleX!==undefined && jsonData.normalMapScaleY!==undefined) {\n                this.normalMapScale = new Vector2(jsonData.normalMapScaleX,\n                                                     jsonData.normalMapScaleY);\n            }\n\n            if (jsonData.normalMapOffsetX!==undefined && jsonData.normalMapOffsetY!==undefined) {\n                this.normalMapOffset = new Vector2(jsonData.normalMapOffsetX,\n                                                     jsonData.normalMapOffsetY);\n            }\n\n            if (jsonData.castShadows!==undefined) {\n                this.castShadows = jsonData.castShadows;\n            }\n            if (jsonData.receiveShadows!==undefined) {\n                this.receiveShadows = jsonData.receiveShadows;\n            }\n            \n            if (jsonData.alphaCutoff!==undefined) {\n                this.alphaCutoff = jsonData.alphaCutoff;\n            }\n\n            if (jsonData.shininessMask!==undefined) {\n                this.shininessMask = jsonData.shininessMask;\n            }\n            if (jsonData.shininessMaskChannel!==undefined) {\n                this.shininessMaskChannel = jsonData.shininessMaskChannel;\n            }\n            if (jsonData.invertShininessMask!==undefined) {\n                this.shininessMaskInvert = jsonData.invertShininessMask;\n            }\n\n            if (jsonData.lightEmissionMask!==undefined) {\n                this.lightEmissionMask = jsonData.lightEmissionMask;\n            }\n            if (jsonData.lightEmissionMaskChannel!==undefined) {\n                this.lightEmissionMaskChannel = jsonData.lightEmissionMaskChannel;\n            }\n            if (jsonData.invertLightEmissionMask!==undefined) {\n                this.lightEmissionMaskInvert = jsonData.invertLightEmissionMask;\n            }\n            \n            if (jsonData.reflectionMask!==undefined) {\n                this.reflectionMask = jsonData.reflectionMask;\n            }\n            if (jsonData.reflectionMaskChannel!==undefined) {\n                this.reflectionMaskChannel = jsonData.reflectionMaskChannel;\n            }\n            if (jsonData.invertReflectionMask!==undefined) {\n                this.reflectionMaskInvert = jsonData.reflectionMaskInvert;\n            }\n\n            if (jsonData.roughness!==undefined) {\n                this.roughness = jsonData.roughness;\n            }\n            if (jsonData.roughnessMask!==undefined) {\n                this.roughnessMask = jsonData.roughnessMask;\n            }\n            if (jsonData.roughnessMaskChannel!==undefined) {\n                this.roughnessMaskChannel = jsonData.roughnessMaskChannel;\n            }\n            if (jsonData.invertRoughnessMask!==undefined) {\n                this.roughnessMaskInvert = jsonData.roughnessMaskInvert;\n            }\n\n            if (jsonData.unlit!==undefined) {\n                this.unlit = jsonData.unlit;\n            }\n        }\n    }\n    \n    get modifierFlags() { return this._modifierFlags; }\n    set modifierFlags(f) { this._modifierFlags = f; }\n    setEnabled(flag) { this._modifierFlags = this._modifierFlags | flag; }\n    isEnabled(flag) { return (this._modifierFlags & flag)!=0; }\n    \n    get diffuse() { return this._diffuse; } \n    get specular() { return this._specular; } \n    get shininess() { return this._shininess; } \n    get lightEmission() { return this._lightEmission; } \n    get refractionAmount() { return this._refractionAmount; } \n    get reflectionAmount() { return this._reflectionAmount; } \n    get texture() { return this._texture; } \n    get lightmap() { return this._lightmap; } \n    get normalMap() { return this._normalMap; } \n    get textureOffset() { return this._textureOffset; } \n    get textureScale() { return this._textureScale; } \n    get lightmapOffset() { return this._lightmapOffset; } \n    get lightmapScale() { return this._lightmapScale; } \n    get normalMapOffset() { return this._normalMapOffset; } \n    get normalMapScale() { return this._normalMapScale; } \n    get castShadows() { return this._castShadows; } \n    get receiveShadows() { return this._receiveShadows; } \n    get alphaCutoff() { return this._alphaCutoff; } \n    get shininessMask() { return this._shininessMask; } \n    get shininessMaskChannel() { return this._shininessMaskChannel; } \n    get shininessMaskInvert() { return this._shininessMaskInvert; } \n    get lightEmissionMask() { return this._lightEmissionMask; } \n    get lightEmissionMaskChannel() { return this._lightEmissionMaskChannel; } \n    get lightEmissionMaskInvert() { return this._lightEmissionMaskInvert; } \n    get reflectionMask() { return this._reflectionMask; } \n    get reflectionMaskChannel() { return this._reflectionMaskChannel; } \n    get reflectionMaskInvert() { return this._reflectionMaskInvert; } \n    get cullFace() { return this._cullFace; }\n    get roughness() { return this._roughness; }\n    get roughnessMask() { return this._roughnessMask; }\n    get roughnessMaskChannel() { return this._roughnessMaskChannel; }\n    get roughnessMaskInvert() { return this._roughnessMaskInvert; }\n    get unlit() { return this._unlit; }\n\n    set diffuse(newVal) { this._diffuse = newVal; this.setEnabled(MaterialFlag.DIFFUSE); }\n    set specular(newVal) { this._specular = newVal; this.setEnabled(MaterialFlag.SPECULAR); }\n    set shininess(newVal) { if (!isNaN(newVal)) { this._shininess = newVal; this.setEnabled(MaterialFlag.SHININESS); } }\n    set lightEmission(newVal) { if (!isNaN(newVal)) { this._lightEmission = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION); } }\n    set refractionAmount(newVal) { if (!isNaN(newVal)) { this._refractionAmount = newVal; this.setEnabled(MaterialFlag.REFRACTION_AMOUNT); } }\n    set reflectionAmount(newVal) { if (!isNaN(newVal)) { this._reflectionAmount = newVal; this.setEnabled(MaterialFlag.REFLECTION_AMOUNT); } }\n    set texture(newVal) { this._texture = newVal; this.setEnabled(MaterialFlag.TEXTURE); }\n    set lightmap(newVal) { this._lightmap = newVal; this.setEnabled(MaterialFlag.LIGHT_MAP); }\n    set normalMap(newVal) { this._normalMap = newVal; this.setEnabled(MaterialFlag.NORMAL_MAP); }\n    set textureOffset(newVal) { this._textureOffset = newVal; this.setEnabled(MaterialFlag.TEXTURE_OFFSET); }\n    set textureScale(newVal) { this._textureScale = newVal; this.setEnabled(MaterialFlag.TEXTURE_SCALE); }\n    set lightmapOffset(newVal) { this._lightmapOffset = newVal; this.setEnabled(MaterialFlag.LIGHT_MAP_OFFSET); }\n    set lightmapScale(newVal) { this._lightmapScale = newVal; this.setEnabled(MaterialFlag.LIGHT_MAP_SCALE); }\n    set normalMapOffset(newVal) { this._normalMapOffset = newVal; this.setEnabled(MaterialFlag.NORMAL_MAP_OFFSET); }\n    set normalMapScale(newVal) { this._normalMapScale = newVal; this.setEnabled(MaterialFlag.NORMAL_MAP_SCALE); }\n    set castShadows(newVal) { this._castShadows = newVal; this.setEnabled(MaterialFlag.CAST_SHADOWS); }\n    set receiveShadows(newVal) { this._receiveShadows = newVal; this.setEnabled(MaterialFlag.RECEIVE_SHADOWS); }\n    set alphaCutoff(newVal) { if (!isNaN(newVal)) { this._alphaCutoff = newVal; this.setEnabled(MaterialFlag.ALPHA_CUTOFF); } }\n    set shininessMask(newVal) { this._shininessMask = newVal; this.setEnabled(MaterialFlag.SHININESS_MASK); }\n    set shininessMaskChannel(newVal) { this._shininessMaskChannel = newVal; this.setEnabled(MaterialFlag.SHININESS_MASK_CHANNEL); }\n    set shininessMaskInvert(newVal) { this._shininessMaskInvert = newVal; this.setEnabled(MaterialFlag.SHININESS_MASK_INVERT); }\n    set lightEmissionMask(newVal) { this._lightEmissionMask = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION_MASK); }\n    set lightEmissionMaskChannel(newVal) { this._lightEmissionMaskChannel = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL); }\n    set lightEmissionMaskInvert(newVal) { this._lightEmissionMaskInvert = newVal; this.setEnabled(MaterialFlag.LIGHT_EMISSION_MASK_INVERT); }\n    set reflectionMask(newVal) { this._reflectionMask = newVal; this.setEnabled(MaterialFlag.REFLECTION_MASK); }\n    set reflectionMaskChannel(newVal) { this._reflectionMaskChannel = newVal; this.setEnabled(MaterialFlag.REFLECTION_MASK_CHANNEL); }\n    set reflectionMaskInvert(newVal) { this._reflectionMaskInvert = newVal; this.setEnabled(MaterialFlag.REFLECTION_MASK_INVERT); }\n    set cullFace(newVal) { this._cullFace = newVal; this.setEnabled(MaterialFlag.CULL_FACE); }\n    set roughness(newVal) { this._roughness = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set roughnessMask(newVal) { this._roughnessMask = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set roughnessMaskChannel(newVal) { this._roughnessMaskChannel = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set roughnessMaskInvert(newVal) { this._roughnessMaskInvert = newVal; this.setEnabled(MaterialFlag.ROUGHNESS); }\n    set unlit(newVal) { this._unlit = newVal; this.setEnabled(MaterialFlag.UNLIT); }\n\n    clone() {\n        let copy = new MaterialModifier();\n        copy.assign(this);\n        return copy;\n    }\n    \n    assign(mod) {\n        this._modifierFlags = mod._modifierFlags;\n\n        this._diffuse = mod._diffuse;\n        this._specular = mod._specular;\n        this._shininess = mod._shininess;\n        this._lightEmission = mod._lightEmission;\n        this._refractionAmount = mod._refractionAmount;\n        this._reflectionAmount = mod._reflectionAmount;\n        this._texture = mod._texture;\n        this._lightmap = mod._lightmap;\n        this._normalMap = mod._normalMap;\n        this._textureOffset = mod._textureOffset;\n        this._textureScale = mod._textureScale;\n        this._lightmapOffset = mod._lightmapOffset;\n        this._lightmapScale = mod._lightmapScale;\n        this._normalMapOffset = mod._normalMapOffset;\n        this._normalMapScale = mod._normalMapScale;\n        this._castShadows = mod._castShadows;\n        this._receiveShadows = mod._receiveShadows;\n        this._alphaCutoff = mod._alphaCutoff;\n        this._shininessMask = mod._shininessMask;\n        this._shininessMaskChannel = mod._shininessMaskChannel;\n        this._shininessMaskInvert = mod._shininessMaskInvert;\n        this._lightEmissionMask = mod._lightEmissionMask;\n        this._lightEmissionMaskChannel = mod._lightEmissionMaskChannel;\n        this._lightEmissionMaskInvert = mod._lightEmissionMaskInvert;\n        this._reflectionMask = mod._reflectionMask;\n        this._reflectionMaskChannel = mod._reflectionMaskChannel;\n        this._reflectionMaskInvert = mod._reflectionMaskInvert;\n        this._cullFace = mod._cullFace;\n        this._roughness = mod._roughness;\n        this._roughnessMask = mod._roughnessMask;\n        this._roughnessMaskChannel = mod._roughnessMaskChannel;\n        this._roughnessMaskInvert = mod._roughnessMaskInvert;\n        this._unlit = mod._unlit;\n    }\n\n    serialize() {\n        let result = {};\n        let mask = this._modifierFlags;\n\n        if ( mask & MaterialFlag.DIFFUSE) {\n            result.diffuseR = this._diffuse.r;\n            result.diffuseG = this._diffuse.g;\n            result.diffuseB = this._diffuse.b;\n            result.diffuseA = this._diffuse.a;\n        }\n        if ( mask & MaterialFlag.SPECULAR) {\n            result.specularR = this._specular.r;\n            result.specularG = this._specular.g;\n            result.specularB = this._specular.b;\n            result.specularA = this._specular.a;\n        }\n        if ( mask & MaterialFlag.SHININESS) {\n            result.shininess = this._shininess;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK) {\n            result.shininessMask = this._shininessMask;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_CHANNEL) {\n            result.shininessMaskChannel = this._shininessMaskChannel;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_INVERT) {\n            result.invertShininessMask = this._shininessMaskInvert;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION) {\n            result.lightEmission = this._lightEmission;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK) {\n            result.lightEmissionMask = this._lightEmissionMask;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL) {\n            result.lightEmissionMaskChannel = this._lightEmissionMaskChannel;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_INVERT) {\n            result.invertLightEmissionMask = this._lightEmissionMaskInvert;\n        }\n        if ( mask & MaterialFlag.REFRACTION_AMOUNT) {\n            result.reflectionAmount = this._refractionAmount;\n        }\n        if ( mask & MaterialFlag.REFLECTION_AMOUNT) {\n            result.refractionAmount = this._reflectionAmount;\n        }\n        if ( mask & MaterialFlag.TEXTURE) {\n            result.texture = this._texture;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP) {\n            result.lightmap = this._lightmap;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP) {\n            result.normalMap = this._normalMap;\n        }\n        if ( mask & MaterialFlag.TEXTURE_OFFSET) {\n            result.textureScaleX = this._textureScale.x;\n            result.textureScaleY = this._textureScale.y;\n        }\n        if ( mask & MaterialFlag.TEXTURE_SCALE) {\n            result.textureScaleX = this._textureScale.x;\n            result.textureScaleY = this._textureScale.y;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_OFFSET) {\n            result.lightmapOffsetX = this._lightmapOffset.x;\n            result.lightmapOffsetY = this._lightmapOffset.y;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_SCALE) {\n            result.lightmapScaleX = this._lightmapScale.x;\n            result.lightmapScaleY = this._lightmapScale.y;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_OFFSET) {\n            result.normalMapOffsetX = this._normalMapOffset.x;\n            result.normalMapOffsetY = this._normalMapOffset.y;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_SCALE) {\n            result.normalMapScaleX = this._normalMapScale.x;\n            result.normalMapScaleY = this._normalMapScale.y;\n        }\n        if ( mask & MaterialFlag.CAST_SHADOWS) {\n            result.castShadows = this._castShadows;\n        }\n        if ( mask & MaterialFlag.RECEIVE_SHADOWS) {\n            result.receiveShadows = this._receiveShadows;\n        }\n        if ( mask & MaterialFlag.ALPHA_CUTOFF) {\n            result.alphaCutoff = this._alphaCutoff;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK) {\n            result.reflectionMask = this._reflectionMask;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_CHANNEL) {\n            result.reflectionMaskChannel = this._reflectionMaskChannel;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_INVERT) {\n            result.invertReflectionMask = this._reflectionMaskInvert;\n        }\n        if ( mask & MaterialFlag.CULL_FACE) {\n            result.cullFace = this._cullFace;\n        }\n        if ( mask & MaterialFlag.ROUGHNESS) {\n            result.roughness = this._roughness;\n            result.roughnessMask = this._roughnessMask;\n            result.roughnessMaskChannel = this._roughnessMaskChannel;\n            result.invertRoughnessMask = this._roughnessMaskInvert;\n        }\n        if (mask & MaterialFlag.UNLIT) {\n            result.unlit = this._unlit;\n        }\n        return result;\n    }\n}\n","\nimport Texture from \"./Texture\";\nimport MaterialModifier from \"./MaterialModifier\";\nimport { Vector2, Vector3, Vector4, Color } from \"../math/Vector\";\nimport MaterialFlag from \"./MaterialFlag\";\nimport Resource from \"../utils/Resource\";\n\nfunction loadTexture(context,image,url) {\n    return Texture.FromImage(context,image,url);\n}\n\nfunction channelVector(channel) {\n    return new Vector4(\n        channel==0 ? 1:0,\n        channel==1 ? 1:0,\n        channel==2 ? 1:0,\n        channel==3 ? 1:0\n    );\n}\n\nfunction readVector(data) {\n    if (!data) return null;\n    switch (data.length) {\n    case 2:\n        return new Vector2(data[0],data[1]);\n    case 3:\n        return new Vector3(data[0],data[1],data[2]);\n    case 4:\n        return new Vector4(data[0],data[1],data[2],data[3]);\n    }\n    return null;\n}\n\nexport default class Material {\n    // Create and initialize a material from the json material definition\n    static FromMaterialDefinition(context,def,basePath=\"\") {\n        return new Promise((resolve,reject) => {\n            let mat = new Material();\n\n            mat.diffuse = readVector(def.diffuse) || Color.White();\n            mat.specular = readVector(def.specular) || Color.White();\n            mat.shininess = def.shininess || 0;\n            mat.shininessMaskChannel = def.shininessMaskChannel || 0;\n            mat.shininessMaskInvert = def.shininessMaskInvert || false;\n            mat.lightEmission = def.lightEmission || 0;\n            mat.lightEmissionMaskChannel = def.lightEmissionMaskChannel || 0;\n            mat.lightEmissionMaskInvert = def.lightEmissionMaskInvert || false;\n            mat.refractionAmount = def.refractionAmount || 0;\n            mat.reflectionAmount = def.reflectionAmount || 0;\n            mat.reflectionMaskChannel = def.reflectionMaskChannel || 0;\n            mat.reflectionMaskInvert = def.reflectionMaskInvert || false;\n            mat.textureOffset = readVector(def.textureOffset) || new Vector2(0,0);\n            mat.textureScale = readVector(def.textureScale) || new Vector2(1,1);\n            mat.normalMapOffset = readVector(def.normalMapOffset) || new Vector2(0,0);\n            mat.normalMapScale = readVector(def.normalMapScale) || new Vector2(1,1);\n            mat.cullFace = def.cullFace===undefined ? true : def.cullFace;\n            mat.castShadows = def.castShadows===undefined ? true : def.castShadows;\n            mat.receiveShadows = def.receiveShadows===undefined ? true : def.receiveShadows;\n            mat.alphaCutoff = def.alphaCutoff===undefined ? 0.5 : def.alphaCutoff;\n            mat.name = def.name;\n            mat.description = def.description;\n            mat.roughness = def.roughness || 0;\n            mat.roughnessMaskChannel = def.roughnessMaskChannel || 0;\n            mat.roughnessMaskInvert = def.roughnessMaskInvert || false;\n            mat.unlit = def.unlit || false;\n\n            let texPromises = [];\n            texPromises.push(readTexture(context,basePath,def.shininessMask,mat,\"shininessMask\"));\n            texPromises.push(readTexture(context,basePath,def.lightEmissionMask,mat,\"lightEmissionMask\"));\n            texPromises.push(readTexture(context,basePath,def.reflectionMask,mat,\"reflectionMask\"));\n            texPromises.push(readTexture(context,basePath,def.texture,mat,\"texture\"));\n            texPromises.push(readTexture(context,basePath,def.normalMap,mat,\"normalMap\"));\n            texPromises.push(readTexture(context,basePath,def.roughnessMask,mat,\"roughnessMask\"));\n\n            Promise.all(texPromises)\n                .then(() => {\n                    resolve(mat);\n                });\n        });\n    }\n\n    constructor() {\n        this._diffuse = Color.White();\n        this._specular = Color.White();\n        this._shininess = 0;\n        this._lightEmission = 0;\n        this._refractionAmount = 0;\n        this._reflectionAmount = 0;\n        this._texture = null;\n        this._lightmap = null;\n        this._normalMap = null;\n        this._textureOffset = new Vector2();\n        this._textureScale = new Vector2(1);\n        this._lightmapOffset = new Vector2();\n        this._lightmapScale = new Vector2(1);\n        this._normalMapOffset = new Vector2();\n        this._normalMapScale = new Vector2(1);\n        this._castShadows = true;\n        this._receiveShadows = true;\n        this._alphaCutoff = 0.5;\n        this._shininessMask = null;\n        this._shininessMaskChannel = 0;\n        this._shininessMaskInvert = false;\n        this._lightEmissionMask = null;\n        this._lightEmissionMaskChannel = 0;\n        this._lightEmissionMaskInvert = false;\n        this._reflectionMask = null;\n        this._reflectionMaskChannel = 0;\n        this._reflectionMaskInvert = false;\n        this._cullFace = true;\n        this._roughness = 0;\n        this._roughnessMask = null;\n        this._roughnessMaskChannel = 0;\n        this._roughnessMaskInvert = false;\n        this._unlit = false;\n        \n        this._selectMode = false;\n    }\n    \n    clone() {\n        let copy = new Material();\n        copy.assign(this);\n        return copy;\n    }\n    \n    assign(other) {\n        this._diffuse = new Color(other.diffuse);\n        this._specular = new Color(other.specular);\n        this._shininess = other.shininess;\n        this._lightEmission = other.lightEmission;\n        this._refractionAmount = other.refractionAmount;\n        this._reflectionAmount = other.reflectionAmount;\n        this._texture = other.texture;\n        this._lightmap = other.lightmap;\n        this._normalMap = other.normalMap;\n        this._textureOffset = new Vector2(other.textureOffset);\n        this._textureScale = new Vector2(other.textureScale);\n        this._lightmapOffset = new Vector2(other.ligthmapOffset);\n        this._lightmapScale = new Vector2(other.lightmapScale);\n        this._normalMapOffset = new Vector2(other.normalMapOffset);\n        this._normalMapScale = new Vector2(other.normalMapScale);\n        this._castShadows = other.castShadows;\n        this._receiveShadows = other.receiveShadows;\n        this._alphaCutoff = other.alphaCutoff;\n        this._shininessMask = other.shininessMask;\n        this._shininessMaskChannel = other.shininessMaskChannel;\n        this._shininessMaskInvert = other.shininessMaskInvert;\n        this._lightEmissionMask = other.lightEmissionMask;\n        this._lightEmissionMaskChannel = other.lightEmissionMaskChannel;\n        this._lightEmissionMaskInvert = other.lightEmissionMaskInvert;\n        this._reflectionMask = other.reflectionMask;\n        this._reflectionMaskChannel = other.reflectionMaskChannel;\n        this._reflectionMaskInvert = other.reflectionMaskInvert;\n        this._cullFace = other.cullFace;\n        this._roughness = other.roughness;\n        this._roughnessMask = other.roughnessMask;\n        this._roughnessMaskChannel = other.roughnessMaskChannel;\n        this._roughnessMaskInvert = other.roughnessMaskInvert;\n        this._unlit = other.unlit;\n    }\n    \n    get isTransparent() {\n        return this._diffuse.a<1;\n    }\n    \n    get diffuse() { return this._diffuse; }\n    get specular() { return this._specular; }\n    get shininess() { return this._shininess; }\n    get lightEmission() { return this._lightEmission; }\n    get refractionAmount() { return this._refractionAmount; }\n    get reflectionAmount() { return this._reflectionAmount; }\n    get texture() { return this._texture; }\n    get lightmap() { return this._lightmap; }\n    get normalMap() { return this._normalMap; }\n    get textureOffset() { return this._textureOffset; }\n    get textureScale() { return this._textureScale; }\n    get lightmapOffset() { return this._lightmapOffset; }\n    get lightmapScale() { return this._lightmapScale; }\n    get normalMapOffset() { return this._normalMapOffset; }\n    get normalMapScale() { return this._normalMapScale; }\n    get castShadows() { return this._castShadows; }\n    get receiveShadows() { return this._receiveShadows; }\n    get alphaCutoff() { return this._alphaCutoff; }\n    get shininessMask() { return this._shininessMask; }\n    get shininessMaskChannel() { return this._shininessMaskChannel; }\n    get shininessMaskInvert() { return this._shininessMaskInvert; }\n    get lightEmissionMask() { return this._lightEmissionMask; }\n    get lightEmissionMaskChannel() { return this._lightEmissionMaskChannel; }\n    get lightEmissionMaskInvert() { return this._lightEmissionMaskInvert; }\n    get reflectionMask() { return this._reflectionMask; }\n    get reflectionMaskChannel() { return this._reflectionMaskChannel; }\n    get reflectionMaskInvert() { return this._reflectionMaskInvert; }\n    get cullFace() { return this._cullFace; }\n    get roughness() { return this._roughness; }\n    get roughnessMask() { return this._roughnessMask; }\n    get roughnessMaskChannel() { return this._roughnessMaskChannel; }\n    get roughnessMaskInvert() { return this._roughnessMaskInvert; }\n    get unlit() { return this._unlit; }\n\n    \n    set diffuse(newVal) { this._diffuse = newVal; }\n    set specular(newVal) { this._specular = newVal; }\n    set shininess(newVal) { if (!isNaN(newVal)) this._shininess = newVal; }\n    set lightEmission(newVal) { if (!isNaN(newVal)) this._lightEmission = newVal; }\n    set refractionAmount(newVal) { this._refractionAmount = newVal; }\n    set reflectionAmount(newVal) { this._reflectionAmount = newVal; }\n    set texture(newVal) { this._texture = newVal; }\n    set lightmap(newVal) { this._lightmap = newVal; }\n    set normalMap(newVal) { this._normalMap = newVal; }\n    set textureOffset(newVal) { this._textureOffset = newVal; }\n    set textureScale(newVal) { this._textureScale = newVal; }\n    set lightmapOffset(newVal) { this._lightmapOffset = newVal; }\n    set lightmapScale(newVal) { this._lightmapScale = newVal; }\n    set normalMapOffset(newVal) { this._normalMapOffset = newVal; }\n    set normalMapScale(newVal) { this._normalMapScale = newVal; }\n    set castShadows(newVal) { this._castShadows = newVal; }\n    set receiveShadows(newVal) { this._receiveShadows = newVal; }\n    set alphaCutoff(newVal) { if (!isNaN(newVal)) this._alphaCutoff = newVal; }\n    set shininessMask(newVal) { this._shininessMask = newVal; }\n    set shininessMaskChannel(newVal) { this._shininessMaskChannel = newVal; }\n    set shininessMaskInvert(newVal) { this._shininessMaskInvert = newVal; }\n    set lightEmissionMask(newVal) { this._lightEmissionMask = newVal; }\n    set lightEmissionMaskChannel(newVal) { this._lightEmissionMaskChannel = newVal; }\n    set lightEmissionMaskInvert(newVal) { this._lightEmissionMaskInvert = newVal; }\n    set reflectionMask(newVal) { this._reflectionMask = newVal; }\n    set reflectionMaskChannel(newVal) { this._reflectionMaskChannel = newVal; }\n    set reflectionMaskInvert(newVal) { this._reflectionMaskInvert = newVal; }\n    set cullFace(newVal) { this._cullFace = newVal; }\n    set roughness(newVal) { this._roughness = newVal; }\n    set roughnessMask(newVal) { this._roughnessMask = newVal; }\n    set roughnessMaskChannel(newVal) { this._roughnessMaskChannel = newVal; }\n    set roughnessMaskInvert(newVal) { this._roughnessMaskInvert = newVal; }\n    \n    get unlit() { return this._unlit; }\n    set unlit(u) { this._unlit = u; }\n\n    get selectMode() { return this._selectMode; }\n    set selectMode(s) { this._selectMode = s; }\n\n    // Mask channel vectors: used to pass the mask channel to a shader\n    get lightEmissionMaskChannelVector() {\n        return channelVector(this.lightEmissionMaskChannel)\n    }\n    \n    get shininessMaskChannelVector() {\n        return channelVector(this.shininessMaskChannel);\n    }\n    \n    get reflectionMaskChannelVector() {\n        return channelVector(this.reflectionMaskChannel);\n    }\n\n    get roughnessMaskChannelVector() {\n        return channelVector(this.roughnessMaskChannel);\n    }\n    \n    // Returns an array of the external resources used by this material, for example,\n    // the paths to the textures. If the \"resources\" parameter (array) is passed, the resources\n    // will be added to this array, and the parameter will be modified to include the new\n    // resources. If a resource exists in the \"resources\" parameter, it will not be added\n    getExternalResources(resources=[]) {\n        function tryadd(texture) {\n            if (texture && texture.fileName && texture.fileName!=\"\" && resources.indexOf(texture.fileName)==-1) {\n                resources.push(texture.fileName);\n            }\n        }\n        tryadd(this.texture);\n        tryadd(this.lightmap);\n        tryadd(this.normalMap);\n        tryadd(this.shininessMask);\n        tryadd(this.lightEmissionMask);\n        tryadd(this.reflectionMask);\n        tryadd(this.roughnessMask);\n        return resources;\n    }\n    \n    copyMaterialSettings(mat,mask) {\n        if ( mask & MaterialFlag.DIFFUSE) {\n            mat.diffuse = this.diffuse;\n        }\n        if ( mask & MaterialFlag.SPECULAR) {\n            mat.specular = this.specular;\n        }\n        if ( mask & MaterialFlag.SHININESS) {\n            mat.shininess = this.shininess;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION) {\n            mat.lightEmission = this.lightEmission;\n        }\n        if ( mask & MaterialFlag.REFRACTION_AMOUNT) {\n            mat.refractionAmount = this.refractionAmount;\n        }\n        if ( mask & MaterialFlag.REFLECTION_AMOUNT) {\n            mat.reflectionAmount = this.reflectionAmount;\n        }\n        if ( mask & MaterialFlag.TEXTURE) {\n            mat.texture = this.texture;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP) {\n            mat.lightmap = this.lightmap;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP) {\n            mat.normalMap = this.normalMap;\n        }\n        if ( mask & MaterialFlag.TEXTURE_OFFSET) {\n            mat.textureOffset = this.textureOffset;\n        }\n        if ( mask & MaterialFlag.TEXTURE_SCALE) {\n            mat.textureScale = this.textureScale;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_OFFSET) {\n            mat.lightmapOffset = this.lightmapOffset;\n        }\n        if ( mask & MaterialFlag.LIGHT_MAP_SCALE) {\n            mat.lightmapScale = this.lightmapScale;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_OFFSET) {\n            mat.normalMapOffset = this.normalMapOffset;\n        }\n        if ( mask & MaterialFlag.NORMAL_MAP_SCALE) {\n            mat.normalMapScale = this.normalMapScale;\n        }\n        if ( mask & MaterialFlag.CAST_SHADOWS) {\n            mat.castShadows = this.castShadows;\n        }\n        if ( mask & MaterialFlag.RECEIVE_SHADOWS) {\n            mat.receiveShadows = this.receiveShadows;\n        }\n        if ( mask & MaterialFlag.ALPHA_CUTOFF) {\n            mat.alphaCutoff = this.alphaCutoff;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK) {\n            mat.shininessMask = this.shininessMask;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_CHANNEL) {\n            mat.shininessMaskChannel = this.shininessMaskChannel;\n        }\n        if ( mask & MaterialFlag.SHININESS_MASK_INVERT) {\n            mat.shininessMaskInvert = this.shininessMaskInvert;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK) {\n            mat.lightEmissionMask = this.lightEmissionMask;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL) {\n            mat.lightEmissionMaskChannel = this.lightEmissionMaskChannel;\n        }\n        if ( mask & MaterialFlag.LIGHT_EMISSION_MASK_INVERT) {\n            mat.lightEmissionMaskInvert = this.lightEmissionMaskInvert;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK) {\n            mat.reflectionMask = this.reflectionMask;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_CHANNEL) {\n            mat.reflectionMaskChannel = this.reflectionMaskChannel;\n        }\n        if ( mask & MaterialFlag.REFLECTION_MASK_INVERT) {\n            mat.reflectionMaskInvert = this.reflectionMaskInvert;\n        }\n        if ( mask & MaterialFlag.CULL_FACE) {\n            mat.cullFace = this.cullFace;\n        }\n\n        // All the roughness attributes are copied together using this flag. In\n        // the future, the *_MASK, *_MASK_CHANNEL and *_MASK_INVERT for shininess,\n        // light emission and reflection, will be deprecated and will work in the\n        // same way as ROUGHNESS here\n        if ( mask & MaterialFlag.ROUGHNESS) {\n            mat.reflectionAmount = this.reflectionAmount;\n            mat.reflectionMask = this.reflectionMask;\n            mat.reflectionMaskChannel = this.reflectionMaskChannel;\n            mat.reflectionMaskInvert = this.reflectionMaskInvert;\n        }\n\n        if (mask & MaterialFlag.UNLIT) {\n            mat.unlit = this.unlit;\n        }\n    }\n\n    applyModifier(context, mod, resourcePath) {\n        if (mod.isEnabled(MaterialFlag.DIFFUSE)) {\n            this.diffuse = mod.diffuse;\n        }\n        if (mod.isEnabled(MaterialFlag.SPECULAR)) {\n            this.specular = mod.specular;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS)) {\n            this.shininess = mod.shininess;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION)) {\n            this.lightEmission = mod.lightEmission;\n        }\n        if (mod.isEnabled(MaterialFlag.REFRACTION_AMOUNT)) {\n            this.refractionAmount = mod.refractionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_AMOUNT)) {\n            this.reflectionAmount = mod.reflectionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE)) {\n            this.texture = getTexture(context,mod.texture,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP)) {\n            this.lightmap = getTexture(context,mod.lightmap,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP)) {\n            this.normalMap = getTexture(context,mod.normalMap,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_OFFSET)) {\n            this.textureOffset = mod.textureOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_SCALE)) {\n            this.textureScale = mod.textureScale;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_OFFSET)) {\n            this.lightmapOffset = mod.lightmapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_SCALE)) {\n            this.lightmapScale = mod.lightmapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_OFFSET)) {\n            this.normalMapOffset = mod.normalMapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_SCALE)) {\n            this.normalMapScale = mod.normalMapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.CAST_SHADOWS)) {\n            this.castShadows = mod.castShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.RECEIVE_SHADOWS)) {\n            this.receiveShadows = mod.receiveShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.ALPHA_CUTOFF)) {\n            this.alphaCutoff = mod.alphaCutoff;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK)) {\n            this.shininessMask = getTexture(context,mod.shininessMask,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_CHANNEL)) {\n            this.shininessMaskChannel = mod.shininessMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_INVERT)) {\n            this.shininessMaskInvert = mod.shininessMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK)) {\n            this.lightEmissionMask = getTexture(context,mod.lightEmissionMask,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL)) {\n            this.lightEmissionMaskChannel = mod.lightEmissionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_INVERT)) {\n            this.lightEmissionMaskInvert = mod.lightEmissionMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK)) {\n            this.reflectionMask = getTexture(context,mod.reflectionMask,resourcePath);\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_CHANNEL)) {\n            this.reflectionMaskChannel = mod.reflectionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_INVERT)) {\n            this.reflectionMaskInvert = mod.reflectionMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.CULL_FACE)) {\n            this.cullFace = mod.cullFace;\n        }\n\n        // See above note for ROUGHNESS flags\n        if (mod.isEnabled(MaterialFlag.ROUGHNESS)) {\n            this.roughness = mod.roughness;\n            this.roughnessMask = getTexture(context,mod.roughnessMask,resourcePath);\n            this.roughnessMaskChannel = mod.roughnessMaskChannel;\n            this.roughnessMaskInvert = mod.roughnessMaskInvert;\n        }\n\n        if (mod.isEnabled(MaterialFlag.UNLIT)) {\n            this.unlit = mod.unlit;\n        }\n    }\n    \n    getModifierWithMask(modifierMask) {\n        var mod = new MaterialModifier();\n\n        mod.modifierFlags = modifierMask;\n        \n        if (mod.isEnabled(MaterialFlag.DIFFUSE)) {\n            mod.diffuse = this.diffuse;\n        }\n        if (mod.isEnabled(MaterialFlag.SPECULAR)) {\n            mod.specular = this.specular;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS)) {\n            mod.shininess = this.shininess;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION)) {\n            mod.lightEmission = this.lightEmission;\n        }\n        if (mod.isEnabled(MaterialFlag.REFRACTION_AMOUNT)) {\n            mod.refractionAmount = this.refractionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_AMOUNT)) {\n            mod.reflectionAmount = this.reflectionAmount;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE)) {\n            mod.texture = getPath(this.texture);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP)) {\n            mod.lightmap = getPath(this.lightmap);\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP)) {\n            mod.normalMap = getPath(this.normalMap);\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_OFFSET)) {\n            mod.textureOffset = this.textureOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.TEXTURE_SCALE)) {\n            mod.textureScale = this.textureScale;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_OFFSET)) {\n            mod.lightmapOffset = this.lightmapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_MAP_SCALE)) {\n            mod.lightmapScale = this.lightmapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_OFFSET)) {\n            mod.normalMapOffset = this.normalMapOffset;\n        }\n        if (mod.isEnabled(MaterialFlag.NORMAL_MAP_SCALE)) {\n            mod.normalMapScale = this.normalMapScale;\n        }\n        if (mod.isEnabled(MaterialFlag.CAST_SHADOWS)) {\n            mod.castShadows = this.castShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.RECEIVE_SHADOWS)) {\n            mod.receiveShadows = this.receiveShadows;\n        }\n        if (mod.isEnabled(MaterialFlag.ALPHA_CUTOFF)) {\n            mod.alphaCutoff = this.alphaCutoff;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK)) {\n            mod.shininessMask = getPath(this.shininessMask);\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_CHANNEL)) {\n            mod.shininessMaskChannel = this.shininessMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.SHININESS_MASK_INVERT)) {\n            mod.shininessMaskInvert = this.shininessMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK)) {\n            mod.lightEmissionMask = getPath(this.lightEmissionMask);\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_CHANNEL)) {\n            mod.lightEmissionMaskChannel = this.lightEmissionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.LIGHT_EMISSION_MASK_INVERT)) {\n            mod.lightEmissionMaskInver = this.lightEmissionMaskInver;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK)) {\n            mod.reflectionMask = getPath(this.reflectionMask);\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_CHANNEL)) {\n            mod.reflectionMaskChannel = this.reflectionMaskChannel;\n        }\n        if (mod.isEnabled(MaterialFlag.REFLECTION_MASK_INVERT)) {\n            mod.reflectionMaskInvert = this.reflectionMaskInvert;\n        }\n        if (mod.isEnabled(MaterialFlag.CULL_FACE)) {\n            mod.cullFace = this.cullFace;\n        }\n\n        // See above note about ROUGHNESS flag\n        if (mod.isEnabled(MaterialFlag.ROUGHNESS)) {\n            mod.roughness = this.roughness;\n            mod.roughnessMask = getPath(this.roughnessMask);\n            mod.roughnessMaskChannel = this.roughnessMaskChannel;\n            mod.roughnessMaskInvert = this.roughnessMaskInvert;\n        }\n\n        if (mod.isEnabled(MaterialFlag.UNLIT)) {\n            mod.unlit = this.unlit;\n        }\n\n        return mod;\n    }\n    \n    static GetMaterialWithJson(context,data,path) {\n        let material = new Material();\n        if (data.cullFace===undefined) {\n            data.cullFace = true;\n        }\n        \n        material.diffuse.set(data.diffuseR,data.diffuseG,data.diffuseB,data.diffuseA);\n        material.specular.set(data.specularR,data.specularG,data.specularB,data.specularA);\n        material.shininess = data.shininess;\n        material.lightEmission = data.lightEmission;\n        \n        material.refractionAmount = data.refractionAmount;\n        material.reflectionAmount = data.reflectionAmount;\n        \n        material.textureOffset.set(data.textureOffsetX,data.textureOffsetY);\n        material.textureScale.set(data.textureScaleX,data.textureScaleY);\n        \n        material.lightmapOffset.set(data.lightmapOffsetX,data.lightmapOffsetY);\n        material.lightmapScale.set(data.lightmapScaleX,data.lightmapScaleY);\n        \n        material.normalMapOffset.set(data.normalMapOffsetX,data.normalMapOffsetY);\n        material.normalMapScale.set(data.normalMapScaleX,data.normalMapScaleY);\n        \n        material.alphaCutoff = data.alphaCutoff;\n        material.castShadows = data.castShadows;\n        material.receiveShadows = data.receiveShadows;\n        \n        material.shininessMaskChannel = data.shininessMaskChannel;\n        material.shininessMaskInvert = data.invertShininessMask;\n        \n        material.lightEmissionMaskChannel = data.lightEmissionMaskChannel;\n        material.lightEmissionMaskInvert = data.invertLightEmissionMask;\n        \n        material.reflectionMaskChannel = data.reflectionMaskChannel;\n        material.reflectionMaskInvert = data.invertReflectionMask;\n\n        material.roughness = data.roughness;\n        material.roughnessMaskChannel = data.roughnessMaskChannel;\n        material.roughnessMaskInvert = data.invertRoughnessMask;\n        \n        material.cullFace = data.cullFace;\n        \n        material.unlit = data.unlit;\n        \n        if (path && path[path.length-1]!='/') {\n            path += '/';\n        }\n        \n        function mergePath(path,file) {\n            if (!file) return null;\n            return path ? path + file:file;\n        }\n\n        data.texture = mergePath(path,data.texture);\n        data.lightmap = mergePath(path,data.lightmap);\n        data.normalMap = mergePath(path,data.normalMap);\n        data.shininessMask = mergePath(path,data.shininessMask);\n        data.lightEmissionMask = mergePath(path,data.lightEmissionMask);\n        data.reflectionMask = mergePath(path,data.reflectionMask);\n        data.roughnessMask = mergePath(path,data.roughnessMask);\n        \n        return new Promise((accept,reject) => {\n            let textures = [];\n            \n            if (data.texture) {\n                textures.push(data.texture);\n            }\n            if (data.lightmap && textures.indexOf(data.lightmap)==-1) {\n                textures.push(data.lightmap);\n            }\n            if (data.normalMap && textures.indexOf(data.normalMap)==-1) {\n                textures.push(data.normalMap);\n            }\n            if (data.shininessMask && textures.indexOf(data.shininessMask)==-1) {\n                textures.push(data.shininessMask);\n            }\n            if (data.lightEmissionMask && textures.indexOf(data.lightEmissionMask)==-1) {\n                textures.push(data.lightEmissionMask);\n            }\n            if (data.reflectionMask && textures.indexOf(data.reflectionMask)==-1) {\n                textures.push(data.reflectionMask);\n            }\n            if (data.roughnessMask && textures.indexOf(data.roughnessMask)==-1) {\n                textures.push(data.roughnessMask);\n            }\n            \n            Resource.Load(textures)\n                .then(function(images) {\n                    material.texture = loadTexture(context,images[data.texture],data.texture);\n                    material.lightmap = loadTexture(context,images[data.lightmap],data.lightmap);\n                    material.normalMap = loadTexture(context,images[data.normalMap],data.normalMap);\n                    material.shininessMask = loadTexture(context,images[data.shininessMask],data.shininessMask);\n                    material.lightEmissionMask = loadTexture(context,images[data.lightEmissionMask],data.lightEmissionMask);\n                    material.reflectionMask = loadTexture(context,images[data.reflectionMask],data.reflectionMask);\n                    material.roughnessMask = loadTexture(context,images[data.roughnessMask],data.roughnessMask);\n                    accept(material);\n                });\n        });\n    }\n}\n","import { LoaderPlugin } from \"./Loader\";\nimport Resource from \"../utils/Resource\";\nimport Material from \"./Material\";\n\nexport default class Bg2matLoaderPlugin extends LoaderPlugin {\n    acceptType(url,data) {\n        return Resource.GetExtension(url)==\"bg2mat\";\n    }\n\n    load(context,url,data) {\n        return new Promise((resolve,reject) => {\n            if (data) {\n                try {\n                    if (typeof(data)==\"string\") {\n                        data = JSON.parse(data);\n                    }\n                    let promises = [];\n                    let basePath = url.substring(0,url.lastIndexOf('/')+1);\n\n                    data.forEach((matData) => {\n                        promises.push(Material.FromMaterialDefinition(context,matData,basePath));\n                    });\n\n                    Promise.all(promises)\n                        .then((result) => {\n                            resolve(result);\n                        });\n                }\n                catch(e) {\n                    reject(e);\n                }\n            }\n            else {\n                reject(new Error(\"Error loading material. Data is null.\"));\n            }\n        });\n    }\n}","\nimport { LoaderPlugin } from \"./Loader\";\n\nexport default class VideoTextureLoaderPlugin extends LoaderPlugin {\n    acceptType(url,data) {\n        return bg.utils.Resource.IsVideo(url);\n    }\n\n    load(context,url,video) {\n        return new Promise((accept,reject) => {\n            if (video) {\n                let texture = new bg.base.Texture(context);\n                texture.create();\n                texture.bind();\n                texture.setVideo(video);\n                texture.fileName = url;\n                accept(texture);\n            }\n            else {\n                reject(new Error(\"Error loading video texture data\"));\n            }\n        });\n    }\n}","\nimport md5 from \"../utils/md5\";\nimport Loader from \"./Loader\";\nimport Resource from \"../utils/Resource\";\nimport Texture from \"./Texture\";\nimport TextureCache from \"./TextureCache\";\nimport TextureLoaderPlugin from \"./TextureLoaderPlugin\";\n\nwindow.s_bg_base_imageTools = {\n    base64Images: {}\n}\n\nexport default {\n    isAbsolutePath(path) {\n        return /^(f|ht)tps?:\\/\\//i.test(path);\n    },\n\n    mergePaths(path,component) {\n        return path.slice(-1)!='/' ? path + '/' + component :  path + component;\n    },\n\n    getTexture(context,texturePath,resourcePath) {\n        let texture = null;\n        if (texturePath) {\n            if (!isAbsolutePath(texturePath)) {\n                if (resourcePath.slice(-1)!='/') {\n                    resourcePath += '/';\n                }\n                texturePath = `${resourcePath}${texturePath}`;\n            }\n    \n            texture = TextureCache.Get(context).find(texturePath);\n            if (!texture) {\n                texture = new Texture(context);\n                texture.create();\n                texture.fileName = texturePath;\n                TextureCache.Get(context).register(texturePath,texture);\n    \n                (function(path,tex) {\n                    Resource.Load(path)\n                        .then(function(imgData) {\n                            tex.bind();\n                            texture.minFilter = TextureLoaderPlugin.GetMinFilter();\n                            texture.magFilter = TextureLoaderPlugin.GetMagFilter();\n                            tex.fileName = path;\n                            tex.setImage(imgData);\n                        });\n                })(texturePath,texture);\n            }\n        }\n        return texture;\n    },\n\n    getPath(texture) {\n        return texture ? texture.fileName:\"\";\n    },\n\n\n    readTexture(context,basePath,texData,mat,property) {\n        return new Promise((resolve) => {\n            if (!texData) {\n                resolve();\n            }\n            else if (/data\\:image\\/[a-z]+\\;base64\\,/.test(texData)) {\n                let hash = md5(texData);\n                if (window.s_bg_base_imageTools.base64Images[hash]) {\n                    mat[property] = window.s_bg_base_imageTools.base64Images[hash];\n                }\n                else {\n                    mat[property] = Texture.FromBase64Image(context,texData);\n                    window.s_bg_base_imageTools.base64Images[hash] = mat[property];\n                }\n                resolve(mat[property]);\n            }\n    //\t\t\telse if (/data\\:md5/.test(texData)) {\n\n    //\t\t\t}\n            else {\n                let fullPath = basePath + texData;\t// TODO: add full path\n                Loader.Load(context,fullPath)\n                    .then(function(tex) {\n                        mat[property] = tex;\n                        resolve(tex);\n                    });\n            }\n        });\n    }\n}\n","\nimport Effect from \"./Effect\";\nimport Loader, { LoaderPlugin } from \"./Loader\";\nimport PolyList, { DrawMode, BufferType } from \"./PolyList\";\nimport Shader, { ShaderType } from \"./Shader\";\nimport ShaderLibrary from \"./ShaderLibrary\";\nimport ShaderSource from \"./ShaderSource\";\nimport Texture, {\n    TextureUnit,\n    TextureWrap,\n    TextureFilter,\n    TextureTarget,\n    TextureDataType\n} from \"./Texture\";\nimport TextureCache from \"./TextureCache\";\nimport TextureLoaderPlugin from \"./TextureLoaderPlugin\";\nimport TextureEffect from \"./TextureEffect\";\nimport Bg2matLoaderPlugin from \"./Bg2matLoaderPlugin\";\nimport Material from \"./Material\";\nimport MaterialFlag from \"./MaterialFlag\";\nimport MaterialModifier from \"./MaterialModifier\";\nimport VideoTextureLoaderPlugin from \"./VideoTextureLoaderPlugin\";\nimport imageTools from \"./imageTools\";\n\nconst base = {\n    Bg2matLoaderPlugin,\n    BufferType,\n    Effect,\n    DrawMode,\n    imageTools,\n    LoaderPlugin,\n    Loader,\n    PolyList,\n    MaterialFlag,\n    Material,\n    MaterialModifier,\n    ShaderType,\n    Shader,\n    ShaderLibrary,\n    ShaderSource,\n    TextureUnit,\n    TextureWrap,\n    TextureFilter,\n    TextureTarget,\n    TextureDataType,\n    Texture,\n    TextureCache,\n    TextureEffect,\n    TextureLoaderPlugin,\n    VideoTextureLoaderPlugin\n}\n\nexport default base;","\nimport { NumericArray } from \"./constants\";\nimport { Vector } from \"./Vector\";\n\nexport default class Bounds extends Vector {\n    constructor(a=0,b=0,c=0,d=0,e=0,f=0) {\n        super(new NumericArray(6));\n        this._v[0] = a;\n        this._v[1] = b;\n        this._v[2] = c;\n        this._v[3] = d;\n        this._v[4] = e;\n        this._v[5] = f;\n    }\n    \n    elemAtIndex(i) { return this._v[i]; }\n    equals(v) { return this._v[0]==v._v[0] && this._v[1]==v._v[1] && this._v[2]==v._v[2] && this._v[3]==v._v[3] && this._v[4]==v._v[4] && this._v[5]==v._v[5]; }\n    notEquals(v) { return this._v[0]!=v._v[0] || this._v[1]!=v._v[1] || this._v[2]!=v._v[2] || this._v[3]!=v._v[3] || this._v[4]!=v._v[4] || this._v[5]!=v._v[5]; }\n    assign(v) { this._v[0]=v._v[0]; this._v[1]=v._v[1]; this._v[2]=v._v[2]; this._v[3]=v._v[3]; this._v[4]=v._v[4]; this._v[5]=v._v[5]; }\n\n    set(left, right, bottom, top, back, front) {\n        this._v[0] = left;\n        this._v[1] = (right===undefined) ? left:right;\n        this._v[2] = (right===undefined) ? left:bottom;\n        this._v[3] = (right===undefined) ? left:top;\n        this._v[4] = (right===undefined) ? left:back;\n        this._v[5] = (right===undefined) ? left:front;\n    }\n\n    get left() { return this._v[0]; }\n    get right() { return this._v[1]; }\n    get bottom() { return this._v[2]; }\n    get top() { return this._v[3]; }\n    get back() { return this._v[4]; }\n    get front() { return this._v[5]; }\n    \n    set left(v) { this._v[0] = v; }\n    set right(v) { this._v[1] = v; }\n    set bottom(v) { this._v[2] = v; }\n    set top(v) { this._v[3] = v; }\n    set back(v) { this._v[4] = v; }\n    set front(v) { this._v[5] = v; }\n\n    get width() { return Math.abs(this._v[1] - this._v[0]); }\n    get height() { return Math.abs(this._v[3] - this._v[2]); }\n    get depth() { return Math.abs(this._v[5] - this._v[4]); }\n\n    isNan() { return isNaN(this._v[0]) || isNaN(this._v[1]) || isNaN(this._v[2]) || isNaN(this._v[3]) || isNaN(this._v[4]) || isNaN(this._v[5]); }\n\n    toString() {\n        return \"[\" + this._v + \"]\";\n    }\n\n    isInBounds(/* vwgl.Vector3*/ v) {\n        return v.x>=this._v[0] && v.x<=this._v[1] &&\n                v.y>=this._v[2] && v.y<=this._v[3] &&\n                v.z>=this._v[4] && v.z<=this._v[5];\n    }\n}\n","import { Vector4 } from \"./Vector\";\nimport { sin, cos, sqrt } from \"./functions\";\nimport Matrix3 from \"./Matrix3\";\nimport Matrix4 from \"./Matrix4\";\n\nexport default class Quaternion extends Vector4 {\n    static MakeWithMatrix(m) {\n        return new Quaternion(m);\n    }\n    \n    constructor(a,b,c,d) {\n        super();\n        if (a===undefined) this.zero();\n        else if (b===undefined) {\n            if (a._v && a._v.lenght>=4) this.clone(a);\n            else if(a._m && a._m.length==9) this.initWithMatrix3(a);\n            else if(a._m && a._m.length==16) this.initWithMatrix4(a);\n            else this.zero();\n        }\n        else if (a!==undefined && b!==undefined && c!==undefined && d!==undefined) {\n            this.initWithValues(a,b,c,d);\n        }\n        else {\n            this.zero();\n        }\n    }\n    \n    initWithValues(alpha,x,y,z) {\n        this._v[0] = x * sin(alpha/2);\n        this._v[1] = y * sin(alpha/2);\n        this._v[2] = z * sin(alpha/2);\n        this._v[3] = cos(alpha/2);\n        return this;\n    }\n    \n    clone(q) {\n        this._v[0] = q._v[0];\n        this._v[1] = q._v[1];\n        this._v[2] = q._v[2];\n        this._v[3] = q._v[3];\n    }\n    \n    initWithMatrix3(m) {\n        let w = sqrt(1.0 + m._m[0] + m._m[4] + m._m[8]) / 2.0;\n        let w4 = 4.0 * w;\n        \n        this._v[0] = (m._m[7] - m._m[5]) / w;\n        this._v[1] = (m._m[2] - m._m[6]) / w4;\n        this._v[2] = (m._m[3] - m._m[1]) / w4;\n        this._v[3] = w;\n    }\n    \n    initWithMatrix4(m) {\n        let w = sqrt(1.0 + m._m[0] + m._m[5] + m._m[10]) / 2.0;\n        let w4 = 4.0 * w;\n        \n        this._v[0] = (m._m[9] - m._m[6]) / w;\n        this._v[1] = (m._m[2] - m._m[8]) / w4;\n        this._v[2] = (m._m[4] - m._m[1]) / w4;\n        this._v[3] = w;\t\n    }\n    \n    getMatrix4() {\n        let m = Matrix4.Identity();\n        let _v = this._v;\n        m.setRow(0, new Vector4(1.0 - 2.0*_v[1]*_v[1] - 2.0*_v[2]*_v[2], 2.0*_v[0]*_v[1] - 2.0*_v[2]*_v[3], 2.0*_v[0]*_v[2] + 2.0*_v[1]*_v[3], 0.0));\n        m.setRow(1, new Vector4(2.0*_v[0]*_v[1] + 2.0*_v[2]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[2]*_v[2], 2.0*_v[1]*_v[2] - 2.0*_v[0]*_v[3], 0.0));\n        m.setRow(2, new Vector4(2.0*_v[0]*_v[2] - 2.0*_v[1]*_v[3], 2.0*_v[1]*_v[2] + 2.0*_v[0]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[1]*_v[1], 0.0));\n        return m;\n    }\n    \n    getMatrix3() {\n        let m = Matrix3.Identity();\n        let _v = this._v;\n        \n        m.setRow(0, new Vector3(1.0 - 2.0*_v[1]*_v[1] - 2.0*_v[2]*_v[2], 2.0*_v[0]*_v[1] - 2.0*_v[2]*_v[3], 2.0*_v[0]*_v[2] + 2.0*_v[1]*_v[3]));\n        m.setRow(1, new Vector3(2.0*_v[0]*_v[1] + 2.0*_v[2]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[2]*_v[2], 2.0*_v[1]*_v[2] - 2.0*_v[0]*_v[3]));\n        m.setRow(2, new Vector3(2.0*_v[0]*_v[2] - 2.0*_v[1]*_v[3], 2.0*_v[1]*_v[2] + 2.0*_v[0]*_v[3], 1.0 - 2.0*_v[0]*_v[0] - 2.0*_v[1]*_v[1]));\n        return m;\n    }\n}","\n// TODO: Import packages here\nimport utils from \"./js/utils\";\nimport app from \"./js/app\";\nimport base from \"./js/base\";\nimport math from \"./js/math\"\n\nconst bg = {\n    utils,\n    app,\n    base,\n    math\n}\n\nexport default bg;\n\n\n\n\n","\nimport {\n    Axis,\n    PI,\n    DEG_TO_RAD,\n    RAD_TO_DEG,\n    PI_2,\n    PI_4,\n    PI_8,\n    TWO_PI,\n    EPSILON,\n    NumericArray,\n    NumericArrayHighP,\n    FLOAT_MAX\n } from \"./constants\";\n\n import {\n    checkPowerOfTwo,\n    checkZero,\n    equals,\n    degreesToRadians,\n    radiansToDegrees,\n    sin,\n    cos,\n    tan,\n    cotan,\n    atan,\n    atan2,\n    random,\n    seededRandom,\n    max,\n    min,\n    abs,\n    sqrt,\n    lerp,\n    square\n } from \"./functions\";\n\nimport {\n    Vector,\n    Vector2,\n    Vector3,\n    Vector4,\n    Size2D,\n    Size3D,\n    Position2D,\n    Viewport,\n    Color\n} from \"./Vector\";\n\nimport Bounds from \"./Bounds\";\nimport Quaternion from \"./Quaternion\";\nimport Matrix3 from \"./Matrix3\";\nimport Matrix4 from \"./Matrix4\";\n\nconst math = {\n    Axis,\n    PI,\n    DEG_TO_RAD,\n    RAD_TO_DEG,\n    PI_2,\n    PI_4,\n    PI_8,\n    TWO_PI,\n    EPSILON,\n    NumericArray,\n    NumericArrayHighP,\n    FLOAT_MAX,\n    checkPowerOfTwo,\n    checkZero,\n    equals,\n    degreesToRadians,\n    radiansToDegrees,\n    sin,\n    cos,\n    tan,\n    cotan,\n    atan,\n    atan2,\n    random,\n    seededRandom,\n    max,\n    min,\n    abs,\n    sqrt,\n    lerp,\n    square,\n    Vector,\n    Vector2,\n    Vector3,\n    Vector4,\n    Size2D,\n    Size3D,\n    Position2D,\n    Viewport,\n    Color,\n    Bounds,\n    Quaternion,\n    Matrix3,\n    Matrix4\n}\n\nexport default math;\n","\nexport default class Electron {\n    get isElectronApp() {\n        return (typeof module !== \"undefined\" && module.exports && true) || false;\n    }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"0f670139fc44daab623c\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbg2e\"] = self[\"webpackChunkbg2e\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(463);\n"],"names":["root","factory","exports","module","define","amd","self","inProgress","dataWebpackPrefix","setupRequestAnimFrame","window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","initWebGLContext","canvas","context","gl","supported","experimental","getContext","preserveDrawingBuffer","e","uuid","Symbol","UserAgent","userAgentString","this","system","browser","navigator","userAgent","parseOperatingSystem","parseBrowser","OSX","test","Windows","iPhone","iPodTouch","iPad","iOS","Android","Linux","OSName","parseOSXVersion","parseWindowsVersion","parseLinuxVersion","parseIOSVersion","parseAndroidVersion","Version","Safari","Name","Vendor","versionString","RegExp","$1","Chrome","Opera","Firefox","Edge","result","exec","Explorer","re","matches","version","IsMobileVersion","MobileSafari","parseBrowserVersion","major","Number","minor","$2","revision","$3","stringValue","name","Path","a","b","lastIndexOf","sep","length","path","split","pop","join","s_bg_utils_preventImageDump","s_bg_utils_preventVideoDump","beginImageLoad","img","push","endImageLoad","index","indexOf","splice","beginVideoLoad","video","endVideoLoad","ResourceProvider","url","onSuccess","onFail","onProgress","onSucces","_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","constructor","value","writable","configurable","defineProperty","_typeof","obj","iterator","_possibleConstructorReturn","call","ReferenceError","_getPrototypeOf","getPrototypeOf","s_bg_utils_videoLoaders","document","createElement","crossOrigin","autoplay","setAttribute","addEventListener","evt","target","Error","src","HTTPResourceProvider","req","XMLHttpRequest","progress","console","log","file","loaded","total","open","status","Image","event","bg","utils","generateUUID","ext","Resource","GetExtension","loader","GetVideoLoaderForType","apply","type","keys","videoUrl","GetCompatibleVideoFormats","g_resourceProvider","IMG_LOAD_EVENT_NAME","emitImageLoadEvent","CustomEvent","image","dispatchEvent","bindImageLoadEvent","provider","match","toLowerCase","formats","find","fmt","IsFormat","binaryFormats","videoFormats","urlArray","progressFiles","progressFunc","key","fileList","resources","forEach","Load","resolvingPromises","map","promise","Promise","resolve","payload","Array","then","error","all","loadedData","pl","LoadMultiple","IsImage","LoadImage","IsBinary","LoadBinary","IsVideo","LoadVideo","LoadJson","LoadText","reject","getRequest","responseText","send","loadVideo","err","response","responseType","loadImage","JSON","parse","s_bg_utils_Engine","Engine","_shaderLibrary","inputs","functions","_engineId","_texture","_pipeline","_polyList","_shader","_colorBuffer","_textureBuffer","_shaderSource","_cubemapCapture","_textureMerger","engine","LifeCycle","delta","pipeline","matrixState","modelMatrixStack","viewMatrixStack","projectionMatrixStack","renderQueue","width","height","frames","app","MainLoop","singleton","postRedisplay","postReshape","r","t","n","s","v","w","substring","i","A","f","d","charCodeAt","C","h","c","g","y","u","l","Int32Array","I","md5","String","fromCharCode","slice","global","isBigEndian","arr32","Uint32Array","Uint8Array","buffer","isLittleEndian","requireGlobal","async","getElementsByTagName","appendChild","Date","getTime","performance","now","replace","Math","random","floor","toString","electron","Electron","Canvas","domElem","_domElem","style","MozUserSelect","WebkitUserSelect","_multisample","_context","ms","clientWidth","clientHeight","format","canvasStyle","prevSize","domElement","cssText","data","toDataURL","ContextObject","EventBase","_executeDefault","_defineProperty","enumerable","SpecialKey","BACKSPACE","TAB","ENTER","SHIFT","SHIFT_LEFT","SHIFT_RIGHT","CTRL","CTRL_LEFT","KeyboardEvent","IsSpecialKey","code","MouseButton","LEFT","MIDDLE","RIGHT","NONE","MouseEvent","button","x","TouchEvent","touches","s_bg_app_mouseStatus","leftButton","middleButton","rightButton","pos","get","Mouse","anyButton","s_bg_app_mainLoop","lastTime","animationLoop","totalTime","elapsedTime","elapsed","redisplay","windowController","frame","updateMode","_redisplayFrames","display","onResize","multisample","reshape","onMouseMove","offset","getBoundingClientRect","SetPosition","clientX","left","clientY","top","multisampl","mouseMove","AnyButton","mouseDrag","getTouchEvent","touch","identifier","force","rotationAngle","radiusX","radiusY","_canvas","_windowController","_updateMode","m","s_mouseStatus","init","Position","SetLeftButton","SetMiddleButton","SetRightButton","bgEvent","mouseDown","onMouseDown","executeDefault","preventDefault","bgEvt","mouseOut","LeftButton","mouseUp","MiddleButton","RightButton","onMouseUp","touchStart","touchMove","touchEnd","mouseWheelEvt","wheelDelta","detail","mouseWheel","keyCode","keyDown","keyUp","oncontextmenu","initEvents","WindowController","ShaderType","VERTEX","FRAGMENT","s_bg_base_activeShader","Shader","Get","shader","_linked","_compileError","_linkError","_compileErrorSource","shaderType","shaderSource","addShaderSource","line","link","setActive","g_window","ClearActive","inputBufferVars","valueVars","initVars","vbo","itemSize","setInputBuffer","disableInputBuffer","setValueInt","setValueIntPtr","setValueFloat","setValueFloatPtr","setValueVector2","setValueVector3","setValueVector4","setValueVector2v","setValueVector3v","setValueVector4v","traspose","setValueMatrix3","setValueMatrix4","texture","textureUnit","setTexture","warn","Effect","_inputVars","_shaders","sourceArray","append","shaderIndex","inputAttribs","inputVars","source","params","param","role","compileError","compileErrorSource","linkError","beginDraw","clearActive","plist","vertex","vertexBuffer","normal","normalBuffer","tex0","texCoord0Buffer","tex1","texCoord1Buffer","tex2","texCoord2Buffer","color","colorBuffer","tangent","tangentBuffer","setupVars","asyncGeneratorStep","gen","_next","_throw","arg","info","done","LoaderPlugin","fn","args","arguments","undefined","loadUrl","extraData","accept","Loader","LoadData","extendedData","loadUrlArray","promises","itemUrl","loadData","loadedResults","resolvedData","selectedPlugin","s_loaderPlugins","some","plugin","acceptType","load","s_bg_base_loaderPlugins","isArray","Axis","X","Y","Z","axis","W","PI","DEG_TO_RAD","RAD_TO_DEG","EPSILON","NumericArray","Float32Array","NumericArrayHighP","Vector","_v","magnitude","v1","v2","min","Vector2","Vector3","Vector4","other","scale","sqrt","isNaN","z","Size2D","Size3D","Position2D","Viewport","Color","Matrix3","v00","v01","v02","v10","v11","v12","v20","v21","v22","_m","assign","row","rx","normalize","ry","rz","r0","r1","r2","setRow","rm","lm","res","vec","s_bg_math_seed","checkPowerOfTwo","checkZero","sin","val","fround","cos","tan","seededRandom","Matrix4","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","getScale","fovy","aspect","nearPlane","farPlane","Perspective","right","bottom","Frustum","Ortho","origin","up","LookAt","mult","Translation","alpha","Rotation","Scale","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","zero","r3","dir","direction","trx","multVector","xyz","transformDirection","get23","get22","get13","get11","get03","get00","near","get12","get02","depth","mvMat","pMat","viewport","mvp","invert","vin","set","fovy2","fovy2aspect","B","k","p_eye","p_center","p_up","Identity","dot","cosAlpha","acosAlpha","sinAlpha","BufferType","NORMAL","TEX_COORD_0","TEX_COORD_1","TEX_COORD_2","COLOR","TANGENT","INDEX","DrawMode","TRIANGLES","TRIANGLE_FAN","TRIANGLE_STRIP","LINES","LINE_STRIP","PolyList","_plist","_drawMode","_name","_groupName","_visible","_visibleToShadows","_vertex","_normal","_texCoord0","_texCoord1","_texCoord2","_color","_tangent","_index","pl2","copy","dst","item","groupName","visible","visibleToShadows","drawMode","texCoord0","texCoord1","texCoord2","texCoord02","build","tex0Buffer","tex1Buffer","tex2Buffer","indexBuffer","bufferType","newData","polyList","update","plistImpl","destroy","generatedIndexes","invalidUV","v0i","v1i","v2i","t0i","t1i","t2i","v0","t0","t1","t2","edge1","sub","edge2","deltaU1","deltaV1","deltaU2","deltaV2","den","createTangents","draw","transform","rotation","getMatrix3","s_shaderLibrary","defineAll","Reflect","_all","ShaderLibrary","library","shaderLibrary","matrix","model","view","projection","material","lighting","lightingForward","shadows","colorCorrection","materials","pbr","_arrayLikeToArray","arr","len","arr2","_toConsumableArray","iter","from","minLen","ShaderSource","_type","_params","_functions","_requiredExtensions","_header","_preprocessor","func","body","addFunction","returnType","impl","header","parameter","lines","minTabs","tabsInLine","diff","s_bg_base_textureCache","COLOR_TEXTURE_SIZE","s_whiteTexture","s_blackTexture","s_normalTexture","s_randomTexture","s_whiteCubemap","s_blackCubemap","TextureCache","_textures","Texture","size","cache","tex","WhiteCubemap","register","BlackCubemap","WhiteTexture","BlackTexture","NormalTexture","RandomTexture","PrecomputedBRDFLookupTexture","s_bg_base_textureLoaderPlugin_wrapX","s_bg_base_textureLoaderPlugin_wrapY","s_bg_base_textureLoaderPlugin_minFilter","s_bg_base_textureLoaderPlugin_magFilter","TextureLoaderPlugin","bind","wrapX","GetWrapX","wrapY","GetWrapY","minFilter","GetMinFilter","magFilter","GetMagFilter","setImage","fileName","TextureWrap","REPEAT","TextureFilter","LINEAR_MIPMAP_NEAREST","LINEAR","CLAMP","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR","NEAREST","TextureTarget","TEXTURE_2D","CUBE_MAP","POSITIVE_X_FACE","NEGATIVE_X_FACE","POSITIVE_Y_FACE","NEGATIVE_Y_FACE","POSITIVE_Z_FACE","NEGATIVE_Z_FACE","TextureDataType","IMAGE","IMAGE_DATA","CUBEMAP","CUBEMAP_DATA","VIDEO","s_bg_base_base64TexturePreventRemove","_fileName","_size","_target","_minFilter","_magFilter","_wrapX","_wrapY","_video","_image","_imageData","_cubeMapImages","_cubeMapData","Unbind","flipY","setTextureWrapX","setTextureWrapY","RGBA","UNSIGNED_BYTE","setImageRaw","posX","negX","posY","negY","posZ","negZ","setTextureFilter","setCubemapImage","setCubemapRaw","videoWidth","videoHeight","setVideo","updateVideoData","canvas2d","FromBase64Image","valid","imageData","IsPowerOfTwoImage","unbind","imgData","colorTexture","dataSize","textureData","ColorTexture","White","ColorCubemap","Black","cm","randVector","brdf","debug","lib","TextureEffect","_frame","rebuildShaders","setupShaderSource","vertexShaderSource","fragmentShaderSource","_vertexShaderSource","addParameter","buffers","dataType","id","setMainBody","_fragmentShaderSource","surface","_surface","bindPolyList","DIFFUSE","SPECULAR","SHININESS","LIGHT_EMISSION","REFRACTION_AMOUNT","REFLECTION_AMOUNT","TEXTURE","LIGHT_MAP","NORMAL_MAP","TEXTURE_OFFSET","TEXTURE_SCALE","LIGHT_MAP_OFFSET","LIGHT_MAP_SCALE","NORMAL_MAP_OFFSET","NORMAL_MAP_SCALE","CAST_SHADOWS","RECEIVE_SHADOWS","ALPHA_CUTOFF","SHININESS_MASK","SHININESS_MASK_CHANNEL","SHININESS_MASK_INVERT","LIGHT_EMISSION_MASK","LIGHT_EMISSION_MASK_CHANNEL","LIGHT_EMISSION_MASK_INVERT","REFLECTION_MASK","REFLECTION_MASK_CHANNEL","REFLECTION_MASK_INVERT","CULL_FACE","ROUGHNESS","UNLIT","MaterialModifier","jsonData","_modifierFlags","_diffuse","_specular","_shininess","_lightEmission","_refractionAmount","_reflectionAmount","_lightmap","_normalMap","_textureOffset","_textureScale","_lightmapOffset","_lightmapScale","_normalMapOffset","_normalMapScale","_castShadows","_receiveShadows","_alphaCutoff","_shininessMask","_shininessMaskChannel","_shininessMaskInvert","_lightEmissionMask","_lightEmissionMaskChannel","_lightEmissionMaskInvert","_reflectionMask","_reflectionMaskChannel","_reflectionMaskInvert","_cullFace","_roughness","_roughnessMask","_roughnessMaskChannel","_roughnessMaskInvert","_unlit","diffuseR","diffuseG","diffuseB","diffuse","diffuseA","specularR","specularG","specularB","specular","specularA","shininess","lightEmission","refractionAmount","reflectionAmount","lightmap","normalMap","textureOffsetX","textureOffsetY","textureOffset","textureScaleX","textureScaleY","textureScale","lightmapOffsetX","lightmapOffsetY","lightmapOffset","lightmapScaleX","lightmapScaleY","lightmapScale","normalMapScaleX","normalMapScaleY","normalMapScale","normalMapOffsetX","normalMapOffsetY","normalMapOffset","castShadows","receiveShadows","alphaCutoff","shininessMask","shininessMaskChannel","invertShininessMask","shininessMaskInvert","lightEmissionMask","lightEmissionMaskChannel","invertLightEmissionMask","lightEmissionMaskInvert","reflectionMask","reflectionMaskChannel","invertReflectionMask","reflectionMaskInvert","roughness","roughnessMask","roughnessMaskChannel","invertRoughnessMask","roughnessMaskInvert","unlit","flag","newVal","setEnabled","MaterialFlag","mod","mask","cullFace","loadTexture","FromImage","channelVector","channel","readVector","Material","_selectMode","ligthmapOffset","tryadd","mat","resourcePath","isEnabled","getTexture","modifierMask","modifierFlags","getPath","lightEmissionMaskInver","def","basePath","description","texPromises","readTexture","mergePath","textures","images","Bg2matLoaderPlugin","matData","FromMaterialDefinition","VideoTextureLoaderPlugin","base","s_bg_base_imageTools","base64Images","imageTools","isAbsolutePath","mergePaths","component","texturePath","texData","property","hash","fullPath","TextureUnit","TEXTURE_0","TEXTURE_1","TEXTURE_2","TEXTURE_3","TEXTURE_4","TEXTURE_5","TEXTURE_6","TEXTURE_7","TEXTURE_8","TEXTURE_9","TEXTURE_10","TEXTURE_11","TEXTURE_12","TEXTURE_13","TEXTURE_14","TEXTURE_15","TEXTURE_16","TEXTURE_17","TEXTURE_18","TEXTURE_19","TEXTURE_20","TEXTURE_21","TEXTURE_22","TEXTURE_23","TEXTURE_24","TEXTURE_25","TEXTURE_26","TEXTURE_27","TEXTURE_28","TEXTURE_29","TEXTURE_30","Bounds","back","front","abs","Quaternion","lenght","clone","initWithMatrix3","initWithMatrix4","initWithValues","q","w4","math","PI_2","PI_4","PI_8","TWO_PI","FLOAT_MAX","equals","degreesToRadians","radiansToDegrees","cotan","atan","atan2","j","atan2f","max","lerp","to","square","runtime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","object","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","chunkId","reduce","hmd","children","prop","script","needAttach","scripts","getAttribute","charset","timeout","nc","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","head","scriptUrl","importScripts","location","currentScript","installedChunks","installedChunkData","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","chunkLoadingGlobal"],"sourceRoot":""}